import{b as J,g as Wr,r as m,c as kl,d as tv,R as mj,j as a,t as D,u as rv,a as pj,e as vj}from"./index-DlgfZxrT.js";import{l as Pe,m as Ee,n as Qn,o as gj,u as Bn,P as yt,p as De,q as Zt,r as nv,s as La,t as yj,v as Zu,w as Se,x as av,y as xj,z as bj,R as jj,D as wj,E as Cj,F as Nj,G as ov,H as iv,J as sv,C as fe,a as ge,b as ye,d as he,K as cv,M as Pj,N as Sj,O as Ej,Q as Oj,T as Tj,L as I,I as R,B as z,S as Me,g as Re,h as $e,i as Fe,j as se,U as Aj,V as Ij,W as _j,X as kj,Y as Mj,k as Bt,e as jo,A as Rj,f as $j,c as Fj}from"./auth.service-BPAazZtu.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],qn=Pe("building-2",Bj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],lv=Pe("building",Dj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qu=Pe("calendar",Lj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qj=Pe("chart-column",zj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pa=Pe("chevron-left",Uj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sa=Pe("chevron-right",Vj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],si=Pe("credit-card",Wj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rr=Pe("dollar-sign",Kj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ef=Pe("download",Gj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tf=Pe("eye",Hj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fr=Pe("file-text",Yj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xj=Pe("funnel",Jj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Po=Pe("house",Zj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rf=Pe("list",Qj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qe=Pe("loader-circle",ew);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rw=Pe("log-out",tw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M5 12h14",key:"1ays0h"}]],nf=Pe("minus",nw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],dv=Pe("percent",aw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kr=Pe("plus",ow);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qt=Pe("search",iw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qr=Pe("square-pen",sw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],En=Pe("trash-2",cw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],dw=Pe("trending-down",lw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wo=Pe("trending-up",uw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hw=Pe("upload",fw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bt=Pe("user",mw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vw=Pe("users",pw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ml=Pe("x",gw);class yw{static async getContratosAtivos(){try{return await J("/contratos-ativos",{method:"GET"})}catch(t){throw console.error("Erro ao buscar contratos ativos:",t),t}}}class xw{static async getDashboard(){try{return await J("/dashboard",{method:"GET"})}catch(t){throw console.error("Erro ao buscar dados do dashboard:",t),t}}}class bw{static async getReceitasDespesasAnual(){try{return await J("/receitas-despesas-anual",{method:"GET"})}catch(t){throw console.error("Erro ao buscar receitas e despesas anuais:",t),t}}}var Zi={},Qi={},af;function jw(){return af||(af=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Qi)),Qi}var es={},of;function uv(){return of||(of=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(es)),es}var ts={},sf;function fv(){return sf||(sf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(ts)),ts}var rs={},cf;function Rl(){return cf||(cf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],o=r.length;if(o===0)return n;let i=0,s="",c="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<o;){const d=r[i];c?d==="\\"&&i+1<o?(i++,s+=r[i]):d===c?c="":s+=d:l?d==='"'||d==="'"?c=d:d==="]"?(l=!1,n.push(s),s=""):s+=d:d==="["?(l=!0,s&&(n.push(s),s="")):d==="."?s&&(n.push(s),s=""):s+=d,i++}return s&&n.push(s),n}e.toPath=t})(rs)),rs}var lf;function $l(){return lf||(lf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jw(),r=uv(),n=fv(),o=Rl();function i(c,l,d){if(c==null)return d;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return d;const u=c[l];return u===void 0?r.isDeepKey(l)?i(c,o.toPath(l),d):d:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=c[l];return u===void 0?d:u}default:{if(Array.isArray(l))return s(c,l,d);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return d;const u=c[l];return u===void 0?d:u}}}function s(c,l,d){if(l.length===0)return d;let u=c;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return d;u=u[l[f]]}return u===void 0?d:u}e.get=i})(Zi)),Zi}var ns,df;function ww(){return df||(df=1,ns=$l().get),ns}var Cw=ww();const jn=Wr(Cw);var as={exports:{}},Ne={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function Nw(){if(uf)return Ne;uf=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(v){if(typeof v=="object"&&v!==null){var y=v.$$typeof;switch(y){case e:switch(v=v.type,v){case r:case o:case n:case l:case d:case h:return v;default:switch(v=v&&v.$$typeof,v){case s:case c:case f:case u:return v;case i:return v;default:return y}}case t:return y}}}return Ne.ContextConsumer=i,Ne.ContextProvider=s,Ne.Element=e,Ne.ForwardRef=c,Ne.Fragment=r,Ne.Lazy=f,Ne.Memo=u,Ne.Portal=t,Ne.Profiler=o,Ne.StrictMode=n,Ne.Suspense=l,Ne.SuspenseList=d,Ne.isContextConsumer=function(v){return g(v)===i},Ne.isContextProvider=function(v){return g(v)===s},Ne.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Ne.isForwardRef=function(v){return g(v)===c},Ne.isFragment=function(v){return g(v)===r},Ne.isLazy=function(v){return g(v)===f},Ne.isMemo=function(v){return g(v)===u},Ne.isPortal=function(v){return g(v)===t},Ne.isProfiler=function(v){return g(v)===o},Ne.isStrictMode=function(v){return g(v)===n},Ne.isSuspense=function(v){return g(v)===l},Ne.isSuspenseList=function(v){return g(v)===d},Ne.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===o||v===n||v===l||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===u||v.$$typeof===s||v.$$typeof===i||v.$$typeof===c||v.$$typeof===p||v.getModuleId!==void 0)},Ne.typeOf=g,Ne}var ff;function Pw(){return ff||(ff=1,as.exports=Nw()),as.exports}var Sw=Pw(),Lt=e=>e===0?0:e>0?1:-1,Ut=e=>typeof e=="number"&&e!=+e,un=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ae=e=>(typeof e=="number"||e instanceof Number)&&!Ut(e),ir=e=>ae(e)||typeof e=="string",Ew=0,Ea=e=>{var t=++Ew;return"".concat(e||"").concat(t)},Ur=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(t)&&typeof t!="string")return n;var i;if(un(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ut(i)&&(i=n),o&&r!=null&&i>r&&(i=r),i},hv=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ua(e,t,r){return ae(e)&&ae(t)?e+r*(t-e):t}function mv(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):jn(n,t))===r)}var Ge=e=>e===null||typeof e>"u",za=e=>Ge(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Ow=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Fl(e){if(typeof e!="string")return!1;var t=Ow;return t.includes(e)}var Tw=["viewBox","children"],hf=["points","pathLength"],os={svg:Tw,polygon:hf,polyline:hf},Bl=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(o=>{Fl(o)&&(n[o]=(i=>r[o](r,i)))}),n},Aw=(e,t,r)=>n=>(e(t,r,n),null),pv=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(o=>{var i=e[o];Fl(o)&&typeof i=="function"&&(n||(n={}),n[o]=Aw(i,t,r))}),n},Iw=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function vv(e){if(typeof e!="string")return!1;var t=Iw;return t.includes(e)}function ea(e){var t=Object.entries(e).filter(r=>{var[n]=r;return vv(n)});return Object.fromEntries(t)}var mf=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",pf=null,is=null,gv=e=>{if(e===pf&&Array.isArray(is))return is;var t=[];return m.Children.forEach(e,r=>{Ge(r)||(Sw.isFragment(r)?t=t.concat(gv(r.props.children)):t.push(r))}),is=t,pf=e,t};function yv(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(o=>mf(o)):n=[mf(t)],gv(e).forEach(o=>{var i=jn(o,"type.displayName")||jn(o,"type.name");n.indexOf(i)!==-1&&r.push(o)}),r}var xv=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_w=(e,t,r,n)=>{var o;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(o=n&&os?.[n])!==null&&o!==void 0?o:[],s=t.startsWith("data-"),c=typeof e!="function"&&(!!n&&i.includes(t)||vv(t)),l=!!r&&Fl(t);return s||c||l},Qe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(m.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var o={};return Object.keys(n).forEach(i=>{var s;_w((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(o[i]=n[i])}),o},kw=["children","width","height","viewBox","className","style","title","desc"];function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(null,arguments)}function Mw(e,t){if(e==null)return{};var r,n,o=Rw(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Rw(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dl=m.forwardRef((e,t)=>{var{children:r,width:n,height:o,viewBox:i,className:s,style:c,title:l,desc:d}=e,u=Mw(e,kw),f=i||{width:n,height:o,x:0,y:0},h=Ee("recharts-surface",s);return m.createElement("svg",Rc({},Qe(u,!0,"svg"),{className:h,width:n,height:o,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),m.createElement("title",null,l),m.createElement("desc",null,d),r)}),$w=["children","className"];function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(null,arguments)}function Fw(e,t){if(e==null)return{};var r,n,o=Bw(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Bw(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Un=m.forwardRef((e,t)=>{var{children:r,className:n}=e,o=Fw(e,$w),i=Ee("recharts-layer",n);return m.createElement("g",$c({className:i},Qe(o,!0),{ref:t}),r)}),bv=m.createContext(null),Dw=()=>m.useContext(bv);function Ae(e){return function(){return e}}const jv=Math.cos,So=Math.sin,Qt=Math.sqrt,Eo=Math.PI,ci=2*Eo,Fc=Math.PI,Bc=2*Fc,cn=1e-6,Lw=Bc-cn;function wv(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zw(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wv;const r=10**t;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class qw{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wv:zw(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,i,s){this._append`C${+t},${+r},${+n},${+o},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,o,i){if(t=+t,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,l=n-t,d=o-r,u=s-t,f=c-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>cn)if(!(Math.abs(f*l-d*u)>cn)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=o-c,v=l*l+d*d,y=p*p+g*g,x=Math.sqrt(v),b=Math.sqrt(h),j=i*Math.tan((Fc-Math.acos((v+h-y)/(2*x*b)))/2),E=j/b,S=j/x;Math.abs(E-1)>cn&&this._append`L${t+E*u},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*p>u*g)},${this._x1=t+S*l},${this._y1=r+S*d}`}}arc(t,r,n,o,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(o),l=n*Math.sin(o),d=t+c,u=r+l,f=1^s,h=s?o-i:i-o;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>cn||Math.abs(this._y1-u)>cn)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%Bc+Bc),h>Lw?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>cn&&this._append`A${n},${n},0,${+(h>=Fc)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function Ll(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qw(t)}function zl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cv(e){this._context=e}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function li(e){return new Cv(e)}function Nv(e){return e[0]}function Pv(e){return e[1]}function Sv(e,t){var r=Ae(!0),n=null,o=li,i=null,s=Ll(c);e=typeof e=="function"?e:e===void 0?Nv:Ae(e),t=typeof t=="function"?t:t===void 0?Pv:Ae(t);function c(l){var d,u=(l=zl(l)).length,f,h=!1,p;for(n==null&&(i=o(p=s())),d=0;d<=u;++d)!(d<u&&r(f=l[d],d,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,l),+t(f,d,l));if(p)return i=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ae(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ae(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ae(!!l),c):r},c.curve=function(l){return arguments.length?(o=l,n!=null&&(i=o(n)),c):o},c.context=function(l){return arguments.length?(l==null?n=i=null:i=o(n=l),c):n},c}function ao(e,t,r){var n=null,o=Ae(!0),i=null,s=li,c=null,l=Ll(d);e=typeof e=="function"?e:e===void 0?Nv:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Pv:Ae(+r);function d(f){var h,p,g,v=(f=zl(f)).length,y,x=!1,b,j=new Array(v),E=new Array(v);for(i==null&&(c=s(b=l())),h=0;h<=v;++h){if(!(h<v&&o(y=f[h],h,f))===x)if(x=!x)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=h-1;g>=p;--g)c.point(j[g],E[g]);c.lineEnd(),c.areaEnd()}x&&(j[h]=+e(y,h,f),E[h]=+t(y,h,f),c.point(n?+n(y,h,f):j[h],r?+r(y,h,f):E[h]))}if(b)return c=null,b+""||null}function u(){return Sv().defined(o).curve(s).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(o=typeof f=="function"?f:Ae(!!f),d):o},d.curve=function(f){return arguments.length?(s=f,i!=null&&(c=s(i)),d):s},d.context=function(f){return arguments.length?(f==null?i=c=null:c=s(i=f),d):i},d}class Ev{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Uw(e){return new Ev(e,!0)}function Vw(e){return new Ev(e,!1)}const ql={draw(e,t){const r=Qt(t/Eo);e.moveTo(r,0),e.arc(0,0,r,0,ci)}},Ww={draw(e,t){const r=Qt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ov=Qt(1/3),Kw=Ov*2,Gw={draw(e,t){const r=Qt(t/Kw),n=r*Ov;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Hw={draw(e,t){const r=Qt(t),n=-r/2;e.rect(n,n,r,r)}},Yw=.8908130915292852,Tv=So(Eo/10)/So(7*Eo/10),Jw=So(ci/10)*Tv,Xw=-jv(ci/10)*Tv,Zw={draw(e,t){const r=Qt(t*Yw),n=Jw*r,o=Xw*r;e.moveTo(0,-r),e.lineTo(n,o);for(let i=1;i<5;++i){const s=ci*i/5,c=jv(s),l=So(s);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*o,l*n+c*o)}e.closePath()}},ss=Qt(3),Qw={draw(e,t){const r=-Qt(t/(ss*3));e.moveTo(0,r*2),e.lineTo(-ss*r,-r),e.lineTo(ss*r,-r),e.closePath()}},Mt=-.5,Rt=Qt(3)/2,Dc=1/Qt(12),e1=(Dc/2+1)*3,t1={draw(e,t){const r=Qt(t/e1),n=r/2,o=r*Dc,i=n,s=r*Dc+r,c=-i,l=s;e.moveTo(n,o),e.lineTo(i,s),e.lineTo(c,l),e.lineTo(Mt*n-Rt*o,Rt*n+Mt*o),e.lineTo(Mt*i-Rt*s,Rt*i+Mt*s),e.lineTo(Mt*c-Rt*l,Rt*c+Mt*l),e.lineTo(Mt*n+Rt*o,Mt*o-Rt*n),e.lineTo(Mt*i+Rt*s,Mt*s-Rt*i),e.lineTo(Mt*c+Rt*l,Mt*l-Rt*c),e.closePath()}};function r1(e,t){let r=null,n=Ll(o);e=typeof e=="function"?e:Ae(e||ql),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function o(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return o.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),o):e},o.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),o):t},o.context=function(i){return arguments.length?(r=i??null,o):r},o}function Oo(){}function To(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Av(e){this._context=e}Av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:To(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:To(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n1(e){return new Av(e)}function Iv(e){this._context=e}Iv.prototype={areaStart:Oo,areaEnd:Oo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:To(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a1(e){return new Iv(e)}function _v(e){this._context=e}_v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:To(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o1(e){return new _v(e)}function kv(e){this._context=e}kv.prototype={areaStart:Oo,areaEnd:Oo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function i1(e){return new kv(e)}function vf(e){return e<0?-1:1}function gf(e,t,r){var n=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(n||o<0&&-0),s=(r-e._y1)/(o||n<0&&-0),c=(i*o+s*n)/(n+o);return(vf(i)+vf(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(c))||0}function yf(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cs(e,t,r){var n=e._x0,o=e._y0,i=e._x1,s=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,o+c*t,i-c,s-c*r,i,s)}function Ao(e){this._context=e}Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cs(this,this._t0,yf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cs(this,yf(this,r=gf(this,e,t)),r);break;default:cs(this,this._t0,r=gf(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Mv(e){this._context=new Rv(e)}(Mv.prototype=Object.create(Ao.prototype)).point=function(e,t){Ao.prototype.point.call(this,t,e)};function Rv(e){this._context=e}Rv.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,i){this._context.bezierCurveTo(t,e,n,r,i,o)}};function s1(e){return new Ao(e)}function c1(e){return new Mv(e)}function $v(e){this._context=e}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=xf(e),o=xf(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],o[0][i],n[1][i],o[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xf(e){var t,r=e.length-1,n,o=new Array(r),i=new Array(r),s=new Array(r);for(o[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(o[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(s[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function l1(e){return new $v(e)}function di(e,t){this._context=e,this._t=t}di.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function d1(e){return new di(e,.5)}function u1(e){return new di(e,0)}function f1(e){return new di(e,1)}function Vn(e,t){if((s=e.length)>1)for(var r=1,n,o,i=e[t[0]],s,c=i.length;r<s;++r)for(o=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function Lc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function h1(e,t){return e[t]}function m1(e){const t=[];return t.key=e,t}function p1(){var e=Ae([]),t=Lc,r=Vn,n=h1;function o(i){var s=Array.from(e.apply(this,arguments),m1),c,l=s.length,d=-1,u;for(const f of i)for(c=0,++d;c<l;++c)(s[c][d]=[0,+n(f,s[c].key,d,i)]).data=f;for(c=0,u=zl(t(s));c<l;++c)s[u[c]].index=c;return r(s,u),s}return o.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),o):e},o.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),o):n},o.order=function(i){return arguments.length?(t=i==null?Lc:typeof i=="function"?i:Ae(Array.from(i)),o):t},o.offset=function(i){return arguments.length?(r=i??Vn,o):r},o}function v1(e,t){if((n=e.length)>0){for(var r,n,o=0,i=e[0].length,s;o<i;++o){for(s=r=0;r<n;++r)s+=e[r][o][1]||0;if(s)for(r=0;r<n;++r)e[r][o][1]/=s}Vn(e,t)}}function g1(e,t){if((o=e.length)>0){for(var r=0,n=e[t[0]],o,i=n.length;r<i;++r){for(var s=0,c=0;s<o;++s)c+=e[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}Vn(e,t)}}function y1(e,t){if(!(!((s=e.length)>0)||!((i=(o=e[t[0]]).length)>0))){for(var r=0,n=1,o,i,s;n<i;++n){for(var c=0,l=0,d=0;c<s;++c){for(var u=e[t[c]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<c;++g){var v=e[t[g]],y=v[n][1]||0,x=v[n-1][1]||0;p+=y-x}l+=f,d+=p*f}o[n-1][1]+=o[n-1][0]=r,l&&(r-=d/l)}o[n-1][1]+=o[n-1][0]=r,Vn(e,t)}}var x1=["type","size","sizeType"];function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(null,arguments)}function bf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bf(Object(r),!0).forEach(function(n){b1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1(e,t,r){return(t=j1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j1(e){var t=w1(e,"string");return typeof t=="symbol"?t:t+""}function w1(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1(e,t){if(e==null)return{};var r,n,o=N1(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function N1(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fv={symbolCircle:ql,symbolCross:Ww,symbolDiamond:Gw,symbolSquare:Hw,symbolStar:Zw,symbolTriangle:Qw,symbolWye:t1},P1=Math.PI/180,S1=e=>{var t="symbol".concat(za(e));return Fv[t]||ql},E1=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*P1;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},O1=(e,t)=>{Fv["symbol".concat(za(e))]=t},Bv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,o=C1(e,x1),i=jf(jf({},o),{},{type:t,size:r,sizeType:n}),s=()=>{var f=S1(t),h=r1().type(f).size(E1(r,n,t));return h()},{className:c,cx:l,cy:d}=i,u=Qe(i,!0);return l===+l&&d===+d&&r===+r?m.createElement("path",zc({},u,{className:Ee("recharts-symbols",c),transform:"translate(".concat(l,", ").concat(d,")"),d:s()})):null};Bv.registerSymbol=O1;function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(null,arguments)}function wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function T1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wf(Object(r),!0).forEach(function(n){Ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ul(e,t,r){return(t=A1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A1(e){var t=I1(e,"string");return typeof t=="symbol"?t:t+""}function I1(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $t=32;class Vl extends m.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,o=$t/2,i=$t/6,s=$t/3,c=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return m.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:o,x2:$t,y2:o,className:"recharts-legend-icon"});if(l==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat($t,"M").concat(2*s,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(l==="rect")return m.createElement("path",{stroke:"none",fill:c,d:"M0,".concat($t/8,"h").concat($t,"v").concat($t*3/4,"h").concat(-$t,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var d=T1({},t);return delete d.legendIcon,m.cloneElement(t.legendIcon,d)}return m.createElement(Bv,{fill:c,cx:o,cy:o,size:$t,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:o,inactiveColor:i,iconType:s}=this.props,c={x:0,y:0,width:$t,height:$t},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||o,p=Ee({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?i:u.color,v=h?h(u.value,u,f):u.value;return m.createElement("li",qc({className:p,style:l,key:"legend-item-".concat(f)},pv(this.props,u,f)),m.createElement(Dl,{width:r,height:r,viewBox:c,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(u,s)),m.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}Ul(Vl,"displayName","Legend");Ul(Vl,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ls={},ds={},Cf;function _1(){return Cf||(Cf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const o=new Map;for(let i=0;i<r.length;i++){const s=r[i],c=n(s);o.has(c)||o.set(c,s)}return Array.from(o.values())}e.uniqBy=t})(ds)),ds}var us={},Nf;function Dv(){return Nf||(Nf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(us)),us}var fs={},hs={},ms={},Pf;function k1(){return Pf||(Pf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ms)),ms}var Sf;function Wl(){return Sf||(Sf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k1();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(hs)),hs}var ps={},Ef;function M1(){return Ef||(Ef=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ps)),ps}var Of;function R1(){return Of||(Of=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wl(),r=M1();function n(o){return r.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=n})(fs)),fs}var vs={},gs={},Tf;function $1(){return Tf||(Tf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$l();function r(n){return function(o){return t.get(o,n)}}e.property=r})(gs)),gs}var ys={},xs={},bs={},js={},Af;function Lv(){return Af||(Af=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(js)),js}var ws={},If;function zv(){return If||(If=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ws)),ws}var Cs={},_f;function Kl(){return _f||(_f=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Cs)),Cs}var kf;function F1(){return kf||(kf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gl(),r=Lv(),n=zv(),o=Kl();function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):s(f,h,function g(v,y,x,b,j,E){const S=p(v,y,x,b,j,E);return S!==void 0?!!S:s(v,y,g,E)},new Map)}function s(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return c(f,h,p,g);case"function":return Object.keys(h).length>0?s(f,{...h},p,g):o.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:o.eq(f,h)}}function c(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return d(f,h,p,g);if(h instanceof Map)return l(f,h,p,g);if(h instanceof Set)return u(f,h,p,g);const v=Object.keys(h);if(f==null)return v.length===0;if(v.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let y=0;y<v.length;y++){const x=v[y];if(!n.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!p(f[x],h[x],x,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function l(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,y]of h.entries()){const x=f.get(v);if(p(x,y,v,f,h,g)===!1)return!1}return!0}function d(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let y=0;y<h.length;y++){const x=h[y];let b=!1;for(let j=0;j<f.length;j++){if(v.has(j))continue;const E=f[j];let S=!1;if(p(E,x,y,f,h,g)&&(S=!0),S){v.add(j),b=!0;break}}if(!b)return!1}return!0}function u(f,h,p,g){return h.size===0?!0:f instanceof Set?d([...f],[...h],p,g):!1}e.isMatchWith=i,e.isSetMatch=u})(bs)),bs}var Mf;function Gl(){return Mf||(Mf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1();function r(n,o){return t.isMatchWith(n,o,()=>{})}e.isMatch=r})(xs)),xs}var Ns={},Ps={},Ss={},Rf;function qv(){return Rf||(Rf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ss)),Ss}var Es={},$f;function Hl(){return $f||($f=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Es)),Es}var Os={},Ff;function Yl(){return Ff||(Ff=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",o="[object Boolean]",i="[object Arguments]",s="[object Symbol]",c="[object Date]",l="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",v="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",E="[object BigUint64Array]",S="[object Int8Array]",T="[object Int16Array]",N="[object Int32Array]",C="[object BigInt64Array]",M="[object Float32Array]",F="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=E,e.booleanTag=o,e.dataViewTag=v,e.dateTag=c,e.errorTag=g,e.float32ArrayTag=M,e.float64ArrayTag=F,e.functionTag=f,e.int16ArrayTag=T,e.int32ArrayTag=N,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(Os)),Os}var Ts={},Bf;function B1(){return Bf||(Bf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ts)),Ts}var Df;function Uv(){return Df||(Df=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv(),r=Hl(),n=Yl(),o=zv(),i=B1();function s(u,f){return c(u,void 0,u,new Map,f)}function c(u,f,h,p=new Map,g=void 0){const v=g?.(u,f,h,p);if(v!==void 0)return v;if(o.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const y=new Array(u.length);p.set(u,y);for(let x=0;x<u.length;x++)y[x]=c(u[x],x,h,p,g);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;p.set(u,y);for(const[x,b]of u)y.set(x,c(b,x,h,p,g));return y}if(u instanceof Set){const y=new Set;p.set(u,y);for(const x of u)y.add(c(x,void 0,h,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,y);for(let x=0;x<u.length;x++)y[x]=c(u[x],x,h,p,g);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,y),l(y,u,h,p,g),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return p.set(u,y),l(y,u,h,p,g),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return p.set(u,y),l(y,u,h,p,g),y}if(u instanceof Error){const y=new u.constructor;return p.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,l(y,u,h,p,g),y}if(typeof u=="object"&&d(u)){const y=Object.create(Object.getPrototypeOf(u));return p.set(u,y),l(y,u,h,p,g),y}return u}function l(u,f,h=u,p,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<v.length;y++){const x=v[y],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=c(f[x],x,h,p,g))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=l})(Ps)),Ps}var Lf;function D1(){return Lf||(Lf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Ns)),Ns}var zf;function L1(){return zf||(zf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gl(),r=D1();function n(o){return o=r.cloneDeep(o),i=>t.isMatch(i,o)}e.matches=n})(ys)),ys}var As={},Is={},_s={},qf;function z1(){return qf||(qf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv(),r=Yl();function n(o,i){return t.cloneDeepWith(o,(s,c,l,d)=>{const u=i?.(s,c,l,d);if(u!==void 0)return u;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new o.constructor(o?.valueOf());return t.copyProperties(f,o),f}case r.argumentsTag:{const f={};return t.copyProperties(f,o),f.length=o.length,f[Symbol.iterator]=o[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(_s)),_s}var Uf;function q1(){return Uf||(Uf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Is)),Is}var ks={},Ms={},Vf;function Vv(){return Vf||(Vf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,o=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<o;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ms)),Ms}var Rs={},Wf;function U1(){return Wf||(Wf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hl();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rs)),Rs}var Kf;function V1(){return Kf||(Kf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uv(),r=Vv(),n=U1(),o=Rl();function i(s,c){let l;if(Array.isArray(c)?l=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?l=o.toPath(c):l=[c],l.length===0)return!1;let d=s;for(let u=0;u<l.length;u++){const f=l[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(ks)),ks}var Gf;function W1(){return Gf||(Gf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gl(),r=fv(),n=q1(),o=$l(),i=V1();function s(c,l){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return l=n.cloneDeep(l),function(d){const u=o.get(d,c);return u===void 0?i.has(d,c):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(As)),As}var Hf;function K1(){return Hf||(Hf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=$1(),n=L1(),o=W1();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?o.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(vs)),vs}var Yf;function G1(){return Yf||(Yf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1(),r=Dv(),n=R1(),o=K1();function i(s,c=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),o.iteratee(c)):[]}e.uniqBy=i})(ls)),ls}var $s,Jf;function H1(){return Jf||(Jf=1,$s=G1().uniqBy),$s}var Y1=H1();const Xf=Wr(Y1);function Wv(e,t,r){return t===!0?Xf(e,r):typeof t=="function"?Xf(e,t):e}var Fs={exports:{}},Bs={},Ds={exports:{}},Ls={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function J1(){if(Zf)return Ls;Zf=1;var e=kl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function c(f,h){var p=h(),g=n({inst:{value:p,getSnapshot:h}}),v=g[0].inst,y=g[1];return i(function(){v.value=p,v.getSnapshot=h,l(v)&&y({inst:v})},[f,p,h]),o(function(){return l(v)&&y({inst:v}),f(function(){l(v)&&y({inst:v})})},[f]),s(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function d(f,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Ls.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Ls}var Qf;function X1(){return Qf||(Qf=1,Ds.exports=J1()),Ds.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function Z1(){if(eh)return Bs;eh=1;var e=kl(),t=X1();function r(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,l=e.useDebugValue;return Bs.useSyncExternalStoreWithSelector=function(d,u,f,h,p){var g=i(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=c(function(){function x(T){if(!b){if(b=!0,j=T,T=h(T),p!==void 0&&v.hasValue){var N=v.value;if(p(N,T))return E=N}return E=T}if(N=E,n(j,T))return N;var C=h(T);return p!==void 0&&p(N,C)?(j=T,N):(j=T,E=C)}var b=!1,j,E,S=f===void 0?null:f;return[function(){return x(u())},S===null?void 0:function(){return x(S())}]},[u,f,h,p]);var y=o(d,g[0],g[1]);return s(function(){v.hasValue=!0,v.value=y},[y]),l(y),y},Bs}var th;function Q1(){return th||(th=1,Fs.exports=Z1()),Fs.exports}var eC=Q1(),Jl=m.createContext(null),tC=e=>e,lt=()=>{var e=m.useContext(Jl);return e?e.store.dispatch:tC},Co=()=>{},rC=()=>Co,nC=(e,t)=>e===t;function oe(e){var t=m.useContext(Jl);return eC.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:rC,t?t.store.getState:Co,t?t.store.getState:Co,t?e:Co,nC)}function aC(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function oC(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function iC(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var rh=e=>Array.isArray(e)?e:[e];function sC(e){const t=Array.isArray(e[0])?e[0]:e;return iC(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cC(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var lC=class{constructor(e){this.value=e}deref(){return this.value}},dC=typeof WeakRef<"u"?WeakRef:lC,uC=0,nh=1;function oo(){return{s:uC,v:void 0,o:null,p:null}}function Kv(e,t={}){let r=oo();const{resultEqualityCheck:n}=t;let o,i=0;function s(){let c=r;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=c.o;g===null&&(c.o=g=new WeakMap);const v=g.get(p);v===void 0?(c=oo(),g.set(p,c)):c=v}else{let g=c.p;g===null&&(c.p=g=new Map);const v=g.get(p);v===void 0?(c=oo(),g.set(p,c)):c=v}}const d=c;let u;if(c.s===nh)u=c.v;else if(u=e.apply(null,arguments),i++,n){const f=o?.deref?.()??o;f!=null&&n(f,u)&&(u=f,i!==0&&i--),o=typeof u=="object"&&u!==null||typeof u=="function"?new dC(u):u}return d.s=nh,d.v=u,u}return s.clearCache=()=>{r=oo(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function fC(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let i=0,s=0,c,l={},d=o.pop();typeof d=="object"&&(l=d,d=o.pop()),aC(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=Kv,argsMemoizeOptions:g=[]}=u,v=rh(h),y=rh(g),x=sC(o),b=f(function(){return i++,d.apply(null,arguments)},...v),j=p(function(){s++;const S=cC(x,arguments);return c=b.apply(null,S),c},...y);return Object.assign(j,{resultFunc:d,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var L=fC(Kv),hC=Object.assign((e,t=L)=>{oC(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,c,l)=>(s[r[l]]=c,s),{}))},{withTypes:()=>hC}),zs={},qs={},Us={},ah;function mC(){return ah||(ah=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,o,i)=>{if(n!==o){const s=t(n),c=t(o);if(s===c&&s===0){if(n<o)return i==="desc"?1:-1;if(n>o)return i==="desc"?-1:1}return i==="desc"?c-s:s-c}return 0};e.compareValues=r})(Us)),Us}var Vs={},Ws={},oh;function Gv(){return oh||(oh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ws)),Ws}var ih;function pC(){return ih||(ih=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=o})(Vs)),Vs}var sh;function vC(){return sh||(sh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC(),r=pC(),n=Rl();function o(i,s,c,l){if(i==null)return[];c=l?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const d=(p,g)=>{let v=p;for(let y=0;y<g.length&&v!=null;++y)v=v[g[y]];return v},u=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:d(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?d(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>u(g,p))})).slice().sort((p,g)=>{for(let v=0;v<f.length;v++){const y=t.compareValues(p.criteria[v],g.criteria[v],c[v]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=o})(qs)),qs}var Ks={},ch;function gC(){return ch||(ch=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const o=[],i=Math.floor(n),s=(c,l)=>{for(let d=0;d<c.length;d++){const u=c[d];Array.isArray(u)&&l<i?s(u,l+1):o.push(u)}};return s(r,0),o}e.flatten=t})(Ks)),Ks}var Gs={},lh;function Hv(){return lh||(lh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv(),r=Wl(),n=Lv(),o=Kl();function i(s,c,l){return n.isObject(l)&&(typeof c=="number"&&r.isArrayLike(l)&&t.isIndex(c)&&c<l.length||typeof c=="string"&&c in l)?o.eq(l[c],s):!1}e.isIterateeCall=i})(Gs)),Gs}var dh;function yC(){return dh||(dh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vC(),r=gC(),n=Hv();function o(i,...s){const c=s.length;return c>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:c>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=o})(zs)),zs}var Hs,uh;function xC(){return uh||(uh=1,Hs=yC().sortBy),Hs}var bC=xC();const ui=Wr(bC);var Yv=e=>e.legend.settings,jC=e=>e.legend.size,wC=e=>e.legend.payload,CC=L([wC,Yv],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ui(n,r):n});function NC(){return oe(CC)}var io=1;function Jv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(o=>{if(o!=null){var i=o.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>io||Math.abs(s.left-t.left)>io||Math.abs(s.top-t.top)>io||Math.abs(s.width-t.width)>io)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function it(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PC=typeof Symbol=="function"&&Symbol.observable||"@@observable",fh=PC,Ys=()=>Math.random().toString(36).substring(7).split("").join("."),SC={INIT:`@@redux/INIT${Ys()}`,REPLACE:`@@redux/REPLACE${Ys()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ys()}`},Io=SC;function Xl(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Xv(e,t,r){if(typeof e!="function")throw new Error(it(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(it(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(it(1));return r(Xv)(e,t)}let n=e,o=t,i=new Map,s=i,c=0,l=!1;function d(){s===i&&(s=new Map,i.forEach((y,x)=>{s.set(x,y)}))}function u(){if(l)throw new Error(it(3));return o}function f(y){if(typeof y!="function")throw new Error(it(4));if(l)throw new Error(it(5));let x=!0;d();const b=c++;return s.set(b,y),function(){if(x){if(l)throw new Error(it(6));x=!1,d(),s.delete(b),i=null}}}function h(y){if(!Xl(y))throw new Error(it(7));if(typeof y.type>"u")throw new Error(it(8));if(typeof y.type!="string")throw new Error(it(17));if(l)throw new Error(it(9));try{l=!0,o=n(o,y)}finally{l=!1}return(i=s).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(it(10));n=y,h({type:Io.REPLACE})}function g(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(it(11));function b(){const E=x;E.next&&E.next(u())}return b(),{unsubscribe:y(b)}},[fh](){return this}}}return h({type:Io.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[fh]:g}}function EC(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Io.INIT})>"u")throw new Error(it(12));if(typeof r(void 0,{type:Io.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(it(13))})}function Zv(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let o;try{EC(r)}catch(i){o=i}return function(s={},c){if(o)throw o;let l=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=s[f],g=h(p,c);if(typeof g>"u")throw c&&c.type,new Error(it(14));d[f]=g,l=l||g!==p}return l=l||n.length!==Object.keys(s).length,l?d:s}}function _o(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function OC(...e){return t=>(r,n)=>{const o=t(r,n);let i=()=>{throw new Error(it(15))};const s={getState:o.getState,dispatch:(l,...d)=>i(l,...d)},c=e.map(l=>l(s));return i=_o(...c)(o.dispatch),{...o,dispatch:i}}}function Qv(e){return Xl(e)&&"type"in e&&typeof e.type=="string"}var eg=Symbol.for("immer-nothing"),hh=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Yt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wn=Object.getPrototypeOf;function wn(e){return!!e&&!!e[It]}function br(e){return e?tg(e)||Array.isArray(e)||!!e[hh]||!!e.constructor?.[hh]||hi(e)||mi(e):!1}var TC=Object.prototype.constructor.toString();function tg(e){if(!e||typeof e!="object")return!1;const t=Wn(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===TC}function ko(e,t){fi(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function fi(e){const t=e[It];return t?t.type_:Array.isArray(e)?1:hi(e)?2:mi(e)?3:0}function Uc(e,t){return fi(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rg(e,t,r){const n=fi(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function AC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hi(e){return e instanceof Map}function mi(e){return e instanceof Set}function ln(e){return e.copy_||e.base_}function Vc(e,t){if(hi(e))return new Map(e);if(mi(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=tg(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[It];let o=Reflect.ownKeys(n);for(let i=0;i<o.length;i++){const s=o[i],c=n[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Wn(e),n)}else{const n=Wn(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function Zl(e,t=!1){return pi(e)||wn(e)||!br(e)||(fi(e)>1&&(e.set=e.add=e.clear=e.delete=IC),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Zl(n,!0))),e}function IC(){Yt(2)}function pi(e){return Object.isFrozen(e)}var _C={};function Cn(e){const t=_C[e];return t||Yt(0,e),t}var Oa;function ng(){return Oa}function kC(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mh(e,t){t&&(Cn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wc(e){Kc(e),e.drafts_.forEach(MC),e.drafts_=null}function Kc(e){e===Oa&&(Oa=e.parent_)}function ph(e){return Oa=kC(Oa,e)}function MC(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vh(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[It].modified_&&(Wc(t),Yt(4)),br(e)&&(e=Mo(t,e),t.parent_||Ro(t,e)),t.patches_&&Cn("Patches").generateReplacementPatches_(r[It].base_,e,t.patches_,t.inversePatches_)):e=Mo(t,r,[]),Wc(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eg?e:void 0}function Mo(e,t,r){if(pi(t))return t;const n=t[It];if(!n)return ko(t,(o,i)=>gh(e,n,t,o,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ro(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),ko(i,(c,l)=>gh(e,n,o,c,l,r,s)),Ro(e,o,!1),r&&e.patches_&&Cn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function gh(e,t,r,n,o,i,s){if(wn(o)){const c=i&&t&&t.type_!==3&&!Uc(t.assigned_,n)?i.concat(n):void 0,l=Mo(e,o,c);if(rg(r,n,l),wn(l))e.canAutoFreeze_=!1;else return}else s&&r.add(o);if(br(o)&&!pi(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Mo(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ro(e,o)}}function Ro(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zl(t,r)}function RC(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ng(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=Ql;r&&(o=[n],i=Ta);const{revoke:s,proxy:c}=Proxy.revocable(o,i);return n.draft_=c,n.revoke_=s,c}var Ql={get(e,t){if(t===It)return e;const r=ln(e);if(!Uc(r,t))return $C(e,r,t);const n=r[t];return e.finalized_||!br(n)?n:n===Js(e.base_,t)?(Xs(e),e.copy_[t]=Hc(n,e)):n},has(e,t){return t in ln(e)},ownKeys(e){return Reflect.ownKeys(ln(e))},set(e,t,r){const n=ag(ln(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=Js(ln(e),t),i=o?.[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(AC(r,o)&&(r!==void 0||Uc(e.base_,t)))return!0;Xs(e),Gc(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Js(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xs(e),Gc(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ln(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yt(11)},getPrototypeOf(e){return Wn(e.base_)},setPrototypeOf(){Yt(12)}},Ta={};ko(Ql,(e,t)=>{Ta[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ta.deleteProperty=function(e,t){return Ta.set.call(this,e,t,void 0)};Ta.set=function(e,t,r){return Ql.set.call(this,e[0],t,r,e[0])};function Js(e,t){const r=e[It];return(r?ln(r):e)[t]}function $C(e,t,r){const n=ag(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function ag(e,t){if(!(t in e))return;let r=Wn(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wn(r)}}function Gc(e){e.modified_||(e.modified_=!0,e.parent_&&Gc(e.parent_))}function Xs(e){e.copy_||(e.copy_=Vc(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FC=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(l=i,...d){return s.produce(l,u=>r.call(this,u,...d))}}typeof r!="function"&&Yt(6),n!==void 0&&typeof n!="function"&&Yt(7);let o;if(br(t)){const i=ph(this),s=Hc(t,void 0);let c=!0;try{o=r(s),c=!1}finally{c?Wc(i):Kc(i)}return mh(i,n),vh(o,i)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===eg&&(o=void 0),this.autoFreeze_&&Zl(o,!0),n){const i=[],s=[];Cn("Patches").generateReplacementPatches_(t,o,i,s),n(i,s)}return o}else Yt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,l=>t(l,...c));let n,o;return[this.produce(t,r,(s,c)=>{n=s,o=c}),n,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){br(e)||Yt(8),wn(e)&&(e=pr(e));const t=ph(this),r=Hc(e,void 0);return r[It].isManual_=!0,Kc(t),r}finishDraft(e,t){const r=e&&e[It];(!r||!r.isManual_)&&Yt(9);const{scope_:n}=r;return mh(n,t),vh(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=Cn("Patches").applyPatches_;return wn(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Hc(e,t){const r=hi(e)?Cn("MapSet").proxyMap_(e,t):mi(e)?Cn("MapSet").proxySet_(e,t):RC(e,t);return(t?t.scope_:ng()).drafts_.push(r),r}function pr(e){return wn(e)||Yt(10,e),og(e)}function og(e){if(!br(e)||pi(e))return e;const t=e[It];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Vc(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Vc(e,!0);return ko(r,(n,o)=>{rg(r,n,og(o))}),t&&(t.finalized_=!1),r}var _t=new FC,ig=_t.produce;_t.produceWithPatches.bind(_t);_t.setAutoFreeze.bind(_t);_t.setUseStrictShallowCopy.bind(_t);_t.applyPatches.bind(_t);_t.createDraft.bind(_t);_t.finishDraft.bind(_t);function sg(e){return({dispatch:r,getState:n})=>o=>i=>typeof i=="function"?i(r,n,e):o(i)}var BC=sg(),DC=sg,LC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_o:_o.apply(null,arguments)};function Vt(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(At(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Qv(n)&&n.type===e,r}var cg=class ba extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ba.prototype)}static get[Symbol.species](){return ba}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ba(...t[0].concat(this)):new ba(...t.concat(this))}};function yh(e){return br(e)?ig(e,()=>{}):e}function so(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function zC(e){return typeof e=="boolean"}var qC=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let s=new cg;return r&&(zC(r)?s.push(BC):s.push(DC(r.extraArgument))),s},UC="RTK_autoBatch",xh=e=>t=>{setTimeout(t,e)},VC=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,i=!1,s=!1;const c=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xh(10):e.type==="callback"?e.queueNotification:xh(e.timeout),d=()=>{s=!1,i&&(i=!1,c.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>o&&u(),h=n.subscribe(f);return c.add(u),()=>{h(),c.delete(u)}},dispatch(u){try{return o=!u?.meta?.[UC],i=!o,i&&(s||(s=!0,l(d))),n.dispatch(u)}finally{o=!0}}})},WC=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new cg(e);return n&&o.push(VC(typeof n=="object"?n:void 0)),o};function KC(e){const t=qC(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Xl(r))c=Zv(r);else throw new Error(At(1));let l;typeof n=="function"?l=n(t):l=t();let d=_o;o&&(d=LC({trace:!1,...typeof o=="object"&&o}));const u=OC(...l),f=WC(u);let h=typeof s=="function"?s(f):f();const p=d(...h);return Xv(c,i,p)}function lg(e){const t={},r=[];let n;const o={addCase(i,s){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(At(28));if(c in t)throw new Error(At(29));return t[c]=s,o},addMatcher(i,s){return r.push({matcher:i,reducer:s}),o},addDefaultCase(i){return n=i,o}};return e(o),[t,r,n]}function GC(e){return typeof e=="function"}function HC(e,t){let[r,n,o]=lg(t),i;if(GC(e))i=()=>yh(e());else{const c=yh(e);i=()=>c}function s(c=i(),l){let d=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[o]),d.reduce((u,f)=>{if(f)if(wn(u)){const p=f(u,l);return p===void 0?u:p}else{if(br(u))return ig(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},c)}return s.getInitialState=i,s}var YC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JC=(e=21)=>{let t="",r=e;for(;r--;)t+=YC[Math.random()*64|0];return t},XC=Symbol.for("rtk-slice-createasyncthunk");function ZC(e,t){return`${e}/${t}`}function QC({creators:e}={}){const t=e?.asyncThunk?.[XC];return function(n){const{name:o,reducerPath:i=o}=n;if(!o)throw new Error(At(11));const s=(typeof n.reducers=="function"?n.reducers(tN()):n.reducers)||{},c=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,E){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(At(12));if(S in l.sliceCaseReducersByType)throw new Error(At(13));return l.sliceCaseReducersByType[S]=E,d},addMatcher(j,E){return l.sliceMatchers.push({matcher:j,reducer:E}),d},exposeAction(j,E){return l.actionCreators[j]=E,d},exposeCaseReducer(j,E){return l.sliceCaseReducersByName[j]=E,d}};c.forEach(j=>{const E=s[j],S={reducerName:j,type:ZC(o,j),createNotation:typeof n.reducers=="function"};nN(E)?oN(S,E,d,t):rN(S,E,d)});function u(){const[j={},E=[],S=void 0]=typeof n.extraReducers=="function"?lg(n.extraReducers):[n.extraReducers],T={...j,...l.sliceCaseReducersByType};return HC(n.initialState,N=>{for(let C in T)N.addCase(C,T[C]);for(let C of l.sliceMatchers)N.addMatcher(C.matcher,C.reducer);for(let C of E)N.addMatcher(C.matcher,C.reducer);S&&N.addDefaultCase(S)})}const f=j=>j,h=new Map,p=new WeakMap;let g;function v(j,E){return g||(g=u()),g(j,E)}function y(){return g||(g=u()),g.getInitialState()}function x(j,E=!1){function S(N){let C=N[j];return typeof C>"u"&&E&&(C=so(p,S,y)),C}function T(N=f){const C=so(h,E,()=>new WeakMap);return so(C,N,()=>{const M={};for(const[F,P]of Object.entries(n.selectors??{}))M[F]=eN(P,N,()=>so(p,N,y),E);return M})}return{reducerPath:j,getSelectors:T,get selectors(){return T(S)},selectSlice:S}}const b={name:o,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...x(i),injectInto(j,{reducerPath:E,...S}={}){const T=E??i;return j.inject({reducerPath:T,reducer:v},S),{...b,...x(T,!0)}}};return b}}function eN(e,t,r,n){function o(i,...s){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...s)}return o.unwrapped=e,o}var kt=QC();function tN(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function rN({type:e,reducerName:t,createNotation:r},n,o){let i,s;if("reducer"in n){if(r&&!aN(n))throw new Error(At(17));i=n.reducer,s=n.prepare}else i=n;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Vt(e,s):Vt(e))}function nN(e){return e._reducerDefinitionType==="asyncThunk"}function aN(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oN({type:e,reducerName:t},r,n,o){if(!o)throw new Error(At(18));const{payloadCreator:i,fulfilled:s,pending:c,rejected:l,settled:d,options:u}=r,f=o(e,i,u);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),c&&n.addCase(f.pending,c),l&&n.addCase(f.rejected,l),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:s||co,pending:c||co,rejected:l||co,settled:d||co})}function co(){}var iN="task",dg="listener",ug="completed",ed="cancelled",sN=`task-${ed}`,cN=`task-${ug}`,Yc=`${dg}-${ed}`,lN=`${dg}-${ug}`,vi=class{constructor(e){this.code=e,this.message=`${iN} ${ed} (reason: ${e})`}name="TaskAbortError";message},td=(e,t)=>{if(typeof e!="function")throw new TypeError(At(32))},$o=()=>{},fg=(e,t=$o)=>(e.catch(t),e),hg=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vn=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},gn=e=>{if(e.aborted){const{reason:t}=e;throw new vi(t)}};function mg(e,t){let r=$o;return new Promise((n,o)=>{const i=()=>o(new vi(e.reason));if(e.aborted){i();return}r=hg(e,i),t.finally(()=>r()).then(n,o)}).finally(()=>{r=$o})}var dN=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof vi?"cancelled":"rejected",error:r}}finally{t?.()}},Fo=e=>t=>fg(mg(e,t).then(r=>(gn(e),r))),pg=e=>{const t=Fo(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Dn}=Object,bh={},gi="listenerMiddleware",uN=(e,t)=>{const r=n=>hg(e,()=>vn(n,e.reason));return(n,o)=>{td(n);const i=new AbortController;r(i);const s=dN(async()=>{gn(e),gn(i.signal);const c=await n({pause:Fo(i.signal),delay:pg(i.signal),signal:i.signal});return gn(i.signal),c},()=>vn(i,cN));return o?.autoJoin&&t.push(s.catch($o)),{result:Fo(e)(s),cancel(){vn(i,sN)}}}},fN=(e,t)=>{const r=async(n,o)=>{gn(t);let i=()=>{};const c=[new Promise((l,d)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),d()}})];o!=null&&c.push(new Promise(l=>setTimeout(l,o,null)));try{const l=await mg(t,Promise.race(c));return gn(t),l}finally{i()}};return(n,o)=>fg(r(n,o))},vg=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:i}=e;if(t)o=Vt(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(At(21));return td(i),{predicate:o,type:t,effect:i}},gg=Dn(e=>{const{type:t,predicate:r,effect:n}=vg(e);return{id:JC(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(At(22))}}},{withTypes:()=>gg}),jh=(e,t)=>{const{type:r,effect:n,predicate:o}=vg(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===o)&&i.effect===n)},Jc=e=>{e.pending.forEach(t=>{vn(t,Yc)})},hN=e=>()=>{e.forEach(Jc),e.clear()},wh=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},yg=Dn(Vt(`${gi}/add`),{withTypes:()=>yg}),mN=Vt(`${gi}/removeAll`),xg=Dn(Vt(`${gi}/remove`),{withTypes:()=>xg}),pN=(...e)=>{console.error(`${gi}/error`,...e)},qa=(e={})=>{const t=new Map,{extra:r,onError:n=pN}=e;td(n);const o=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f?.cancelActive&&Jc(u)}),i=u=>{const f=jh(t,u)??gg(u);return o(f)};Dn(i,{withTypes:()=>i});const s=u=>{const f=jh(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Jc(f)),!!f};Dn(s,{withTypes:()=>s});const c=async(u,f,h,p)=>{const g=new AbortController,v=fN(i,g.signal),y=[];try{u.pending.add(g),await Promise.resolve(u.effect(f,Dn({},h,{getOriginalState:p,condition:(x,b)=>v(x,b).then(Boolean),take:v,delay:pg(g.signal),pause:Fo(g.signal),extra:r,signal:g.signal,fork:uN(g.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((x,b,j)=>{x!==g&&(vn(x,Yc),j.delete(x))})},cancel:()=>{vn(g,Yc),u.pending.delete(g)},throwIfCancelled:()=>{gn(g.signal)}})))}catch(x){x instanceof vi||wh(n,x,{raisedBy:"effect"})}finally{await Promise.all(y),vn(g,lN),u.pending.delete(g)}},l=hN(t);return{middleware:u=>f=>h=>{if(!Qv(h))return f(h);if(yg.match(h))return i(h.payload);if(mN.match(h)){l();return}if(xg.match(h))return s(h.payload);let p=u.getState();const g=()=>{if(p===bh)throw new Error(At(23));return p};let v;try{if(v=f(h),t.size>0){const y=u.getState(),x=Array.from(t.values());for(const b of x){let j=!1;try{j=b.predicate(h,y,p)}catch(E){j=!1,wh(n,E,{raisedBy:"predicate"})}j&&c(b,h,u,g)}}}finally{p=bh}return v},startListening:i,stopListening:s,clearListeners:l}};function At(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vN={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bg=kt({name:"chartLayout",initialState:vN,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:gN,setLayout:yN,setChartSize:xN,setScale:bN}=bg.actions,jN=bg.reducer;function Ch(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ch(Object(r),!0).forEach(function(n){wN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ch(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wN(e,t,r){return(t=CN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CN(e){var t=NN(e,"string");return typeof t=="symbol"?t:t+""}function NN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bo=Math.PI/180,PN=e=>e*180/Math.PI,ct=(e,t,r,n)=>({x:e+Math.cos(-Bo*n)*r,y:t+Math.sin(-Bo*n)*r}),SN=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},EN=(e,t)=>{var{x:r,y:n}=e,{x:o,y:i}=t;return Math.sqrt((r-o)**2+(n-i)**2)},ON=(e,t)=>{var{x:r,y:n}=e,{cx:o,cy:i}=t,s=EN({x:r,y:n},{x:o,y:i});if(s<=0)return{radius:s,angle:0};var c=(r-o)/s,l=Math.acos(c);return n>i&&(l=2*Math.PI-l),{radius:s,angle:PN(l),angleInRadian:l}},TN=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),o=Math.floor(r/360),i=Math.min(n,o);return{startAngle:t-i*360,endAngle:r-i*360}},AN=(e,t)=>{var{startAngle:r,endAngle:n}=t,o=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(o,i);return e+s*360},IN=(e,t)=>{var{x:r,y:n}=e,{radius:o,angle:i}=ON({x:r,y:n},t),{innerRadius:s,outerRadius:c}=t;if(o<s||o>c||o===0)return null;var{startAngle:l,endAngle:d}=TN(t),u=i,f;if(l<=d){for(;u>d;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=d}else{for(;u>l;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=l}return f?Nh(Nh({},t),{},{radius:o,angle:AN(u,t)}):null};function jg(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ph(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ph(Object(r),!0).forEach(function(n){_N(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ph(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _N(e,t,r){return(t=kN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kN(e){var t=MN(e,"string");return typeof t=="symbol"?t:t+""}function MN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vt(e,t,r){return Ge(e)||Ge(t)?r:ir(t)?jn(e,t,r):typeof t=="function"?t(e):r}var RN=(e,t,r,n,o)=>{var i,s=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var l=0;l<c;l++){var d=l>0?r[l-1].coordinate:r[c-1].coordinate,u=r[l].coordinate,f=l>=c-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Lt(u-d)!==Lt(f-u)){var p=[];if(Lt(f-u)===Lt(o[1]-o[0])){h=f;var g=u+o[1]-o[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{h=d;var v=f+o[1]-o[0];p[0]=Math.min(u,(v+u)/2),p[1]=Math.max(u,(v+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:s}=r[l]);break}}else{var x=Math.min(d,f),b=Math.max(d,f);if(e>(x+u)/2&&e<=(b+u)/2){({index:s}=r[l]);break}}}else if(t){for(var j=0;j<c;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:s}=t[j]);break}}return s},$N=(e,t,r)=>{if(t&&r){var{width:n,height:o}=r,{align:i,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&i!=="center"&&ae(e[i]))return Dt(Dt({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&s!=="middle"&&ae(e[s]))return Dt(Dt({},e),{},{[s]:e[s]+(o||0)})}return e},Gr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",wg=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var o,i,s=e.map(c=>(c.coordinate===t&&(o=!0),c.coordinate===r&&(i=!0),c.coordinate));return o||s.push(t),i||s.push(r),s},Cg=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:o,range:i,scale:s,realScaleType:c,isCategorical:l,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var g=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=o==="category"&&s.bandwidth?s.bandwidth()/g:0;if(v=p==="angleAxis"&&i&&i.length>=2?Lt(i[0]-i[1])*2*v:v,f||h){var y=(f||h||[]).map((x,b)=>{var j=n?n.indexOf(x):x;return{coordinate:s(j)+v,value:x,offset:v,index:b}});return y.filter(x=>!Ut(x.coordinate))}return l&&d?d.map((x,b)=>({coordinate:s(x)+v,value:x,index:b,offset:v})):s.ticks&&u!=null?s.ticks(u).map((x,b)=>({coordinate:s(x)+v,value:x,offset:v,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+v,value:n?n[x]:x,index:b,offset:v}))},Sh=1e-4,FN=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),o=Math.min(n[0],n[1])-Sh,i=Math.max(n[0],n[1])+Sh,s=e(t[0]),c=e(t[r-1]);(s<o||s>i||c<o||c>i)&&e.domain([t[0],t[r-1]])}},BN=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,i=0,s=0;s<t;++s){var c=Ut(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=o,e[s][r][1]=o+c,o=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+c,i=e[s][r][1])}},DN=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,i=0;i<t;++i){var s=Ut(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},LN={sign:BN,expand:v1,none:Vn,silhouette:g1,wiggle:y1,positive:DN},zN=(e,t,r)=>{var n=LN[r],o=p1().keys(t).value((i,s)=>+vt(i,s,0)).order(Lc).offset(n);return o(e)};function Eh(e){var{axis:t,ticks:r,bandSize:n,entry:o,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ge(o[t.dataKey])){var c=mv(r,"value",o[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=vt(o,Ge(s)?t.dataKey:s);return Ge(l)?null:t.scale(l)}var qN=e=>{var t=e.flat(2).filter(ae);return[Math.min(...t),Math.max(...t)]},UN=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VN=(e,t,r)=>{if(e!=null)return UN(Object.keys(e).reduce((n,o)=>{var i=e[o],{stackedData:s}=i,c=s.reduce((l,d)=>{var u=jg(d,t,r),f=qN(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},Oh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Th=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var o=ui(t,u=>u.coordinate),i=1/0,s=1,c=o.length;s<c;s++){var l=o[s],d=o[s-1];i=Math.min((l.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Ah(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:o,name:i}=e;return Dt(Dt({},t),{},{dataKey:r,payload:n,value:o,name:i})}function Ng(e,t){if(e)return String(e);if(typeof t=="string")return t}function WN(e,t,r,n,o){if(r==="horizontal"||r==="vertical"){var i=e>=o.left&&e<=o.left+o.width&&t>=o.top&&t<=o.top+o.height;return i?{x:e,y:t}:null}return n?IN({x:e,y:t},n):null}var KN=(e,t,r,n)=>{var o=t.find(d=>d&&d.index===r);if(o){if(e==="horizontal")return{x:o.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:o.coordinate};if(e==="centric"){var i=o.coordinate,{radius:s}=n;return Dt(Dt(Dt({},n),ct(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var c=o.coordinate,{angle:l}=n;return Dt(Dt(Dt({},n),ct(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}return{x:0,y:0}},GN=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Pr=e=>e.layout.width,Sr=e=>e.layout.height,HN=e=>e.layout.scale,Pg=e=>e.layout.margin,rd=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nd=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),YN="data-recharts-item-index",JN="data-recharts-item-data-key",yi=60;function Ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(r),!0).forEach(function(n){XN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ih(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XN(e,t,r){return(t=ZN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZN(e){var t=QN(e,"string");return typeof t=="symbol"?t:t+""}function QN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eP=e=>e.brush.height,dt=L([Pr,Sr,Pg,eP,rd,nd,Yv,jC],(e,t,r,n,o,i,s,c)=>{var l=i.reduce((g,v)=>{var{orientation:y}=v;if(!v.mirror&&!v.hide){var x=typeof v.width=="number"?v.width:yi;return _r(_r({},g),{},{[y]:g[y]+x})}return g},{left:r.left||0,right:r.right||0}),d=o.reduce((g,v)=>{var{orientation:y}=v;return!v.mirror&&!v.hide?_r(_r({},g),{},{[y]:jn(g,"".concat(y))+v.height}):g},{top:r.top||0,bottom:r.bottom||0}),u=_r(_r({},d),l),f=u.bottom;u.bottom+=n,u=$N(u,s,c);var h=e-u.left-u.right,p=t-u.top-u.bottom;return _r(_r({brushBottom:f},u),{},{width:Math.max(h,0),height:Math.max(p,0)})}),tP=L(dt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Sg=L(Pr,Sr,(e,t)=>({x:0,y:0,width:e,height:t})),rP=m.createContext(null),Kt=()=>m.useContext(rP)!=null,xi=e=>e.brush,bi=L([xi,dt,Pg],(e,t,r)=>({height:e.height,x:ae(e.x)?e.x:t.left,y:ae(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ae(e.width)?e.width:t.width})),ad=()=>{var e,t=Kt(),r=oe(tP),n=oe(bi),o=(e=oe(xi))===null||e===void 0?void 0:e.padding;return!t||!n||!o?r:{width:n.width-o.left-o.right,height:n.height-o.top-o.bottom,x:o.left,y:o.top}},nP={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Eg=()=>{var e;return(e=oe(dt))!==null&&e!==void 0?e:nP},od=()=>oe(Pr),id=()=>oe(Sr),aP={top:0,right:0,bottom:0,left:0},oP=()=>{var e;return(e=oe(t=>t.layout.margin))!==null&&e!==void 0?e:aP},_e=e=>e.layout.layoutType,sd=()=>oe(_e),iP={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Og=kt({name:"legend",initialState:iP,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=pr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:_h,setLegendSettings:sP,addLegendPayload:cP,removeLegendPayload:lP}=Og.actions,dP=Og.reducer,uP=["contextPayload"];function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}function kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(r),!0).forEach(function(n){cd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cd(e,t,r){return(t=fP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fP(e){var t=hP(e,"string");return typeof t=="symbol"?t:t+""}function hP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mP(e,t){if(e==null)return{};var r,n,o=pP(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function pP(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vP(e){return e.value}function gP(e){var{contextPayload:t}=e,r=mP(e,uP),n=Wv(t,e.payloadUniqBy,vP),o=Kn(Kn({},r),{},{payload:n});return m.isValidElement(e.content)?m.cloneElement(e.content,o):typeof e.content=="function"?m.createElement(e.content,o):m.createElement(Vl,o)}function yP(e,t,r,n,o,i){var{layout:s,align:c,verticalAlign:l}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?d={left:((n||0)-i.width)/2}:d=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((o||0)-i.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Kn(Kn({},d),u)}function xP(e){var t=lt();return m.useEffect(()=>{t(sP(e))},[t,e]),null}function bP(e){var t=lt();return m.useEffect(()=>(t(_h(e)),()=>{t(_h({width:0,height:0}))}),[t,e]),null}function jP(e){var t=NC(),r=Dw(),n=oP(),{width:o,height:i,wrapperStyle:s,portal:c}=e,[l,d]=Jv([t]),u=od(),f=id(),h=u-(n.left||0)-(n.right||0),p=ji.getWidthOrHeight(e.layout,i,o,h),g=c?s:Kn(Kn({position:"absolute",width:p?.width||o||"auto",height:p?.height||i||"auto"},yP(s,e,n,u,f,l)),s),v=c??r;if(v==null)return null;var y=m.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},m.createElement(xP,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),m.createElement(bP,{width:l.width,height:l.height}),m.createElement(gP,Zc({},e,p,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return tv.createPortal(y,v)}class ji extends m.PureComponent{static getWidthOrHeight(t,r,n,o){return t==="vertical"&&ae(r)?{height:r}:t==="horizontal"?{width:n||o}:null}render(){return m.createElement(jP,this.props)}}cd(ji,"displayName","Legend");cd(ji,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(null,arguments)}function Mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wP(e,t,r){return(t=CP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CP(e){var t=NP(e,"string");return typeof t=="symbol"?t:t+""}function NP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PP(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var SP=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:o={},payload:i,formatter:s,itemSorter:c,wrapperClassName:l,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var S={padding:0,margin:0},T=(c?ui(i,c):i).map((N,C)=>{if(N.type==="none")return null;var M=N.formatter||s||PP,{value:F,name:P}=N,O=F,$=P;if(M){var K=M(F,P,N,C,i);if(Array.isArray(K))[O,$]=K;else if(K!=null)O=K;else return null}var Y=Zs({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Y},ir($)?m.createElement("span",{className:"recharts-tooltip-item-name"},$):null,ir($)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},O),m.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:S},T)}return null},g=Zs({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Zs({margin:0},o),y=!Ge(u),x=y?u:"",b=Ee("recharts-default-tooltip",l),j=Ee("recharts-tooltip-label",d);y&&f&&i!==void 0&&i!==null&&(x=f(u,i));var E=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",Qc({className:b,style:g},E),m.createElement("p",{className:j,style:v},m.isValidElement(x)?x:"".concat(x)),p())},fa="recharts-tooltip-wrapper",EP={visibility:"hidden"};function OP(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ee(fa,{["".concat(fa,"-right")]:ae(r)&&t&&ae(t.x)&&r>=t.x,["".concat(fa,"-left")]:ae(r)&&t&&ae(t.x)&&r<t.x,["".concat(fa,"-bottom")]:ae(n)&&t&&ae(t.y)&&n>=t.y,["".concat(fa,"-top")]:ae(n)&&t&&ae(t.y)&&n<t.y})}function Rh(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:o,position:i,reverseDirection:s,tooltipDimension:c,viewBox:l,viewBoxDimension:d}=e;if(i&&ae(i[n]))return i[n];var u=r[n]-c-(o>0?o:0),f=r[n]+o;if(t[n])return s[n]?u:f;var h=l[n];if(h==null)return 0;if(s[n]){var p=u,g=h;return p<g?Math.max(f,h):Math.max(u,h)}if(d==null)return 0;var v=f+c,y=h+d;return v>y?Math.max(u,h):Math.max(f,h)}function TP(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function AP(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:o,reverseDirection:i,tooltipBox:s,useTranslate3d:c,viewBox:l}=e,d,u,f;return s.height>0&&s.width>0&&r?(u=Rh({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:o,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Rh({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:o,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),d=TP({translateX:u,translateY:f,useTranslate3d:c})):d=EP,{cssProperties:d,cssClasses:OP({translateX:u,translateY:f,coordinate:r})}}function $h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$h(Object(r),!0).forEach(function(n){el(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$h(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function el(e,t,r){return(t=IP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=_P(e,"string");return typeof t=="symbol"?t:t+""}function _P(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kP extends m.PureComponent{constructor(){super(...arguments),el(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),el(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,o,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(o=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:o,children:i,coordinate:s,hasPayload:c,isAnimationActive:l,offset:d,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:v,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:j}=AP({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),E=x?{}:lo(lo({transition:l&&t?"transform ".concat(n,"ms ").concat(o):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),S=lo(lo({},E),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:y},i)}}var MP=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ua={isSsr:MP()},Tg=()=>oe(e=>e.rootProps.accessibilityLayer);function Xt(e){return Number.isFinite(e)}function Do(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(null,arguments)}function Fh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(r),!0).forEach(function(n){RP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RP(e,t,r){return(t=$P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $P(e){var t=FP(e,"string");return typeof t=="symbol"?t:t+""}function FP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dh={curveBasisClosed:a1,curveBasisOpen:o1,curveBasis:n1,curveBumpX:Uw,curveBumpY:Vw,curveLinearClosed:i1,curveLinear:li,curveMonotoneX:s1,curveMonotoneY:c1,curveNatural:l1,curveStep:d1,curveStepAfter:f1,curveStepBefore:u1},uo=e=>Xt(e.x)&&Xt(e.y),ha=e=>e.x,ma=e=>e.y,BP=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(za(e));return(r==="curveMonotone"||r==="curveBump")&&t?Dh["".concat(r).concat(t==="vertical"?"Y":"X")]:Dh[r]||li},DP=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:o,connectNulls:i=!1}=e,s=BP(t,o),c=i?r.filter(uo):r,l;if(Array.isArray(n)){var d=i?n.filter(f=>uo(f)):n,u=c.map((f,h)=>Bh(Bh({},f),{},{base:d[h]}));return o==="vertical"?l=ao().y(ma).x1(ha).x0(f=>f.base.x):l=ao().x(ha).y1(ma).y0(f=>f.base.y),l.defined(uo).curve(s),l(u)}return o==="vertical"&&ae(n)?l=ao().y(ma).x1(ha).x0(n):ae(n)?l=ao().x(ha).y1(ma).y0(n):l=Sv().x(ha).y(ma),l.defined(uo).curve(s),l(c)},Ag=e=>{var{className:t,points:r,path:n,pathRef:o}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?DP(e):n;return m.createElement("path",tl({},ea(e),Bl(e),{className:Ee("recharts-curve",t),d:i===null?void 0:i,ref:o}))},LP=["x","y","top","left","width","height","className"];function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(null,arguments)}function Lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function zP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(r),!0).forEach(function(n){qP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qP(e,t,r){return(t=UP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UP(e){var t=VP(e,"string");return typeof t=="symbol"?t:t+""}function VP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WP(e,t){if(e==null)return{};var r,n,o=KP(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function KP(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GP=(e,t,r,n,o,i)=>"M".concat(e,",").concat(o,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),HP=e=>{var{x:t=0,y:r=0,top:n=0,left:o=0,width:i=0,height:s=0,className:c}=e,l=WP(e,LP),d=zP({x:t,y:r,top:n,left:o,width:i,height:s},l);return!ae(t)||!ae(r)||!ae(i)||!ae(s)||!ae(n)||!ae(o)?null:m.createElement("path",rl({},Qe(d,!0),{className:Ee("recharts-cross",c),d:GP(t,r,i,s,n,o)}))};function YP(e,t,r,n){var o=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-o,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zh(Object(r),!0).forEach(function(n){XP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XP(e,t,r){return(t=ZP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZP(e){var t=QP(e,"string");return typeof t=="symbol"?t:t+""}function QP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var r=JP({},e),n=t,o=Object.keys(t),i=o.reduce((s,c)=>(s[c]===void 0&&n[c]!==void 0&&(s[c]=n[c]),s),r);return i}var Qs={},ec={},tc={},qh;function eS(){return qh||(qh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(tc)),tc}var Uh;function tS(){return Uh||(Uh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS(),r=qv(),n=Hl(),o=Yl(),i=Kl();function s(d,u,f){return c(d,u,void 0,void 0,void 0,void 0,f)}function c(d,u,f,h,p,g,v){const y=v(d,u,f,h,p,g);if(y!==void 0)return y;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return l(d,u,g,v)}return l(d,u,g,v)}function l(d,u,f,h){if(Object.is(d,u))return!0;let p=n.getTag(d),g=n.getTag(u);if(p===o.argumentsTag&&(p=o.objectTag),g===o.argumentsTag&&(g=o.objectTag),p!==g)return!1;switch(p){case o.stringTag:return d.toString()===u.toString();case o.numberTag:{const x=d.valueOf(),b=u.valueOf();return i.eq(x,b)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(d.valueOf(),u.valueOf());case o.regexpTag:return d.source===u.source&&d.flags===u.flags;case o.functionTag:return d===u}f=f??new Map;const v=f.get(d),y=f.get(u);if(v!=null&&y!=null)return v===u;f.set(d,u),f.set(u,d);try{switch(p){case o.mapTag:{if(d.size!==u.size)return!1;for(const[x,b]of d.entries())if(!u.has(x)||!c(b,u.get(x),x,d,u,f,h))return!1;return!0}case o.setTag:{if(d.size!==u.size)return!1;const x=Array.from(d.values()),b=Array.from(u.values());for(let j=0;j<x.length;j++){const E=x[j],S=b.findIndex(T=>c(E,T,void 0,d,u,f,h));if(S===-1)return!1;b.splice(S,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let x=0;x<d.length;x++)if(!c(d[x],u[x],x,d,u,f,h))return!1;return!0}case o.arrayBufferTag:return d.byteLength!==u.byteLength?!1:l(new Uint8Array(d),new Uint8Array(u),f,h);case o.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:l(new Uint8Array(d),new Uint8Array(u),f,h);case o.errorTag:return d.name===u.name&&d.message===u.message;case o.objectTag:{if(!(l(d.constructor,u.constructor,f,h)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const b=[...Object.keys(d),...r.getSymbols(d)],j=[...Object.keys(u),...r.getSymbols(u)];if(b.length!==j.length)return!1;for(let E=0;E<b.length;E++){const S=b[E],T=d[S];if(!Object.hasOwn(u,S))return!1;const N=u[S];if(!c(T,N,S,d,u,f,h))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}e.isEqualWith=s})(ec)),ec}var rc={},Vh;function rS(){return Vh||(Vh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(rc)),rc}var Wh;function nS(){return Wh||(Wh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS(),r=rS();function n(o,i){return t.isEqualWith(o,i,r.noop)}e.isEqual=n})(Qs)),Qs}var nc,Kh;function aS(){return Kh||(Kh=1,nc=nS().isEqual),nc}var oS=aS();const iS=Wr(oS);var Lo=1e-4,Ig=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_g=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Gh=(e,t)=>r=>{var n=Ig(e,t);return _g(n,r)},sS=(e,t)=>r=>{var n=Ig(e,t),o=[...n.map((i,s)=>i*s).slice(1),0];return _g(o,r)},Hh=function(){for(var t,r,n,o,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,n,r,o]=[0,0,1,1];break;case"ease":[t,n,r,o]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,o]=[.42,0,1,1];break;case"ease-out":[t,n,r,o]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,o]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,o]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([t,n,r,o]=s);var d=Gh(t,r),u=Gh(n,o),f=sS(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var v=g>1?1:g,y=v,x=0;x<8;++x){var b=d(y)-v,j=f(y);if(Math.abs(b-v)<Lo||j<Lo)return u(y);y=h(y-b/j)}return u(y)};return p.isStepper=!1,p},cS=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:o=17}=t,i=(s,c,l)=>{var d=-(s-c)*r,u=l*n,f=l+(d-u)*o/1e3,h=l*o/1e3+s;return Math.abs(h-c)<Lo&&Math.abs(f)<Lo?[c,0]:[h,f]};return i.isStepper=!0,i.dt=o,i},kg=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hh(e);case"spring":return cS();default:if(e.split("(")[0]==="cubic-bezier")return Hh(e)}return typeof e=="function"?e:null};function Yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(r),!0).forEach(function(n){lS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lS(e,t,r){return(t=dS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dS(e){var t=uS(e,"string");return typeof t=="symbol"?t:t+""}function uS(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fS=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hS=(e,t,r)=>e.map(n=>"".concat(fS(n)," ").concat(t,"ms ").concat(r)).join(","),mS=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(o=>n.includes(o))),Aa=(e,t)=>Object.keys(t).reduce((r,n)=>Jh(Jh({},r),{},{[n]:e(n,t[n])}),{});function Xh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xh(Object(r),!0).forEach(function(n){pS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pS(e,t,r){return(t=vS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vS(e){var t=gS(e,"string");return typeof t=="symbol"?t:t+""}function gS(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zo=(e,t,r)=>e+(t-e)*r,nl=e=>{var{from:t,to:r}=e;return t!==r},Mg=(e,t,r)=>{var n=Aa((o,i)=>{if(nl(i)){var[s,c]=e(i.from,i.to,i.velocity);return st(st({},i),{},{from:s,velocity:c})}return i},t);return r<1?Aa((o,i)=>nl(i)?st(st({},i),{},{velocity:zo(i.velocity,n[o].velocity,r),from:zo(i.from,n[o].from,r)}):i,t):Mg(e,n,r-1)};function yS(e,t,r,n,o,i){var s,c=n.reduce((h,p)=>st(st({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Aa((h,p)=>p.from,c),d=()=>!Object.values(c).filter(nl).length,u=null,f=h=>{s||(s=h);var p=h-s,g=p/r.dt;c=Mg(r,c,g),o(st(st(st({},e),t),l())),s=h,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function xS(e,t,r,n,o,i,s){var c=null,l=o.reduce((f,h)=>st(st({},f),{},{[h]:[e[h],t[h]]}),{}),d,u=f=>{d||(d=f);var h=(f-d)/n,p=Aa((v,y)=>zo(...y,r(h)),l);if(i(st(st(st({},e),t),p)),h<1)c=s.setTimeout(u);else{var g=Aa((v,y)=>zo(...y,r(1)),l);i(st(st(st({},e),t),g))}};return()=>(c=s.setTimeout(u),()=>{c()})}const Rg=(e,t,r,n,o,i)=>{var s=mS(e,t);return r.isStepper===!0?yS(e,t,r,s,o,i):xS(e,t,r,n,s,o,i)};function bS(e){var t,r=()=>null,n=!1,o=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var c=s,[l,...d]=c;if(typeof l=="number"){o=e.setTimeout(i.bind(null,d),l);return}i(l),o=e.setTimeout(i.bind(null,d));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,o&&(o(),o=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class jS{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),o=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(i))};return o=requestAnimationFrame(i),()=>{cancelAnimationFrame(o)}}}function wS(){return bS(new jS)}var CS=m.createContext(wS);function $g(e,t){var r=m.useContext(CS);return m.useMemo(()=>t??r(e),[e,t,r])}var NS=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(null,arguments)}function PS(e,t){if(e==null)return{};var r,n,o=SS(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function SS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fn(e,t,r){return(t=ES(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ES(e){var t=OS(e,"string");return typeof t=="symbol"?t:t+""}function OS(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ld extends m.PureComponent{constructor(t,r){super(t,r),fn(this,"mounted",!1),fn(this,"manager",void 0),fn(this,"stopJSAnimation",null),fn(this,"unSubscribe",null);var{isActive:n,attributeName:o,from:i,to:s,children:c,duration:l,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:s});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:o?{[o]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:o,shouldReAnimate:i,to:s,from:c}=this.props,{style:l}=this.state;if(n){if(!r){var d={style:o?{[o]:s}:s};this.state&&l&&(o&&l[o]!==s||!o&&l!==s)&&this.setState(d);return}if(!(iS(t.to,s)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||i?c:t.to;if(this.state&&l){var h={style:o?{[o]:f}:f};(o&&l[o]!==f||!o&&l!==f)&&this.setState(h)}this.runAnimation(kr(kr({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:o,easing:i,begin:s,onAnimationEnd:c,onAnimationStart:l}=t,d=Rg(r,n,kg(i),o,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([l,s,u,o,c])}runAnimation(t){var{begin:r,duration:n,attributeName:o,to:i,easing:s,onAnimationStart:c,onAnimationEnd:l,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof d=="function"||s==="spring"){this.runJSAnimation(t);return}var u=o?{[o]:i}:i,f=hS(Object.keys(u),n,s);this.manager.start([c,r,kr(kr({},u),{},{transition:f}),n,l])}render(){var t=this.props,{children:r,begin:n,duration:o,attributeName:i,easing:s,isActive:c,from:l,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=t,v=PS(t,NS),y=m.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!c||y===0||o<=0)return r;var b=j=>{var{style:E={},className:S}=j.props,T=m.cloneElement(j,kr(kr({},v),{},{style:kr(kr({},E),x),className:S}));return T};return y===1?b(m.Children.only(r)):m.createElement("div",null,m.Children.map(r,j=>b(j)))}}fn(ld,"displayName","Animate");fn(ld,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Qh(e){var t,r=$g((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return m.createElement(ld,al({},e,{animationManager:r}))}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(null,arguments)}var em=(e,t,r,n,o)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,c=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&o instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=o[f]>i?i:o[f];d="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+c*u[0],",").concat(t)),d+="L ".concat(e+r-c*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*u[1])),d+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-c*u[2],",").concat(t+n)),d+="L ".concat(e+c*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*u[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var p=Math.min(i,o);d="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+c*p,",").concat(t,`
            L `).concat(e+r-c*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-c*p,",").concat(t+n,`
            L `).concat(e+c*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},TS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AS=e=>{var t=Hr(e,TS),r=m.useRef(null),[n,o]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var{x:i,y:s,width:c,height:l,radius:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:v}=t;if(i!==+i||s!==+s||c!==+c||l!==+l||c===0||l===0)return null;var y=Ee("recharts-rectangle",u);return v?m.createElement(Qh,{canBegin:n>0,from:{width:c,height:l,x:i,y:s},to:{width:c,height:l,x:i,y:s},duration:h,animationEasing:f,isActive:v},x=>{var{width:b,height:j,x:E,y:S}=x;return m.createElement(Qh,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:f},m.createElement("path",qo({},Qe(t,!0),{className:y,d:em(E,S,b,j,d),ref:r})))}):m.createElement("path",qo({},Qe(t,!0),{className:y,d:em(i,s,c,l,d)}))};function Fg(e){var{cx:t,cy:r,radius:n,startAngle:o,endAngle:i}=e,s=ct(t,r,n,o),c=ct(t,r,n,i);return{points:[s,c],cx:t,cy:r,radius:n,startAngle:o,endAngle:i}}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(null,arguments)}var IS=(e,t)=>{var r=Lt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fo=e=>{var{cx:t,cy:r,radius:n,angle:o,sign:i,isExternal:s,cornerRadius:c,cornerIsExternal:l}=e,d=c*(s?1:-1)+n,u=Math.asin(c/d)/Bo,f=l?o:o+i*u,h=ct(t,r,d,f),p=ct(t,r,n,f),g=l?o-i*u:o,v=ct(t,r,d*Math.cos(u*Bo),g);return{center:h,circleTangency:p,lineTangency:v,theta:u}},Bg=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:i,endAngle:s}=e,c=IS(i,s),l=i+c,d=ct(t,r,o,i),u=ct(t,r,o,l),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=ct(t,r,n,i),p=ct(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},_S=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:d}=e,u=Lt(d-l),{circleTangency:f,lineTangency:h,theta:p}=fo({cx:t,cy:r,radius:o,angle:l,sign:u,cornerRadius:i,cornerIsExternal:c}),{circleTangency:g,lineTangency:v,theta:y}=fo({cx:t,cy:r,radius:o,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:c}),x=c?Math.abs(l-d):Math.abs(l-d)-p-y;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Bg({cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:l,endAngle:d});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:E,theta:S}=fo({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:T,lineTangency:N,theta:C}=fo({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),M=c?Math.abs(l-d):Math.abs(l-d)-S-C;if(M<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},kS={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MS=e=>{var t=Hr(e,kS),{cx:r,cy:n,innerRadius:o,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:l,startAngle:d,endAngle:u,className:f}=t;if(i<o||d===u)return null;var h=Ee("recharts-sector",f),p=i-o,g=Ur(s,p,0,!0),v;return g>0&&Math.abs(d-u)<360?v=_S({cx:r,cy:n,innerRadius:o,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:d,endAngle:u}):v=Bg({cx:r,cy:n,innerRadius:o,outerRadius:i,startAngle:d,endAngle:u}),m.createElement("path",ol({},Qe(t,!0),{className:h,d:v}))};function RS(e,t,r){var n,o,i,s;if(e==="horizontal")n=t.x,i=n,o=r.top,s=r.top+r.height;else if(e==="vertical")o=t.y,s=o,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:l,innerRadius:d,outerRadius:u,angle:f}=t,h=ct(c,l,d,f),p=ct(c,l,u,f);n=h.x,o=h.y,i=p.x,s=p.y}else return Fg(t);return[{x:n,y:o},{x:i,y:s}]}var ac={},oc={},ic={},tm;function $S(){return tm||(tm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ic)),ic}var rm;function FS(){return rm||(rm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$S();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(oc)),oc}var nm;function BS(){return nm||(nm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv(),r=FS();function n(o,i,s){s&&typeof s!="number"&&t.isIterateeCall(o,i,s)&&(i=s=void 0),o=r.toFinite(o),i===void 0?(i=o,o=0):i=r.toFinite(i),s=s===void 0?o<i?1:-1:r.toFinite(s);const c=Math.max(Math.ceil((i-o)/(s||1)),0),l=new Array(c);for(let d=0;d<c;d++)l[d]=o,o+=s;return l}e.range=n})(ac)),ac}var sc,am;function DS(){return am||(am=1,sc=BS().range),sc}var LS=DS();const Dg=Wr(LS);function Dr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dd(e){let t,r,n;e.length!==2?(t=Dr,r=(c,l)=>Dr(e(c),l),n=(c,l)=>e(c)-l):(t=e===Dr||e===zS?e:qS,r=e,n=e);function o(c,l,d=0,u=c.length){if(d<u){if(t(l,l)!==0)return u;do{const f=d+u>>>1;r(c[f],l)<0?d=f+1:u=f}while(d<u)}return d}function i(c,l,d=0,u=c.length){if(d<u){if(t(l,l)!==0)return u;do{const f=d+u>>>1;r(c[f],l)<=0?d=f+1:u=f}while(d<u)}return d}function s(c,l,d=0,u=c.length){const f=o(c,l,d,u-1);return f>d&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:o,center:s,right:i}}function qS(){return 0}function Lg(e){return e===null?NaN:+e}function*US(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const VS=dd(Dr),Va=VS.right;dd(Lg).center;class om extends Map{constructor(t,r=GS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,o]of t)this.set(n,o)}get(t){return super.get(im(this,t))}has(t){return super.has(im(this,t))}set(t,r){return super.set(WS(this,t),r)}delete(t){return super.delete(KS(this,t))}}function im({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function KS({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function GS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HS(e=Dr){if(e===Dr)return zg;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zg(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YS=Math.sqrt(50),JS=Math.sqrt(10),XS=Math.sqrt(2);function Uo(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),s=i>=YS?10:i>=JS?5:i>=XS?2:1;let c,l,d;return o<0?(d=Math.pow(10,-o)/s,c=Math.round(e*d),l=Math.round(t*d),c/d<e&&++c,l/d>t&&--l,d=-d):(d=Math.pow(10,o)*s,c=Math.round(e/d),l=Math.round(t/d),c*d<e&&++c,l*d>t&&--l),l<c&&.5<=r&&r<2?Uo(e,t,r*2):[c,l,d]}function il(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,i,s]=n?Uo(t,e,r):Uo(e,t,r);if(!(i>=o))return[];const c=i-o+1,l=new Array(c);if(n)if(s<0)for(let d=0;d<c;++d)l[d]=(i-d)/-s;else for(let d=0;d<c;++d)l[d]=(i-d)*s;else if(s<0)for(let d=0;d<c;++d)l[d]=(o+d)/-s;else for(let d=0;d<c;++d)l[d]=(o+d)*s;return l}function sl(e,t,r){return t=+t,e=+e,r=+r,Uo(e,t,r)[2]}function cl(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?sl(t,e,r):sl(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function sm(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cm(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qg(e,t,r=0,n=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(o=o===void 0?zg:HS(o);n>r;){if(n-r>600){const l=n-r+1,d=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(d-l/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/l+h)),g=Math.min(n,Math.floor(t+(l-d)*f/l+h));qg(e,t,p,g,o)}const i=e[t];let s=r,c=n;for(pa(e,r,t),o(e[n],i)>0&&pa(e,r,n);s<c;){for(pa(e,s,c),++s,--c;o(e[s],i)<0;)++s;for(;o(e[c],i)>0;)--c}o(e[r],i)===0?pa(e,r,c):(++c,pa(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function pa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ZS(e,t,r){if(e=Float64Array.from(US(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return cm(e);if(t>=1)return sm(e);var n,o=(n-1)*t,i=Math.floor(o),s=sm(qg(e,i).subarray(0,i+1)),c=cm(e.subarray(i+1));return s+(c-s)*(o-i)}}function QS(e,t,r=Lg){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,i=Math.floor(o),s=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return s+(c-s)*(o-i)}}function eE(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(o);++n<o;)i[n]=e+n*r;return i}function Gt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Er(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ll=Symbol("implicit");function ud(){var e=new om,t=[],r=[],n=ll;function o(i){let s=e.get(i);if(s===void 0){if(n!==ll)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new om;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return o},o.range=function(i){return arguments.length?(r=Array.from(i),o):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return ud(t,r).unknown(n)},Gt.apply(o,arguments),o}function fd(){var e=ud().unknown(void 0),t=e.domain,r=e.range,n=0,o=1,i,s,c=!1,l=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=o<n,g=p?o:n,v=p?n:o;i=(v-g)/Math.max(1,h-l+d*2),c&&(i=Math.floor(i)),g+=(v-g-i*(h-l))*u,s=i*(1-l),c&&(g=Math.round(g),s=Math.round(s));var y=eE(h).map(function(x){return g+i*x});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,o]=h,n=+n,o=+o,f()):[n,o]},e.rangeRound=function(h){return[n,o]=h,n=+n,o=+o,c=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,d=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return fd(t(),[n,o]).round(c).paddingInner(l).paddingOuter(d).align(u)},Gt.apply(f(),arguments)}function Ug(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ug(t())},e}function tE(){return Ug(fd.apply(null,arguments).paddingInner(1))}function hd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Vg(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wa(){}var Ia=.7,Vo=1/Ia,Ln="\\s*([+-]?\\d+)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rE=/^#([0-9a-f]{3,8})$/,nE=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),aE=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),oE=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${_a}\\)$`),iE=new RegExp(`^rgba\\(${ar},${ar},${ar},${_a}\\)$`),sE=new RegExp(`^hsl\\(${_a},${ar},${ar}\\)$`),cE=new RegExp(`^hsla\\(${_a},${ar},${ar},${_a}\\)$`),lm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hd(Wa,ka,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dm,formatHex:dm,formatHex8:lE,formatHsl:dE,formatRgb:um,toString:um});function dm(){return this.rgb().formatHex()}function lE(){return this.rgb().formatHex8()}function dE(){return Wg(this).formatHsl()}function um(){return this.rgb().formatRgb()}function ka(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fm(t):r===3?new jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ho(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ho(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nE.exec(e))?new jt(t[1],t[2],t[3],1):(t=aE.exec(e))?new jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oE.exec(e))?ho(t[1],t[2],t[3],t[4]):(t=iE.exec(e))?ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sE.exec(e))?pm(t[1],t[2]/100,t[3]/100,1):(t=cE.exec(e))?pm(t[1],t[2]/100,t[3]/100,t[4]):lm.hasOwnProperty(e)?fm(lm[e]):e==="transparent"?new jt(NaN,NaN,NaN,0):null}function fm(e){return new jt(e>>16&255,e>>8&255,e&255,1)}function ho(e,t,r,n){return n<=0&&(e=t=r=NaN),new jt(e,t,r,n)}function uE(e){return e instanceof Wa||(e=ka(e)),e?(e=e.rgb(),new jt(e.r,e.g,e.b,e.opacity)):new jt}function dl(e,t,r,n){return arguments.length===1?uE(e):new jt(e,t,r,n??1)}function jt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hd(jt,dl,Vg(Wa,{brighter(e){return e=e==null?Vo:Math.pow(Vo,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ia:Math.pow(Ia,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(yn(this.r),yn(this.g),yn(this.b),Wo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hm,formatHex:hm,formatHex8:fE,formatRgb:mm,toString:mm}));function hm(){return`#${hn(this.r)}${hn(this.g)}${hn(this.b)}`}function fE(){return`#${hn(this.r)}${hn(this.g)}${hn(this.b)}${hn((isNaN(this.opacity)?1:this.opacity)*255)}`}function mm(){const e=Wo(this.opacity);return`${e===1?"rgb(":"rgba("}${yn(this.r)}, ${yn(this.g)}, ${yn(this.b)}${e===1?")":`, ${e})`}`}function Wo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hn(e){return e=yn(e),(e<16?"0":"")+e.toString(16)}function pm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jt(e,t,r,n)}function Wg(e){if(e instanceof Jt)return new Jt(e.h,e.s,e.l,e.opacity);if(e instanceof Wa||(e=ka(e)),!e)return new Jt;if(e instanceof Jt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,c=i-o,l=(i+o)/2;return c?(t===i?s=(r-n)/c+(r<n)*6:r===i?s=(n-t)/c+2:s=(t-r)/c+4,c/=l<.5?i+o:2-i-o,s*=60):c=l>0&&l<1?0:s,new Jt(s,c,l,e.opacity)}function hE(e,t,r,n){return arguments.length===1?Wg(e):new Jt(e,t,r,n??1)}function Jt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hd(Jt,hE,Vg(Wa,{brighter(e){return e=e==null?Vo:Math.pow(Vo,e),new Jt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ia:Math.pow(Ia,e),new Jt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new jt(cc(e>=240?e-240:e+120,o,n),cc(e,o,n),cc(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Jt(vm(this.h),mo(this.s),mo(this.l),Wo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wo(this.opacity);return`${e===1?"hsl(":"hsla("}${vm(this.h)}, ${mo(this.s)*100}%, ${mo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vm(e){return e=(e||0)%360,e<0?e+360:e}function mo(e){return Math.max(0,Math.min(1,e||0))}function cc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const md=e=>()=>e;function mE(e,t){return function(r){return e+r*t}}function pE(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vE(e){return(e=+e)==1?Kg:function(t,r){return r-t?pE(t,r,e):md(isNaN(t)?r:t)}}function Kg(e,t){var r=t-e;return r?mE(e,r):md(isNaN(e)?t:e)}const gm=(function e(t){var r=vE(t);function n(o,i){var s=r((o=dl(o)).r,(i=dl(i)).r),c=r(o.g,i.g),l=r(o.b,i.b),d=Kg(o.opacity,i.opacity);return function(u){return o.r=s(u),o.g=c(u),o.b=l(u),o.opacity=d(u),o+""}}return n.gamma=e,n})(1);function gE(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=e[o]*(1-i)+t[o]*i;return n}}function yE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xE(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)o[s]=ta(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(c){for(s=0;s<n;++s)i[s]=o[s](c);return i}}function bE(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ko(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jE(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=ta(e[o],t[o]):n[o]=t[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lc=new RegExp(ul.source,"g");function wE(e){return function(){return e}}function CE(e){return function(t){return e(t)+""}}function NE(e,t){var r=ul.lastIndex=lc.lastIndex=0,n,o,i,s=-1,c=[],l=[];for(e=e+"",t=t+"";(n=ul.exec(e))&&(o=lc.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),c[s]?c[s]+=i:c[++s]=i),(n=n[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,l.push({i:s,x:Ko(n,o)})),r=lc.lastIndex;return r<t.length&&(i=t.slice(r),c[s]?c[s]+=i:c[++s]=i),c.length<2?l[0]?CE(l[0].x):wE(t):(t=l.length,function(d){for(var u=0,f;u<t;++u)c[(f=l[u]).i]=f.x(d);return c.join("")})}function ta(e,t){var r=typeof t,n;return t==null||r==="boolean"?md(t):(r==="number"?Ko:r==="string"?(n=ka(t))?(t=n,gm):NE:t instanceof ka?gm:t instanceof Date?bE:yE(t)?gE:Array.isArray(t)?xE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jE:Ko)(e,t)}function pd(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function PE(e,t){t===void 0&&(t=e,e=ta);for(var r=0,n=t.length-1,o=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(o,o=t[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[c](s-c)}}function SE(e){return function(){return e}}function Go(e){return+e}var ym=[0,1];function pt(e){return e}function fl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SE(isNaN(t)?NaN:.5)}function EE(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function OE(e,t,r){var n=e[0],o=e[1],i=t[0],s=t[1];return o<n?(n=fl(o,n),i=r(s,i)):(n=fl(n,o),i=r(i,s)),function(c){return i(n(c))}}function TE(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)o[s]=fl(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(c){var l=Va(e,c,1,n)-1;return i[l](o[l](c))}}function Ka(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wi(){var e=ym,t=ym,r=ta,n,o,i,s=pt,c,l,d;function u(){var h=Math.min(e.length,t.length);return s!==pt&&(s=EE(e[0],e[h-1])),c=h>2?TE:OE,l=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=c(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(o((d||(d=c(t,e.map(n),Ko)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Go),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=pd,u()},f.clamp=function(h){return arguments.length?(s=h?!0:pt,u()):s!==pt},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,o=p,u()}}function vd(){return wi()(pt,pt)}function AE(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ho(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gn(e){return e=Ho(Math.abs(e)),e?e[1]:NaN}function IE(e,t){return function(r,n){for(var o=r.length,i=[],s=0,c=e[0],l=0;o>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),i.push(r.substring(o-=c,o+c)),!((l+=c+1)>n));)c=e[s=(s+1)%e.length];return i.reverse().join(t)}}function _E(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ma(e){if(!(t=kE.exec(e)))throw new Error("invalid format: "+e);var t;return new gd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ma.prototype=gd.prototype;function gd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ME(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var Gg;function RE(e,t){var r=Ho(e,t);if(!r)return e+"";var n=r[0],o=r[1],i=o-(Gg=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ho(e,Math.max(0,t+i-1))[0]}function xm(e,t){var r=Ho(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const bm={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AE,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xm(e*100,t),r:xm,s:RE,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jm(e){return e}var wm=Array.prototype.map,Cm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $E(e){var t=e.grouping===void 0||e.thousands===void 0?jm:IE(wm.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jm:_E(wm.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Ma(f);var h=f.fill,p=f.align,g=f.sign,v=f.symbol,y=f.zero,x=f.width,b=f.comma,j=f.precision,E=f.trim,S=f.type;S==="n"?(b=!0,S="g"):bm[S]||(j===void 0&&(j=12),E=!0,S="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var T=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=v==="$"?n:/[%p]/.test(S)?s:"",C=bm[S],M=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function F(P){var O=T,$=N,K,Y,re;if(S==="c")$=C(P)+$,P="";else{P=+P;var ce=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),j),E&&(P=ME(P)),ce&&+P==0&&g!=="+"&&(ce=!1),O=(ce?g==="("?g:c:g==="-"||g==="("?"":g)+O,$=(S==="s"?Cm[8+Gg/3]:"")+$+(ce&&g==="("?")":""),M){for(K=-1,Y=P.length;++K<Y;)if(re=P.charCodeAt(K),48>re||re>57){$=(re===46?o+P.slice(K+1):P.slice(K))+$,P=P.slice(0,K);break}}}b&&!y&&(P=t(P,1/0));var ue=O.length+P.length+$.length,X=ue<x?new Array(x-ue+1).join(h):"";switch(b&&y&&(P=t(X+P,X.length?x-$.length:1/0),X=""),p){case"<":P=O+P+$+X;break;case"=":P=O+X+P+$;break;case"^":P=X.slice(0,ue=X.length>>1)+O+P+$+X.slice(ue);break;default:P=X+O+P+$;break}return i(P)}return F.toString=function(){return f+""},F}function u(f,h){var p=d((f=Ma(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Gn(h)/3)))*3,v=Math.pow(10,-g),y=Cm[8+g/3];return function(x){return p(v*x)+y}}return{format:d,formatPrefix:u}}var po,yd,Hg;FE({thousands:",",grouping:[3],currency:["$",""]});function FE(e){return po=$E(e),yd=po.format,Hg=po.formatPrefix,po}function BE(e){return Math.max(0,-Gn(Math.abs(e)))}function DE(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gn(t)/3)))*3-Gn(Math.abs(e)))}function LE(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gn(t)-Gn(e))+1}function Yg(e,t,r,n){var o=cl(e,t,r),i;switch(n=Ma(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=DE(o,s))&&(n.precision=i),Hg(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=LE(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=BE(o))&&(n.precision=i-(n.type==="%")*2);break}}return yd(n)}function Yr(e){var t=e.domain;return e.ticks=function(r){var n=t();return il(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return Yg(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,i=n.length-1,s=n[o],c=n[i],l,d,u=10;for(c<s&&(d=s,s=c,c=d,d=o,o=i,i=d);u-- >0;){if(d=sl(s,c,r),d===l)return n[o]=s,n[i]=c,t(n);if(d>0)s=Math.floor(s/d)*d,c=Math.ceil(c/d)*d;else if(d<0)s=Math.ceil(s*d)/d,c=Math.floor(c*d)/d;else break;l=d}return e},e}function Jg(){var e=vd();return e.copy=function(){return Ka(e,Jg())},Gt.apply(e,arguments),Yr(e)}function Xg(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Go),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Xg(e).unknown(t)},e=arguments.length?Array.from(e,Go):[0,1],Yr(r)}function Zg(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],i=e[n],s;return i<o&&(s=r,r=n,n=s,s=o,o=i,i=s),e[r]=t.floor(o),e[n]=t.ceil(i),e}function Nm(e){return Math.log(e)}function Pm(e){return Math.exp(e)}function zE(e){return-Math.log(-e)}function qE(e){return-Math.exp(-e)}function UE(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VE(e){return e===10?UE:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WE(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Sm(e){return(t,r)=>-e(-t,r)}function xd(e){const t=e(Nm,Pm),r=t.domain;let n=10,o,i;function s(){return o=WE(n),i=VE(n),r()[0]<0?(o=Sm(o),i=Sm(i),e(zE,qE)):e(Nm,Pm),t}return t.base=function(c){return arguments.length?(n=+c,s()):n},t.domain=function(c){return arguments.length?(r(c),s()):r()},t.ticks=c=>{const l=r();let d=l[0],u=l[l.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=o(d),p=o(u),g,v;const y=c==null?10:+c;let x=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(g=1;g<n;++g)if(v=h<0?g/i(-h):g*i(h),!(v<d)){if(v>u)break;x.push(v)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/i(-h):g*i(h),!(v<d)){if(v>u)break;x.push(v)}x.length*2<y&&(x=il(d,u,y))}else x=il(h,p,Math.min(p-h,y)).map(i);return f?x.reverse():x},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ma(l)).precision==null&&(l.trim=!0),l=yd(l)),c===1/0)return l;const d=Math.max(1,n*c/t.ticks().length);return u=>{let f=u/i(Math.round(o(u)));return f*n<n-.5&&(f*=n),f<=d?l(u):""}},t.nice=()=>r(Zg(r(),{floor:c=>i(Math.floor(o(c))),ceil:c=>i(Math.ceil(o(c)))})),t}function Qg(){const e=xd(wi()).domain([1,10]);return e.copy=()=>Ka(e,Qg()).base(e.base()),Gt.apply(e,arguments),e}function Em(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Om(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bd(e){var t=1,r=e(Em(t),Om(t));return r.constant=function(n){return arguments.length?e(Em(t=+n),Om(t)):t},Yr(r)}function ey(){var e=bd(wi());return e.copy=function(){return Ka(e,ey()).constant(e.constant())},Gt.apply(e,arguments)}function Tm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function KE(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function GE(e){return e<0?-e*e:e*e}function jd(e){var t=e(pt,pt),r=1;function n(){return r===1?e(pt,pt):r===.5?e(KE,GE):e(Tm(r),Tm(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,n()):r},Yr(t)}function wd(){var e=jd(wi());return e.copy=function(){return Ka(e,wd()).exponent(e.exponent())},Gt.apply(e,arguments),e}function HE(){return wd.apply(null,arguments).exponent(.5)}function Am(e){return Math.sign(e)*e*e}function YE(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ty(){var e=vd(),t=[0,1],r=!1,n;function o(i){var s=YE(e(i));return isNaN(s)?n:r?Math.round(s):s}return o.invert=function(i){return e.invert(Am(i))},o.domain=function(i){return arguments.length?(e.domain(i),o):e.domain()},o.range=function(i){return arguments.length?(e.range((t=Array.from(i,Go)).map(Am)),o):t.slice()},o.rangeRound=function(i){return o.range(i).round(!0)},o.round=function(i){return arguments.length?(r=!!i,o):r},o.clamp=function(i){return arguments.length?(e.clamp(i),o):e.clamp()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return ty(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gt.apply(o,arguments),Yr(o)}function ry(){var e=[],t=[],r=[],n;function o(){var s=0,c=Math.max(1,t.length);for(r=new Array(c-1);++s<c;)r[s-1]=QS(e,s/c);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Va(r,s)]}return i.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Dr),o()},i.range=function(s){return arguments.length?(t=Array.from(s),o()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ry().domain(e).range(t).unknown(n)},Gt.apply(i,arguments)}function ny(){var e=0,t=1,r=1,n=[.5],o=[0,1],i;function s(l){return l!=null&&l<=l?o[Va(n,l,0,r)]:i}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},s.range=function(l){return arguments.length?(r=(o=Array.from(l)).length-1,c()):o.slice()},s.invertExtent=function(l){var d=o.indexOf(l);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ny().domain([e,t]).range(o).unknown(i)},Gt.apply(Yr(s),arguments)}function ay(){var e=[.5],t=[0,1],r,n=1;function o(i){return i!=null&&i<=i?t[Va(e,i,0,n)]:r}return o.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return ay().domain(e).range(t).unknown(r)},Gt.apply(o,arguments)}const dc=new Date,uc=new Date;function et(e,t,r,n){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const s=o(i),c=o.ceil(i);return i-s<c-i?s:c},o.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),o.range=(i,s,c)=>{const l=[];if(i=o.ceil(i),c=c==null?1:Math.floor(c),!(i<s)||!(c>0))return l;let d;do l.push(d=new Date(+i)),t(i,c),e(i);while(d<i&&i<s);return l},o.filter=i=>et(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!i(s););else for(;--c>=0;)for(;t(s,1),!i(s););}),r&&(o.count=(i,s)=>(dc.setTime(+i),uc.setTime(+s),e(dc),e(uc),Math.floor(r(dc,uc))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(n?s=>n(s)%i===0:s=>o.count(0,s)%i===0):o)),o}const Yo=et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yo);Yo.range;const fr=1e3,zt=fr*60,hr=zt*60,jr=hr*24,Cd=jr*7,Im=jr*30,fc=jr*365,mn=et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCSeconds());mn.range;const Nd=et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fr)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getMinutes());Nd.range;const Pd=et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCMinutes());Pd.range;const Sd=et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fr-e.getMinutes()*zt)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getHours());Sd.range;const Ed=et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCHours());Ed.range;const Ga=et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zt)/jr,e=>e.getDate()-1);Ga.range;const Ci=et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jr,e=>e.getUTCDate()-1);Ci.range;const oy=et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jr,e=>Math.floor(e/jr));oy.range;function On(e){return et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zt)/Cd)}const Ni=On(0),Jo=On(1),JE=On(2),XE=On(3),Hn=On(4),ZE=On(5),QE=On(6);Ni.range;Jo.range;JE.range;XE.range;Hn.range;ZE.range;QE.range;function Tn(e){return et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cd)}const Pi=Tn(0),Xo=Tn(1),e2=Tn(2),t2=Tn(3),Yn=Tn(4),r2=Tn(5),n2=Tn(6);Pi.range;Xo.range;e2.range;t2.range;Yn.range;r2.range;n2.range;const Od=et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Od.range;const Td=et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Td.range;const wr=et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wr.range;const Cr=et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Cr.range;function iy(e,t,r,n,o,i){const s=[[mn,1,fr],[mn,5,5*fr],[mn,15,15*fr],[mn,30,30*fr],[i,1,zt],[i,5,5*zt],[i,15,15*zt],[i,30,30*zt],[o,1,hr],[o,3,3*hr],[o,6,6*hr],[o,12,12*hr],[n,1,jr],[n,2,2*jr],[r,1,Cd],[t,1,Im],[t,3,3*Im],[e,1,fc]];function c(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:l(d,u,f),g=p?p.range(d,+u+1):[];return h?g.reverse():g}function l(d,u,f){const h=Math.abs(u-d)/f,p=dd(([,,y])=>y).right(s,h);if(p===s.length)return e.every(cl(d/fc,u/fc,f));if(p===0)return Yo.every(Math.max(cl(d,u,f),1));const[g,v]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(v)}return[c,l]}const[a2,o2]=iy(Cr,Td,Pi,oy,Ed,Pd),[i2,s2]=iy(wr,Od,Ni,Ga,Sd,Nd);function hc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function va(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function c2(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,i=e.days,s=e.shortDays,c=e.months,l=e.shortMonths,d=ga(o),u=ya(o),f=ga(i),h=ya(i),p=ga(s),g=ya(s),v=ga(c),y=ya(c),x=ga(l),b=ya(l),j={a:ce,A:ue,b:X,B:le,c:null,d:Fm,e:Fm,f:I2,g:z2,G:U2,H:O2,I:T2,j:A2,L:sy,m:_2,M:k2,p:W,q:_,Q:Lm,s:zm,S:M2,u:R2,U:$2,V:F2,w:B2,W:D2,x:null,X:null,y:L2,Y:q2,Z:V2,"%":Dm},E={a:w,A:B,b:U,B:Z,c:null,d:Bm,e:Bm,f:H2,g:aO,G:iO,H:W2,I:K2,j:G2,L:ly,m:Y2,M:J2,p:me,q:xe,Q:Lm,s:zm,S:X2,u:Z2,U:Q2,V:eO,w:tO,W:rO,x:null,X:null,y:nO,Y:oO,Z:sO,"%":Dm},S={a:F,A:P,b:O,B:$,c:K,d:Rm,e:Rm,f:N2,g:Mm,G:km,H:$m,I:$m,j:b2,L:C2,m:x2,M:j2,p:M,q:y2,Q:S2,s:E2,S:w2,u:h2,U:m2,V:p2,w:f2,W:v2,x:Y,X:re,y:Mm,Y:km,Z:g2,"%":P2};j.x=T(r,j),j.X=T(n,j),j.c=T(t,j),E.x=T(r,E),E.X=T(n,E),E.c=T(t,E);function T(H,ee){return function(ne){var q=[],V=-1,ie=0,je=H.length,A,de,ze;for(ne instanceof Date||(ne=new Date(+ne));++V<je;)H.charCodeAt(V)===37&&(q.push(H.slice(ie,V)),(de=_m[A=H.charAt(++V)])!=null?A=H.charAt(++V):de=A==="e"?" ":"0",(ze=ee[A])&&(A=ze(ne,de)),q.push(A),ie=V+1);return q.push(H.slice(ie,V)),q.join("")}}function N(H,ee){return function(ne){var q=va(1900,void 0,1),V=C(q,H,ne+="",0),ie,je;if(V!=ne.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ee&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ie=mc(va(q.y,0,1)),je=ie.getUTCDay(),ie=je>4||je===0?Xo.ceil(ie):Xo(ie),ie=Ci.offset(ie,(q.V-1)*7),q.y=ie.getUTCFullYear(),q.m=ie.getUTCMonth(),q.d=ie.getUTCDate()+(q.w+6)%7):(ie=hc(va(q.y,0,1)),je=ie.getDay(),ie=je>4||je===0?Jo.ceil(ie):Jo(ie),ie=Ga.offset(ie,(q.V-1)*7),q.y=ie.getFullYear(),q.m=ie.getMonth(),q.d=ie.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),je="Z"in q?mc(va(q.y,0,1)).getUTCDay():hc(va(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(je+5)%7:q.w+q.U*7-(je+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mc(q)):hc(q)}}function C(H,ee,ne,q){for(var V=0,ie=ee.length,je=ne.length,A,de;V<ie;){if(q>=je)return-1;if(A=ee.charCodeAt(V++),A===37){if(A=ee.charAt(V++),de=S[A in _m?ee.charAt(V++):A],!de||(q=de(H,ne,q))<0)return-1}else if(A!=ne.charCodeAt(q++))return-1}return q}function M(H,ee,ne){var q=d.exec(ee.slice(ne));return q?(H.p=u.get(q[0].toLowerCase()),ne+q[0].length):-1}function F(H,ee,ne){var q=p.exec(ee.slice(ne));return q?(H.w=g.get(q[0].toLowerCase()),ne+q[0].length):-1}function P(H,ee,ne){var q=f.exec(ee.slice(ne));return q?(H.w=h.get(q[0].toLowerCase()),ne+q[0].length):-1}function O(H,ee,ne){var q=x.exec(ee.slice(ne));return q?(H.m=b.get(q[0].toLowerCase()),ne+q[0].length):-1}function $(H,ee,ne){var q=v.exec(ee.slice(ne));return q?(H.m=y.get(q[0].toLowerCase()),ne+q[0].length):-1}function K(H,ee,ne){return C(H,t,ee,ne)}function Y(H,ee,ne){return C(H,r,ee,ne)}function re(H,ee,ne){return C(H,n,ee,ne)}function ce(H){return s[H.getDay()]}function ue(H){return i[H.getDay()]}function X(H){return l[H.getMonth()]}function le(H){return c[H.getMonth()]}function W(H){return o[+(H.getHours()>=12)]}function _(H){return 1+~~(H.getMonth()/3)}function w(H){return s[H.getUTCDay()]}function B(H){return i[H.getUTCDay()]}function U(H){return l[H.getUTCMonth()]}function Z(H){return c[H.getUTCMonth()]}function me(H){return o[+(H.getUTCHours()>=12)]}function xe(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var ee=T(H+="",j);return ee.toString=function(){return H},ee},parse:function(H){var ee=N(H+="",!1);return ee.toString=function(){return H},ee},utcFormat:function(H){var ee=T(H+="",E);return ee.toString=function(){return H},ee},utcParse:function(H){var ee=N(H+="",!0);return ee.toString=function(){return H},ee}}}var _m={"-":"",_:" ",0:"0"},at=/^\s*\d+/,l2=/^%/,d2=/[\\^$*+?|[\]().{}]/g;function be(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(t)+o:o)}function u2(e){return e.replace(d2,"\\$&")}function ga(e){return new RegExp("^(?:"+e.map(u2).join("|")+")","i")}function ya(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function f2(e,t,r){var n=at.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function h2(e,t,r){var n=at.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function m2(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function p2(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function v2(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function km(e,t,r){var n=at.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Mm(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function g2(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function y2(e,t,r){var n=at.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x2(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Rm(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function b2(e,t,r){var n=at.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $m(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function j2(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=at.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function C2(e,t,r){var n=at.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function N2(e,t,r){var n=at.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function P2(e,t,r){var n=l2.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function S2(e,t,r){var n=at.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function E2(e,t,r){var n=at.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Fm(e,t){return be(e.getDate(),t,2)}function O2(e,t){return be(e.getHours(),t,2)}function T2(e,t){return be(e.getHours()%12||12,t,2)}function A2(e,t){return be(1+Ga.count(wr(e),e),t,3)}function sy(e,t){return be(e.getMilliseconds(),t,3)}function I2(e,t){return sy(e,t)+"000"}function _2(e,t){return be(e.getMonth()+1,t,2)}function k2(e,t){return be(e.getMinutes(),t,2)}function M2(e,t){return be(e.getSeconds(),t,2)}function R2(e){var t=e.getDay();return t===0?7:t}function $2(e,t){return be(Ni.count(wr(e)-1,e),t,2)}function cy(e){var t=e.getDay();return t>=4||t===0?Hn(e):Hn.ceil(e)}function F2(e,t){return e=cy(e),be(Hn.count(wr(e),e)+(wr(e).getDay()===4),t,2)}function B2(e){return e.getDay()}function D2(e,t){return be(Jo.count(wr(e)-1,e),t,2)}function L2(e,t){return be(e.getFullYear()%100,t,2)}function z2(e,t){return e=cy(e),be(e.getFullYear()%100,t,2)}function q2(e,t){return be(e.getFullYear()%1e4,t,4)}function U2(e,t){var r=e.getDay();return e=r>=4||r===0?Hn(e):Hn.ceil(e),be(e.getFullYear()%1e4,t,4)}function V2(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+be(t/60|0,"0",2)+be(t%60,"0",2)}function Bm(e,t){return be(e.getUTCDate(),t,2)}function W2(e,t){return be(e.getUTCHours(),t,2)}function K2(e,t){return be(e.getUTCHours()%12||12,t,2)}function G2(e,t){return be(1+Ci.count(Cr(e),e),t,3)}function ly(e,t){return be(e.getUTCMilliseconds(),t,3)}function H2(e,t){return ly(e,t)+"000"}function Y2(e,t){return be(e.getUTCMonth()+1,t,2)}function J2(e,t){return be(e.getUTCMinutes(),t,2)}function X2(e,t){return be(e.getUTCSeconds(),t,2)}function Z2(e){var t=e.getUTCDay();return t===0?7:t}function Q2(e,t){return be(Pi.count(Cr(e)-1,e),t,2)}function dy(e){var t=e.getUTCDay();return t>=4||t===0?Yn(e):Yn.ceil(e)}function eO(e,t){return e=dy(e),be(Yn.count(Cr(e),e)+(Cr(e).getUTCDay()===4),t,2)}function tO(e){return e.getUTCDay()}function rO(e,t){return be(Xo.count(Cr(e)-1,e),t,2)}function nO(e,t){return be(e.getUTCFullYear()%100,t,2)}function aO(e,t){return e=dy(e),be(e.getUTCFullYear()%100,t,2)}function oO(e,t){return be(e.getUTCFullYear()%1e4,t,4)}function iO(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yn(e):Yn.ceil(e),be(e.getUTCFullYear()%1e4,t,4)}function sO(){return"+0000"}function Dm(){return"%"}function Lm(e){return+e}function zm(e){return Math.floor(+e/1e3)}var kn,uy,fy;cO({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cO(e){return kn=c2(e),uy=kn.format,kn.parse,fy=kn.utcFormat,kn.utcParse,kn}function lO(e){return new Date(e)}function dO(e){return e instanceof Date?+e:+new Date(+e)}function Ad(e,t,r,n,o,i,s,c,l,d){var u=vd(),f=u.invert,h=u.domain,p=d(".%L"),g=d(":%S"),v=d("%I:%M"),y=d("%I %p"),x=d("%a %d"),b=d("%b %d"),j=d("%B"),E=d("%Y");function S(T){return(l(T)<T?p:c(T)<T?g:s(T)<T?v:i(T)<T?y:n(T)<T?o(T)<T?x:b:r(T)<T?j:E)(T)}return u.invert=function(T){return new Date(f(T))},u.domain=function(T){return arguments.length?h(Array.from(T,dO)):h().map(lO)},u.ticks=function(T){var N=h();return e(N[0],N[N.length-1],T??10)},u.tickFormat=function(T,N){return N==null?S:d(N)},u.nice=function(T){var N=h();return(!T||typeof T.range!="function")&&(T=t(N[0],N[N.length-1],T??10)),T?h(Zg(N,T)):u},u.copy=function(){return Ka(u,Ad(e,t,r,n,o,i,s,c,l,d))},u}function uO(){return Gt.apply(Ad(i2,s2,wr,Od,Ni,Ga,Sd,Nd,mn,uy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fO(){return Gt.apply(Ad(a2,o2,Cr,Td,Pi,Ci,Ed,Pd,mn,fy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Si(){var e=0,t=1,r,n,o,i,s=pt,c=!1,l;function d(f){return f==null||isNaN(f=+f)?l:s(o===0?.5:(f=(i(f)-r)*o,c?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),o=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(c=!!f,d):c},d.interpolator=function(f){return arguments.length?(s=f,d):s};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),d):[s(0),s(1)]}}return d.range=u(ta),d.rangeRound=u(pd),d.unknown=function(f){return arguments.length?(l=f,d):l},function(f){return i=f,r=f(e),n=f(t),o=r===n?0:1/(n-r),d}}function Jr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hy(){var e=Yr(Si()(pt));return e.copy=function(){return Jr(e,hy())},Er.apply(e,arguments)}function my(){var e=xd(Si()).domain([1,10]);return e.copy=function(){return Jr(e,my()).base(e.base())},Er.apply(e,arguments)}function py(){var e=bd(Si());return e.copy=function(){return Jr(e,py()).constant(e.constant())},Er.apply(e,arguments)}function Id(){var e=jd(Si());return e.copy=function(){return Jr(e,Id()).exponent(e.exponent())},Er.apply(e,arguments)}function hO(){return Id.apply(null,arguments).exponent(.5)}function vy(){var e=[],t=pt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Va(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let o of n)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Dr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,o)=>t(o/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(o,i)=>ZS(e,i/n))},r.copy=function(){return vy(t).domain(e)},Er.apply(r,arguments)}function Ei(){var e=0,t=.5,r=1,n=1,o,i,s,c,l,d=pt,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-i)*(n*v<n*i?c:l),d(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,o=u(e=+e),i=u(t=+t),s=u(r=+r),c=o===i?0:.5/(i-o),l=i===s?0:.5/(s-i),n=i<o?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(d=v,p):d};function g(v){return function(y){var x,b,j;return arguments.length?([x,b,j]=y,d=PE(v,[x,b,j]),p):[d(0),d(.5),d(1)]}}return p.range=g(ta),p.rangeRound=g(pd),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,o=v(e),i=v(t),s=v(r),c=o===i?0:.5/(i-o),l=i===s?0:.5/(s-i),n=i<o?-1:1,p}}function gy(){var e=Yr(Ei()(pt));return e.copy=function(){return Jr(e,gy())},Er.apply(e,arguments)}function yy(){var e=xd(Ei()).domain([.1,1,10]);return e.copy=function(){return Jr(e,yy()).base(e.base())},Er.apply(e,arguments)}function xy(){var e=bd(Ei());return e.copy=function(){return Jr(e,xy()).constant(e.constant())},Er.apply(e,arguments)}function _d(){var e=jd(Ei());return e.copy=function(){return Jr(e,_d()).exponent(e.exponent())},Er.apply(e,arguments)}function mO(){return _d.apply(null,arguments).exponent(.5)}const ja=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fd,scaleDiverging:gy,scaleDivergingLog:yy,scaleDivergingPow:_d,scaleDivergingSqrt:mO,scaleDivergingSymlog:xy,scaleIdentity:Xg,scaleImplicit:ll,scaleLinear:Jg,scaleLog:Qg,scaleOrdinal:ud,scalePoint:tE,scalePow:wd,scaleQuantile:ry,scaleQuantize:ny,scaleRadial:ty,scaleSequential:hy,scaleSequentialLog:my,scaleSequentialPow:Id,scaleSequentialQuantile:vy,scaleSequentialSqrt:hO,scaleSequentialSymlog:py,scaleSqrt:HE,scaleSymlog:ey,scaleThreshold:ay,scaleTime:uO,scaleUtc:fO,tickFormat:Yg},Symbol.toStringTag,{value:"Module"}));var Xr=e=>e.chartData,pO=L([Xr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),kd=(e,t,r,n)=>n?pO(e):Xr(e);function Jn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Xt(t)&&Xt(r))return!0}return!1}function qm(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,o,i;if(Xt(r))o=r;else if(typeof r=="function")return;if(Xt(n))i=n;else if(typeof n=="function")return;var s=[o,i];if(Jn(s))return s}}function gO(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Jn(n))return qm(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[o,i]=e,s,c;if(o==="auto")t!=null&&(s=Math.min(...t));else if(ae(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t?.[0]))}catch{}else if(typeof o=="string"&&Oh.test(o)){var l=Oh.exec(o);if(l==null||t==null)s=void 0;else{var d=+l[1];s=t[0]-d}}else s=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(ae(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&Th.test(i)){var u=Th.exec(i);if(u==null||t==null)c=void 0;else{var f=+u[1];c=t[1]+f}}else c=t?.[1];var h=[s,c];if(Jn(h))return t==null?h:qm(h,t,r)}}}var ra=1e9,yO={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rd,Be=!0,Wt="[DecimalError] ",xn=Wt+"Invalid argument: ",Md=Wt+"Exponent out of range: ",na=Math.floor,dn=Math.pow,xO=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ot,nt=1e7,Ie=7,by=9007199254740991,Zo=na(by/Ie),Q={};Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Q.comparedTo=Q.cmp=function(e){var t,r,n,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,o=e.d.length,t=0,r=n<o?n:o;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===o?0:n>o^i.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Q.dividedBy=Q.div=function(e){return vr(this,new this.constructor(e))};Q.dividedToIntegerBy=Q.idiv=function(e){var t=this,r=t.constructor;return Oe(vr(t,new r(e),0,1),r.precision)};Q.equals=Q.eq=function(e){return!this.cmp(e)};Q.exponent=function(){return He(this)};Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0};Q.greaterThanOrEqualTo=Q.gte=function(e){return this.cmp(e)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(e){return this.cmp(e)<0};Q.lessThanOrEqualTo=Q.lte=function(e){return this.cmp(e)<1};Q.logarithm=Q.log=function(e){var t,r=this,n=r.constructor,o=n.precision,i=o+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ot))throw Error(Wt+"NaN");if(r.s<1)throw Error(Wt+(r.s?"NaN":"-Infinity"));return r.eq(Ot)?new n(0):(Be=!1,t=vr(Ra(r,i),Ra(e,i),i),Be=!0,Oe(t,o))};Q.minus=Q.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Cy(t,e):jy(t,(e.s=-e.s,e))};Q.modulo=Q.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(e=new n(e),!e.s)throw Error(Wt+"NaN");return r.s?(Be=!1,t=vr(r,e,0,1).times(e),Be=!0,r.minus(t)):Oe(new n(r),o)};Q.naturalExponential=Q.exp=function(){return wy(this)};Q.naturalLogarithm=Q.ln=function(){return Ra(this)};Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Q.plus=Q.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jy(t,e):Cy(t,(e.s=-e.s,e))};Q.precision=Q.sd=function(e){var t,r,n,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xn+e);if(t=He(o)+1,n=o.d.length-1,r=n*Ie+1,n=o.d[n],n){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Q.squareRoot=Q.sqrt=function(){var e,t,r,n,o,i,s,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(Wt+"NaN")}for(e=He(c),Be=!1,o=Math.sqrt(+c),o==0||o==1/0?(t=nr(c.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=na((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(o.toString()),r=l.precision,o=s=r+3;;)if(i=n,n=i.plus(vr(c,i,s+2)).times(.5),nr(i.d).slice(0,s)===(t=nr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),o==s&&t=="4999"){if(Oe(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;s+=4}return Be=!0,Oe(n,r)};Q.times=Q.mul=function(e){var t,r,n,o,i,s,c,l,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,d=p.length,l<d&&(i=h,h=p,p=i,s=l,l=d,d=s),i=[],s=l+d,n=s;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,o=l+n;o>n;)c=i[o]+p[n]*h[o-n-1]+t,i[o--]=c%nt|0,t=c/nt|0;i[o]=(i[o]+t)%nt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Be?Oe(e,f.precision):e};Q.toDecimalPlaces=Q.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sr(e,0,ra),t===void 0?t=n.rounding:sr(t,0,8),Oe(r,e+He(r)+1,t))};Q.toExponential=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=Nn(n,!0):(sr(e,0,ra),t===void 0?t=o.rounding:sr(t,0,8),n=Oe(new o(n),e+1,t),r=Nn(n,!0,e+1)),r};Q.toFixed=function(e,t){var r,n,o=this,i=o.constructor;return e===void 0?Nn(o):(sr(e,0,ra),t===void 0?t=i.rounding:sr(t,0,8),n=Oe(new i(o),e+He(o)+1,t),r=Nn(n.abs(),!1,e+He(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)};Q.toInteger=Q.toint=function(){var e=this,t=e.constructor;return Oe(new t(e),He(e)+1,t.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(e){var t,r,n,o,i,s,c=this,l=c.constructor,d=12,u=+(e=new l(e));if(!e.s)return new l(Ot);if(c=new l(c),!c.s){if(e.s<1)throw Error(Wt+"Infinity");return c}if(c.eq(Ot))return c;if(n=l.precision,e.eq(Ot))return Oe(c,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=c.s,s){if((r=u<0?-u:u)<=by){for(o=new l(Ot),t=Math.ceil(n/Ie+4),Be=!1;r%2&&(o=o.times(c),Vm(o.d,t)),r=na(r/2),r!==0;)c=c.times(c),Vm(c.d,t);return Be=!0,e.s<0?new l(Ot).div(o):Oe(o,n)}}else if(i<0)throw Error(Wt+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Be=!1,o=e.times(Ra(c,n+d)),Be=!0,o=wy(o),o.s=i,o};Q.toPrecision=function(e,t){var r,n,o=this,i=o.constructor;return e===void 0?(r=He(o),n=Nn(o,r<=i.toExpNeg||r>=i.toExpPos)):(sr(e,1,ra),t===void 0?t=i.rounding:sr(t,0,8),o=Oe(new i(o),e,t),r=He(o),n=Nn(o,e<=r||r<=i.toExpNeg,e)),n};Q.toSignificantDigits=Q.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sr(e,1,ra),t===void 0?t=n.rounding:sr(t,0,8)),Oe(new n(r),e,t)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=He(e),r=e.constructor;return Nn(e,t<=r.toExpNeg||t>=r.toExpPos)};function jy(e,t){var r,n,o,i,s,c,l,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Be?Oe(t,f):t;if(l=e.d,d=t.d,s=e.e,o=t.e,l=l.slice(),i=s-o,i){for(i<0?(n=l,i=-i,c=d.length):(n=d,o=s,c=l.length),s=Math.ceil(f/Ie),c=s>c?s+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=l.length,i=d.length,c-i<0&&(i=c,n=d,d=l,l=n),r=0;i;)r=(l[--i]=l[i]+d[i]+r)/nt|0,l[i]%=nt;for(r&&(l.unshift(r),++o),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=o,Be?Oe(t,f):t}function sr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xn+e)}function nr(e){var t,r,n,o=e.length-1,i="",s=e[0];if(o>0){for(i+=s,t=1;t<o;t++)n=e[t]+"",r=Ie-n.length,r&&(i+=$r(r)),i+=n;s=e[t],n=s+"",r=Ie-n.length,r&&(i+=$r(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var vr=(function(){function e(n,o){var i,s=0,c=n.length;for(n=n.slice();c--;)i=n[c]*o+s,n[c]=i%nt|0,s=i/nt|0;return s&&n.unshift(s),n}function t(n,o,i,s){var c,l;if(i!=s)l=i>s?1:-1;else for(c=l=0;c<i;c++)if(n[c]!=o[c]){l=n[c]>o[c]?1:-1;break}return l}function r(n,o,i){for(var s=0;i--;)n[i]-=s,s=n[i]<o[i]?1:0,n[i]=s*nt+n[i]-o[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,o,i,s){var c,l,d,u,f,h,p,g,v,y,x,b,j,E,S,T,N,C,M=n.constructor,F=n.s==o.s?1:-1,P=n.d,O=o.d;if(!n.s)return new M(n);if(!o.s)throw Error(Wt+"Division by zero");for(l=n.e-o.e,N=O.length,S=P.length,p=new M(F),g=p.d=[],d=0;O[d]==(P[d]||0);)++d;if(O[d]>(P[d]||0)&&--l,i==null?b=i=M.precision:s?b=i+(He(n)-He(o))+1:b=i,b<0)return new M(0);if(b=b/Ie+2|0,d=0,N==1)for(u=0,O=O[0],b++;(d<S||u)&&b--;d++)j=u*nt+(P[d]||0),g[d]=j/O|0,u=j%O|0;else{for(u=nt/(O[0]+1)|0,u>1&&(O=e(O,u),P=e(P,u),N=O.length,S=P.length),E=N,v=P.slice(0,N),y=v.length;y<N;)v[y++]=0;C=O.slice(),C.unshift(0),T=O[0],O[1]>=nt/2&&++T;do u=0,c=t(O,v,N,y),c<0?(x=v[0],N!=y&&(x=x*nt+(v[1]||0)),u=x/T|0,u>1?(u>=nt&&(u=nt-1),f=e(O,u),h=f.length,y=v.length,c=t(f,v,h,y),c==1&&(u--,r(f,N<h?C:O,h))):(u==0&&(c=u=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),r(v,f,y),c==-1&&(y=v.length,c=t(O,v,N,y),c<1&&(u++,r(v,N<y?C:O,y))),y=v.length):c===0&&(u++,v=[0]),g[d++]=u,c&&v[0]?v[y++]=P[E]||0:(v=[P[E]],y=1);while((E++<S||v[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Oe(p,s?i+He(p)+1:i)}})();function wy(e,t){var r,n,o,i,s,c,l=0,d=0,u=e.constructor,f=u.precision;if(He(e)>16)throw Error(Md+He(e));if(!e.s)return new u(Ot);for(Be=!1,c=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(n=Math.log(dn(2,d))/Math.LN10*2+5|0,c+=n,r=o=i=new u(Ot),u.precision=c;;){if(o=Oe(o.times(e),c),r=r.times(++l),s=i.plus(vr(o,r,c)),nr(s.d).slice(0,c)===nr(i.d).slice(0,c)){for(;d--;)i=Oe(i.times(i),c);return u.precision=f,t==null?(Be=!0,Oe(i,f)):i}i=s}}function He(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function pc(e,t,r){if(t>e.LN10.sd())throw Be=!0,r&&(e.precision=r),Error(Wt+"LN10 precision limit exceeded");return Oe(new e(e.LN10),t)}function $r(e){for(var t="";e--;)t+="0";return t}function Ra(e,t){var r,n,o,i,s,c,l,d,u,f=1,h=10,p=e,g=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(Wt+(p.s?"NaN":"-Infinity"));if(p.eq(Ot))return new v(0);if(t==null?(Be=!1,d=y):d=t,p.eq(10))return t==null&&(Be=!0),pc(v,d);if(d+=h,v.precision=d,r=nr(g),n=r.charAt(0),i=He(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=nr(p.d),n=r.charAt(0),f++;i=He(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return l=pc(v,d+2,y).times(i+""),p=Ra(new v(n+"."+r.slice(1)),d-h).plus(l),v.precision=y,t==null?(Be=!0,Oe(p,y)):p;for(c=s=p=vr(p.minus(Ot),p.plus(Ot),d),u=Oe(p.times(p),d),o=3;;){if(s=Oe(s.times(u),d),l=c.plus(vr(s,new v(o),d)),nr(l.d).slice(0,d)===nr(c.d).slice(0,d))return c=c.times(2),i!==0&&(c=c.plus(pc(v,d+2,y).times(i+""))),c=vr(c,new v(f),d),v.precision=y,t==null?(Be=!0,Oe(c,y)):c;c=l,o+=2}}function Um(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(n,o),t){if(o-=n,r=r-n-1,e.e=na(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=Ie;n<o;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),Be&&(e.e>Zo||e.e<-Zo))throw Error(Md+r)}else e.s=0,e.e=0,e.d=[0];return e}function Oe(e,t,r){var n,o,i,s,c,l,d,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ie,o=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Ie),i=f.length,u>=i)return e;for(d=i=f[u],s=1;i>=10;i/=10)s++;n%=Ie,o=n-Ie+s}if(r!==void 0&&(i=dn(10,s-o-1),c=d/i%10|0,l=t<0||f[u+1]!==void 0||d%i,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?o>0?d/dn(10,s-o):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=He(e),f.length=1,t=t-i-1,f[0]=dn(10,(Ie-t%Ie)%Ie),e.e=na(-t/Ie)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=dn(10,Ie-n),f[u]=o>0?(d/dn(10,s-o)%dn(10,o)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==nt&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=nt)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Be&&(e.e>Zo||e.e<-Zo))throw Error(Md+He(e));return e}function Cy(e,t){var r,n,o,i,s,c,l,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Be?Oe(t,p):t;if(l=e.d,f=t.d,n=t.e,d=e.e,l=l.slice(),s=d-n,s){for(u=s<0,u?(r=l,s=-s,c=f.length):(r=f,n=d,c=l.length),o=Math.max(Math.ceil(p/Ie),c)+2,s>o&&(s=o,r.length=1),r.reverse(),o=s;o--;)r.push(0);r.reverse()}else{for(o=l.length,c=f.length,u=o<c,u&&(c=o),o=0;o<c;o++)if(l[o]!=f[o]){u=l[o]<f[o];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,o=f.length-c;o>0;--o)l[c++]=0;for(o=f.length;o>s;){if(l[--o]<f[o]){for(i=o;i&&l[--i]===0;)l[i]=nt-1;--l[i],l[o]+=nt}l[o]-=f[o]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Be?Oe(t,p):t):new h(0)}function Nn(e,t,r){var n,o=He(e),i=nr(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+$r(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+$r(-o-1)+i,r&&(n=r-s)>0&&(i+=$r(n))):o>=s?(i+=$r(o+1-s),r&&(n=r-o-1)>0&&(i=i+"."+$r(n))):((n=o+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(o+1===s&&(i+="."),i+=$r(n))),e.s<0?"-"+i:i}function Vm(e,t){if(e.length>t)return e.length=t,!0}function Ny(e){var t,r,n;function o(i){var s=this;if(!(s instanceof o))return new o(i);if(s.constructor=o,i instanceof o){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xn+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return Um(s,i.toString())}else if(typeof i!="string")throw Error(xn+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,xO.test(i))Um(s,i);else throw Error(xn+i)}if(o.prototype=Q,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=Ny,o.config=o.set=bO,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return o.config(e),o}function bO(e){if(!e||typeof e!="object")throw Error(Wt+"Object expected");var t,r,n,o=["precision",1,ra,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((n=e[r=o[t]])!==void 0)if(na(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(xn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xn+r+": "+n);return this}var Rd=Ny(yO);Ot=new Rd(1);const Ce=Rd;var jO=e=>e,Py={},Sy=e=>e===Py,Wm=e=>function t(){return arguments.length===0||arguments.length===1&&Sy(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Ey=(e,t)=>e===1?t:Wm(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=n.filter(s=>s!==Py).length;return i>=e?t(...n):Ey(e-i,Wm(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var d=n.map(u=>Sy(u)?c.shift():u);return t(...d,...c)}))}),Oi=e=>Ey(e.length,e),hl=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},wO=Oi((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),CO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jO;var o=r.reverse(),i=o[0],s=o.slice(1);return function(){return s.reduce((c,l)=>l(c),i(...arguments))}},ml=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Oy=e=>{var t=null,r=null;return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t&&o.every((s,c)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[c])})||(t=o,r=e(...o)),r}};function Ty(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function Ay(e,t,r){for(var n=new Ce(e),o=0,i=[];n.lt(t)&&o<1e5;)i.push(n.toNumber()),n=n.add(r),o++;return i}Oi((e,t,r)=>{var n=+e,o=+t;return n+r*(o-n)});Oi((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Oi((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var Iy=e=>{var[t,r]=e,[n,o]=[t,r];return t>r&&([n,o]=[r,t]),[n,o]},_y=(e,t,r)=>{if(e.lte(0))return new Ce(0);var n=Ty(e.toNumber()),o=new Ce(10).pow(n),i=e.div(o),s=n!==1?.05:.1,c=new Ce(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=c.mul(o);return t?new Ce(l.toNumber()):new Ce(Math.ceil(l.toNumber()))},NO=(e,t,r)=>{var n=new Ce(1),o=new Ce(e);if(!o.isint()&&r){var i=Math.abs(e);i<1?(n=new Ce(10).pow(Ty(e)-1),o=new Ce(Math.floor(o.div(n).toNumber())).mul(n)):i>1&&(o=new Ce(Math.floor(e)))}else e===0?o=new Ce(Math.floor((t-1)/2)):r||(o=new Ce(Math.floor(e)));var s=Math.floor((t-1)/2),c=CO(wO(l=>o.add(new Ce(l-s).mul(n)).toNumber()),hl);return c(0,t)},ky=function(t,r,n,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var s=_y(new Ce(r).sub(t).div(n-1),o,i),c;t<=0&&r>=0?c=new Ce(0):(c=new Ce(t).add(r).div(2),c=c.sub(new Ce(c).mod(s)));var l=Math.ceil(c.sub(t).div(s).toNumber()),d=Math.ceil(new Ce(r).sub(c).div(s).toNumber()),u=l+d+1;return u>n?ky(t,r,n,o,i+1):(u<n&&(d=r>0?d+(n-u):d,l=r>0?l:l+(n-u)),{step:s,tickMin:c.sub(new Ce(l).mul(s)),tickMax:c.add(new Ce(d).mul(s))})};function PO(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,c]=Iy([t,r]);if(s===-1/0||c===1/0){var l=c===1/0?[s,...hl(0,n-1).map(()=>1/0)]:[...hl(0,n-1).map(()=>-1/0),c];return t>r?ml(l):l}if(s===c)return NO(s,n,o);var{step:d,tickMin:u,tickMax:f}=ky(s,c,i,o,0),h=Ay(u,f.add(new Ce(.1).mul(d)),d);return t>r?ml(h):h}function SO(e,t){var[r,n]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=Iy([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var c=Math.max(t,2),l=_y(new Ce(s).sub(i).div(c-1),o,0),d=[...Ay(new Ce(i),new Ce(s),l),s];return o===!1&&(d=d.map(u=>Math.round(u))),r>n?ml(d):d}var EO=Oy(PO),OO=Oy(SO),TO=e=>e.rootProps.barCategoryGap,Ti=e=>e.rootProps.stackOffset,$d=e=>e.options.chartName,Fd=e=>e.rootProps.syncId,My=e=>e.rootProps.syncMethod,Bd=e=>e.options.eventEmitter,dr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},St={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ai=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},AO={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:dr.angleAxisId,includeHidden:!1,name:void 0,reversed:dr.reversed,scale:dr.scale,tick:dr.tick,tickCount:void 0,ticks:void 0,type:dr.type,unit:void 0},IO={allowDataOverflow:St.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:St.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:St.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:St.scale,tick:St.tick,tickCount:St.tickCount,ticks:void 0,type:St.type,unit:void 0},_O={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dr.scale,tick:dr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kO={allowDataOverflow:St.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:St.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:St.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:St.scale,tick:St.tick,tickCount:St.tickCount,ticks:void 0,type:"category",unit:void 0},Dd=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_O:AO,Ld=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kO:IO,Ii=e=>e.polarOptions,zd=L([Pr,Sr,dt],SN),Ry=L([Ii,zd],(e,t)=>{if(e!=null)return Ur(e.innerRadius,t,0)}),$y=L([Ii,zd],(e,t)=>{if(e!=null)return Ur(e.outerRadius,t,t*.8)}),MO=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Fy=L([Ii],MO);L([Dd,Fy],Ai);var By=L([zd,Ry,$y],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([Ld,By],Ai);var Dy=L([_e,Ii,Ry,$y,Pr,Sr],(e,t,r,n,o,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:c,startAngle:l,endAngle:d}=t;return{cx:Ur(s,o,o/2),cy:Ur(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:d,clockWise:!1}}}),Je=(e,t)=>t,_i=(e,t,r)=>r;function Ly(e){return e?.id}var tt=e=>{var t=_e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},aa=e=>e.tooltip.settings.axisId,rt=e=>{var t=tt(e),r=aa(e);return Ha(e,t,r)};function zy(e,t,r){var{chartData:n=[]}=t,o=r?.dataKey,i=new Map;return e.forEach(s=>{var c,l=(c=s.data)!==null&&c!==void 0?c:n;if(!(l==null||l.length===0)){var d=Ly(s);l.forEach((u,f)=>{var h=o==null?f:String(vt(u,o,null)),p=vt(u,s.dataKey,0),g;i.has(h)?g=i.get(h):g={},Object.assign(g,{[d]:p}),i.set(h,g)})}}),Array.from(i.values())}function qd(e){return e.stackId!=null&&e.dataKey!=null}function Km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(r),!0).forEach(function(n){RO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RO(e,t,r){return(t=$O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $O(e){var t=FO(e,"string");return typeof t=="symbol"?t:t+""}function FO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl=[0,"auto"],Nt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Or=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Nt},Pt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pl,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yi},Zr=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Pt},BO={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ud=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??BO},wt=(e,t,r)=>{switch(t){case"xAxis":return Or(e,r);case"yAxis":return Zr(e,r);case"zAxis":return Ud(e,r);case"angleAxis":return Dd(e,r);case"radiusAxis":return Ld(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DO=(e,t,r)=>{switch(t){case"xAxis":return Or(e,r);case"yAxis":return Zr(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ha=(e,t,r)=>{switch(t){case"xAxis":return Or(e,r);case"yAxis":return Zr(e,r);case"angleAxis":return Dd(e,r);case"radiusAxis":return Ld(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qy=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Uy(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Vy=e=>e.graphicalItems.cartesianItems,LO=L([Je,_i],Uy),Wy=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Ya=L([Vy,wt,LO],Wy),Ky=L([Ya],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qd)),Gy=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Hy=L([Ya],Gy),Yy=e=>e.map(t=>t.data).filter(Boolean).flat(1),zO=L([Ya],Yy),Jy=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:o}=t;return e.length>0?e:r.slice(n,o+1)},Vd=L([zO,kd],Jy),Xy=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:vt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(o=>({value:vt(o,n)}))):e.map(n=>({value:n})),ki=L([Vd,wt,Ya],Xy);function Zy(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function An(e){return e.filter(t=>ir(t)||t instanceof Date).map(Number).filter(t=>Ut(t)===!1)}function qO(e,t,r){return!r||typeof t!="number"||Ut(t)?[]:r.length?An(r.flatMap(n=>{var o=vt(e,n.dataKey),i,s;if(Array.isArray(o)?[i,s]=o:i=s=o,!(!Xt(i)||!Xt(s)))return[t-i,t+s]})):[]}var UO=L([Ky,kd,rt],zy),Qy=(e,t,r)=>{var n={},o=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(o).map(i=>{var[s,c]=i,l=c.map(Ly);return[s,{stackedData:zN(e,l,r),graphicalItems:c}]}))},VO=L([UO,Ky,Ti],Qy),ex=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:o}=t;if(r!=="zAxis"){var i=VN(e,n,o);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},WO=L([VO,Xr,Je],ex),tx=(e,t,r,n,o)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var c,l,d=(c=n[s.id])===null||c===void 0?void 0:c.filter(f=>Zy(o,f)),u=vt(i,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:qO(i,u,d)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:vt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Mi=e=>e.errorBars,rx=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Zy(r,n));L([Hy,Mi,Je],rx);var KO=L([Vd,wt,Hy,Mi,Je],tx);function GO(e){var{value:t}=e;if(ir(t)||t instanceof Date)return t}var Gm=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=An(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},HO=(e,t,r)=>{var n=e.map(GO).filter(o=>o!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hv(n))?Dg(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Wd=e=>{var t;if(e==null||!("domain"in e))return pl;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=An(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:pl},ei=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.filter(Boolean);if(o.length!==0){var i=o.flat(),s=Math.min(...i),c=Math.max(...i);return[s,c]}},nx=e=>e.referenceElements.dots,oa=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),YO=L([nx,Je,_i],oa),ax=e=>e.referenceElements.areas,JO=L([ax,Je,_i],oa),ox=e=>e.referenceElements.lines,XO=L([ox,Je,_i],oa),ix=(e,t)=>{var r=An(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZO=L(YO,Je,ix),sx=(e,t)=>{var r=An(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},QO=L([JO,Je],sx),cx=(e,t)=>{var r=An(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eT=L(XO,Je,cx),tT=L(ZO,eT,QO,(e,t,r)=>ei(e,r,t)),rT=L([wt],Wd),lx=(e,t,r,n,o,i,s)=>{var c=vO(t,e.allowDataOverflow);if(c!=null)return c;var l=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",d=l?ei(r,o,Gm(n)):ei(o,Gm(n));return gO(t,d,e.allowDataOverflow)},nT=L([wt,rT,WO,KO,tT,_e,Je],lx),aT=[0,1],dx=(e,t,r,n,o,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:c,type:l}=e,d=Gr(t,i);return d&&c==null?Dg(0,r.length):l==="category"?HO(n,e,d):o==="expand"?aT:s}},Kd=L([wt,_e,Vd,ki,Ti,Je,nT],dx),ux=(e,t,r,n,o)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(za(i));return c in ja?c:"point"}}},Ja=L([wt,_e,qy,$d,Je],ux);function oT(e){if(e!=null){if(e in ja)return ja[e]();var t="scale".concat(za(e));if(t in ja)return ja[t]()}}function Gd(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var o=oT(t);if(o!=null){var i=o.domain(r).range(n);return FN(i),i}}}var fx=(e,t,r)=>{var n=Wd(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Jn(e))return EO(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Jn(e))return OO(e,t.tickCount,t.allowDecimals)}},Hd=L([Kd,Ha,Ja],fx),hx=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Jn(t)&&Array.isArray(r)&&r.length>0){var o=t[0],i=r[0],s=t[1],c=r[r.length-1];return[Math.min(o,i),Math.max(s,c)]}return t},iT=L([wt,Kd,Hd,Je],hx),sT=L(ki,wt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(An(e.map(c=>c.value))).sort((c,l)=>c-l);if(n.length<2)return 1/0;var o=n[n.length-1]-n[0];if(o===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/o}}),mx=L(sT,_e,TO,dt,(e,t,r,n)=>n,(e,t,r,n,o)=>{if(!Xt(e))return 0;var i=t==="vertical"?n.height:n.width;if(o==="gap")return e*i/2;if(o==="no-gap"){var s=Ur(r,e*i),c=e*i/2;return c-s-(c-s)/i*s}return 0}),cT=(e,t)=>{var r=Or(e,t);return r==null||typeof r.padding!="string"?0:mx(e,"xAxis",t,r.padding)},lT=(e,t)=>{var r=Zr(e,t);return r==null||typeof r.padding!="string"?0:mx(e,"yAxis",t,r.padding)},dT=L(Or,cT,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((r=o.left)!==null&&r!==void 0?r:0)+t,right:((n=o.right)!==null&&n!==void 0?n:0)+t}}),uT=L(Zr,lT,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((r=o.top)!==null&&r!==void 0?r:0)+t,bottom:((n=o.bottom)!==null&&n!==void 0?n:0)+t}}),fT=L([dt,dT,bi,xi,(e,t,r)=>r],(e,t,r,n,o)=>{var{padding:i}=n;return o?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),hT=L([dt,_e,uT,bi,xi,(e,t,r)=>r],(e,t,r,n,o,i)=>{var{padding:s}=o;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Xa=(e,t,r,n)=>{var o;switch(t){case"xAxis":return fT(e,r,n);case"yAxis":return hT(e,r,n);case"zAxis":return(o=Ud(e,r))===null||o===void 0?void 0:o.range;case"angleAxis":return Fy(e);case"radiusAxis":return By(e,r);default:return}},px=L([wt,Xa],Ai),ia=L([wt,Ja,iT,px],Gd);L([Ya,Mi,Je],rx);function vx(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ri=(e,t)=>t,$i=(e,t,r)=>r,mT=L(rd,Ri,$i,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vx)),pT=L(nd,Ri,$i,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vx)),gx=(e,t)=>({width:e.width,height:t.height}),vT=(e,t)=>{var r=typeof t.width=="number"?t.width:yi;return{width:r,height:e.height}},gT=L(dt,Or,gx),yT=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},xT=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},bT=L(Sr,dt,mT,Ri,$i,(e,t,r,n,o)=>{var i={},s;return r.forEach(c=>{var l=gx(t,c);s==null&&(s=yT(t,n,e));var d=n==="top"&&!o||n==="bottom"&&o;i[c.id]=s-Number(d)*l.height,s+=(d?-1:1)*l.height}),i}),jT=L(Pr,dt,pT,Ri,$i,(e,t,r,n,o)=>{var i={},s;return r.forEach(c=>{var l=vT(t,c);s==null&&(s=xT(t,n,e));var d=n==="left"&&!o||n==="right"&&o;i[c.id]=s-Number(d)*l.width,s+=(d?-1:1)*l.width}),i}),wT=(e,t)=>{var r=dt(e),n=Or(e,t);if(n!=null){var o=bT(e,n.orientation,n.mirror),i=o[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},CT=(e,t)=>{var r=dt(e),n=Zr(e,t);if(n!=null){var o=jT(e,n.orientation,n.mirror),i=o[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},NT=L(dt,Zr,(e,t)=>{var r=typeof t.width=="number"?t.width:yi;return{width:r,height:e.height}}),yx=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:o,type:i,dataKey:s}=r,c=Gr(e,n),l=t.map(d=>d.value);if(s&&c&&i==="category"&&o&&hv(l))return l}},Yd=L([_e,ki,wt,Je],yx),xx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:o,scale:i}=r,s=Gr(e,n);if(s&&(o==="number"||i!=="auto"))return t.map(c=>c.value)}},Jd=L([_e,ki,Ha,Je],xx),Hm=L([_e,DO,Ja,ia,Yd,Jd,Xa,Hd,Je],(e,t,r,n,o,i,s,c,l)=>{if(t==null)return null;var d=Gr(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:o,isCategorical:d,niceTicks:c,range:s,realScaleType:r,scale:n}}),PT=(e,t,r,n,o,i,s,c,l)=>{if(!(t==null||n==null)){var d=Gr(e,l),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=u==="category"&&n.bandwidth?n.bandwidth()/p:0;g=l==="angleAxis"&&i!=null&&i.length>=2?Lt(i[0]-i[1])*2*g:g;var v=f||o;if(v){var y=v.map((x,b)=>{var j=s?s.indexOf(x):x;return{index:b,coordinate:n(j)+g,value:x,offset:g}});return y.filter(x=>!Ut(x.coordinate))}return d&&c?c.map((x,b)=>({coordinate:n(x)+g,value:x,index:b,offset:g})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,b)=>({coordinate:n(x)+g,value:s?s[x]:x,index:b,offset:g}))}},bx=L([_e,Ha,Ja,ia,Hd,Xa,Yd,Jd,Je],PT),ST=(e,t,r,n,o,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Gr(e,s),{tickCount:l}=t,d=0;return d=s==="angleAxis"&&n?.length>=2?Lt(n[0]-n[1])*2*d:d,c&&i?i.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:o?o[u]:u,index:f,offset:d}))}},jx=L([_e,Ha,ia,Xa,Yd,Jd,Je],ST),wx=L(wt,ia,(e,t)=>{if(!(e==null||t==null))return Qo(Qo({},e),{},{scale:t})}),ET=L([wt,Ja,Kd,px],Gd);L((e,t,r)=>Ud(e,r),ET,(e,t)=>{if(!(e==null||t==null))return Qo(Qo({},e),{},{scale:t})});var OT=L([_e,rd,nd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Cx=e=>e.options.defaultTooltipEventType,Nx=e=>e.options.validateTooltipEventTypes;function Px(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Xd(e,t){var r=Cx(e),n=Nx(e);return Px(t,r,n)}function TT(e){return oe(t=>Xd(t,e))}var Sx=(e,t)=>{var r,n=Number(t);if(!(Ut(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},AT=e=>e.tooltip.settings,Br={active:!1,index:null,dataKey:void 0,coordinate:void 0},IT={itemInteraction:{click:Br,hover:Br},axisInteraction:{click:Br,hover:Br},keyboardInteraction:Br,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Ex=kt({name:"tooltip",initialState:IT,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=pr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_T,removeTooltipEntrySettings:kT,setTooltipSettingsState:MT,setActiveMouseOverItemIndex:RT,mouseLeaveItem:WF,mouseLeaveChart:Ox,setActiveClickItemIndex:KF,setMouseOverAxisIndex:Tx,setMouseClickAxisIndex:$T,setSyncInteraction:vl,setKeyboardInteraction:gl}=Ex.actions,FT=Ex.reducer;function Ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ym(Object(r),!0).forEach(function(n){BT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ym(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BT(e,t,r){return(t=DT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DT(e){var t=LT(e,"string");return typeof t=="symbol"?t:t+""}function LT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zT(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qT(e){return e.index!=null}var Ax=(e,t,r,n)=>{if(t==null)return Br;var o=zT(e,t,r);if(o==null)return Br;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(qT(o)){if(i)return vo(vo({},o),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return vo(vo({},Br),{},{coordinate:o.coordinate})},Zd=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Xt(n))return r;var o=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(o,Math.min(n,i)))},Ix=(e,t,r,n,o,i,s,c)=>{if(!(i==null||c==null)){var l=s[0],d=l==null?void 0:c(l.positions,i);if(d!=null)return d;var u=o?.[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},_x=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return r==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===o})},Za=e=>e.options.tooltipPayloadSearcher,sa=e=>e.tooltip;function Jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jm(Object(r),!0).forEach(function(n){UT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UT(e,t,r){return(t=VT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e){var t=WT(e,"string");return typeof t=="symbol"?t:t+""}function WT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KT(e,t){return e??t}var kx=(e,t,r,n,o,i,s)=>{if(!(t==null||i==null)){var{chartData:c,computedData:l,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:v,settings:y}=p,x=KT(v,c),b=Array.isArray(x)?jg(x,d,u):x,j=(g=y?.dataKey)!==null&&g!==void 0?g:n?.dataKey,E=y?.nameKey,S;if(n!=null&&n.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?S=mv(b,n.dataKey,o):S=i(b,t,l,E),Array.isArray(S))S.forEach(N=>{var C=Xm(Xm({},y),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(Ah({tooltipEntrySettings:C,dataKey:N.dataKey,payload:N.payload,value:vt(N.payload,N.dataKey),name:N.name}))});else{var T;h.push(Ah({tooltipEntrySettings:y,dataKey:j,payload:S,value:vt(S,j),name:(T=vt(S,E))!==null&&T!==void 0?T:y?.name}))}return h},f)}},Qd=L([rt,_e,qy,$d,tt],ux),GT=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HT=L([tt,aa],Uy),Qa=L([GT,rt,HT],Wy),YT=L([Qa],e=>e.filter(qd)),JT=L([Qa],Yy),ca=L([JT,Xr],Jy),XT=L([YT,Xr,rt],zy),eu=L([ca,rt,Qa],Xy),ZT=L([rt],Wd),QT=L([Qa],e=>e.filter(qd)),eA=L([XT,QT,Ti],Qy),tA=L([eA,Xr,tt],ex),rA=L([Qa],Gy),nA=L([ca,rt,rA,Mi,tt],tx),aA=L([nx,tt,aa],oa),oA=L([aA,tt],ix),iA=L([ax,tt,aa],oa),sA=L([iA,tt],sx),cA=L([ox,tt,aa],oa),lA=L([cA,tt],cx),dA=L([oA,lA,sA],ei),uA=L([rt,ZT,tA,nA,dA,_e,tt],lx),Mx=L([rt,_e,ca,eu,Ti,tt,uA],dx),fA=L([Mx,rt,Qd],fx),hA=L([rt,Mx,fA,tt],hx),Rx=e=>{var t=tt(e),r=aa(e),n=!1;return Xa(e,t,r,n)},$x=L([rt,Rx],Ai),Fx=L([rt,Qd,hA,$x],Gd),mA=L([_e,eu,rt,tt],yx),pA=L([_e,eu,rt,tt],xx),vA=(e,t,r,n,o,i,s,c)=>{if(t){var{type:l}=t,d=Gr(e,c);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=c==="angleAxis"&&o!=null&&o?.length>=2?Lt(o[0]-o[1])*2*f:f,d&&s?s.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Tr=L([_e,rt,Qd,Fx,Rx,mA,pA,tt],vA),tu=L([Cx,Nx,AT],(e,t,r)=>Px(r.shared,e,t)),Bx=e=>e.tooltip.settings.trigger,ru=e=>e.tooltip.settings.defaultIndex,Fi=L([sa,tu,Bx,ru],Ax),$a=L([Fi,ca],Zd),Dx=L([Tr,$a],Sx),gA=L([Fi],e=>{if(e)return e.dataKey}),Lx=L([sa,tu,Bx,ru],_x),yA=L([Pr,Sr,_e,dt,Tr,ru,Lx,Za],Ix),xA=L([Fi,yA],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bA=L([Fi],e=>e.active),jA=L([Lx,$a,Xr,rt,Dx,Za,tu],kx),wA=L([jA],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zm(Object(r),!0).forEach(function(n){CA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CA(e,t,r){return(t=NA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NA(e){var t=PA(e,"string");return typeof t=="symbol"?t:t+""}function PA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SA=()=>oe(rt),EA=()=>{var e=SA(),t=oe(Tr),r=oe(Fx);return Xc(Qm(Qm({},e),{},{scale:r}),t)},OA=()=>oe($d),nu=(e,t)=>t,zx=(e,t,r)=>r,au=(e,t,r,n)=>n,TA=L(Tr,e=>ui(e,t=>t.coordinate)),ou=L([sa,nu,zx,au],Ax),qx=L([ou,ca],Zd),AA=(e,t,r)=>{if(t!=null){var n=sa(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Ux=L([sa,nu,zx,au],_x),ti=L([Pr,Sr,_e,dt,Tr,au,Ux,Za],Ix),IA=L([ou,ti],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Vx=L(Tr,qx,Sx),_A=L([Ux,qx,Xr,rt,Vx,Za,nu],kx),kA=L([ou],e=>({isActive:e.active,activeIndex:e.index})),MA=(e,t,r,n,o,i,s,c)=>{if(!(!e||!t||!n||!o||!i)){var l=WN(e.chartX,e.chartY,t,r,c);if(l){var d=GN(l,t),u=RN(d,s,i,n,o),f=KN(t,i,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yl.apply(null,arguments)}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(n){RA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RA(e,t,r){return(t=$A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e){var t=FA(e,"string");return typeof t=="symbol"?t:t+""}function FA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BA(e){var{coordinate:t,payload:r,index:n,offset:o,tooltipAxisBandSize:i,layout:s,cursor:c,tooltipEventType:l,chartName:d}=e,u=t,f=r,h=n;if(!c||!u||d!=="ScatterChart"&&l!=="axis")return null;var p,g;if(d==="ScatterChart")p=u,g=HP;else if(d==="BarChart")p=YP(s,u,o,i),g=AS;else if(s==="radial"){var{cx:v,cy:y,radius:x,startAngle:b,endAngle:j}=Fg(u);p={cx:v,cy:y,startAngle:b,endAngle:j,innerRadius:x,outerRadius:x},g=MS}else p={points:RS(s,u,o)},g=Ag;var E=typeof c=="object"&&"className"in c?c.className:void 0,S=go(go(go(go({stroke:"#ccc",pointerEvents:"none"},o),p),Qe(c,!1)),{},{payload:f,payloadIndex:h,className:Ee("recharts-tooltip-cursor",E)});return m.isValidElement(c)?m.cloneElement(c,S):m.createElement(g,S)}function DA(e){var t=EA(),r=Eg(),n=sd(),o=OA();return m.createElement(BA,yl({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:o}))}var Wx=m.createContext(null),LA=()=>m.useContext(Wx),vc={exports:{}},tp;function zA(){return tp||(tp=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(l,d,u){this.fn=l,this.context=d,this.once=u||!1}function i(l,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new o(u,f||l,h),g=r?r+d:d;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},c.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},c.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},c.prototype.emit=function(d,u,f,h,p,g){var v=r?r+d:d;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,b,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,p),!0;case 6:return y.fn.call(y.context,u,f,h,p,g),!0}for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];y.fn.apply(y.context,b)}else{var E=y.length,S;for(j=0;j<E;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),x){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,f);break;case 4:y[j].fn.call(y[j].context,u,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[j].fn.apply(y[j].context,b)}}return!0},c.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},c.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},c.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==u||h&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},c.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(vc)),vc.exports}var qA=zA();const UA=Wr(qA);var Fa=new UA,xl="recharts.syncEvent.tooltip",rp="recharts.syncEvent.brush";function VA(e,t){if(t){var r=Number.parseInt(t,10);if(!Ut(r))return e?.[r]}}var WA={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Kx=kt({name:"options",initialState:WA,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KA=Kx.reducer,{createEventEmitter:GA}=Kx.actions;function HA(e){return e.tooltip.syncInteraction}var YA={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Gx=kt({name:"chartData",initialState:YA,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:np,setDataStartEndIndexes:JA,setComputedData:GF}=Gx.actions,XA=Gx.reducer,Hx=()=>{};function ZA(){var e=oe(Fd),t=oe(Bd),r=lt(),n=oe(My),o=oe(Tr),i=sd(),s=ad(),c=oe(l=>l.rootProps.className);m.useEffect(()=>{if(e==null)return Hx;var l=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){r(u);return}if(o!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},g=n(o,p);h=o[g]}else n==="value"&&(h=o.find(T=>String(T.value)===u.payload.label));var{coordinate:v}=u.payload;if(h==null||u.payload.active===!1||v==null||s==null){r(vl({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:x}=v,b=Math.min(y,s.x+s.width),j=Math.min(x,s.y+s.height),E={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?j:h.coordinate},S=vl({active:u.payload.active,coordinate:E,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(S)}}};return Fa.on(xl,l),()=>{Fa.off(xl,l)}},[c,r,t,e,n,o,i,s])}function QA(){var e=oe(Fd),t=oe(Bd),r=lt();m.useEffect(()=>{if(e==null)return Hx;var n=(o,i,s)=>{t!==s&&e===o&&r(JA(i))};return Fa.on(rp,n),()=>{Fa.off(rp,n)}},[r,t,e])}function eI(){var e=lt();m.useEffect(()=>{e(GA())},[e]),ZA(),QA()}function tI(e,t,r,n,o,i){var s=oe(h=>AA(h,e,t)),c=oe(Bd),l=oe(Fd),d=oe(My),u=oe(HA),f=u?.active;m.useEffect(()=>{if(!f&&l!=null&&c!=null){var h=vl({active:i,coordinate:r,dataKey:s,index:o,label:typeof n=="number"?String(n):n});Fa.emit(xl,l,h,c)}},[f,r,s,o,n,c,l,d,i])}function ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ap(Object(r),!0).forEach(function(n){rI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rI(e,t,r){return(t=nI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nI(e){var t=aI(e,"string");return typeof t=="symbol"?t:t+""}function aI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oI(e){return e.dataKey}function iI(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(SP,t)}var ip=[],sI={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ua.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cI(e){var t=Hr(e,sI),{active:r,allowEscapeViewBox:n,animationDuration:o,animationEasing:i,content:s,filterNull:c,isAnimationActive:l,offset:d,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:y,trigger:x,defaultIndex:b,portal:j,axisId:E}=t,S=lt(),T=typeof b=="number"?String(b):b;m.useEffect(()=>{S(MT({shared:y,trigger:x,axisId:E,active:r,defaultIndex:T}))},[S,y,x,E,r,T]);var N=ad(),C=Tg(),M=TT(y),{activeIndex:F,isActive:P}=oe(U=>kA(U,M,x,T)),O=oe(U=>_A(U,M,x,T)),$=oe(U=>Vx(U,M,x,T)),K=oe(U=>IA(U,M,x,T)),Y=O,re=LA(),ce=r??P,[ue,X]=Jv([Y,ce]),le=M==="axis"?$:void 0;tI(M,x,K,le,F,ce);var W=j??re;if(W==null)return null;var _=Y??ip;ce||(_=ip),c&&_.length&&(_=Wv(Y.filter(U=>U.value!=null&&(U.hide!==!0||t.includeHidden)),u,oI));var w=_.length>0,B=m.createElement(kP,{allowEscapeViewBox:n,animationDuration:o,animationEasing:i,isAnimationActive:l,active:ce,coordinate:K,hasPayload:w,offset:d,position:f,reverseDirection:h,useTranslate3d:p,viewBox:N,wrapperStyle:g,lastBoundingBox:ue,innerRef:X,hasPortalFromProps:!!j},iI(s,op(op({},t),{},{payload:_,label:le,active:ce,coordinate:K,accessibilityLayer:C})));return m.createElement(m.Fragment,null,tv.createPortal(B,W),ce&&m.createElement(DA,{cursor:v,tooltipEventType:M,coordinate:K,payload:Y,index:F}))}var gc={},yc={},xc={},sp;function lI(){return sp||(sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:o,edges:i}={}){let s,c=null;const l=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{c!==null&&(r.apply(s,c),s=void 0,c=null)},f=()=>{d&&u(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),s=void 0,c=null},y=()=>{u()},x=function(...b){if(o?.aborted)return;s=this,c=b;const j=h==null;p(),l&&j&&u()};return x.schedule=p,x.cancel=v,x.flush=y,o?.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(xc)),xc}var cp;function dI(){return cp||(cp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI();function r(n,o=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:c=!0,maxWait:l}=i,d=Array(2);s&&(d[0]="leading"),c&&(d[1]="trailing");let u,f=null;const h=t.debounce(function(...v){u=n.apply(this,v),f=null},o,{edges:d}),p=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,v),u)},g=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(yc)),yc}var lp;function uI(){return lp||(lp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI();function r(n,o=0,i={}){const{leading:s=!0,trailing:c=!0}=i;return t.debounce(n,o,{leading:s,maxWait:o,trailing:c})}e.throttle=r})(gc)),gc}var bc,dp;function fI(){return dp||(dp=1,bc=uI().throttle),bc}var hI=fI();const mI=Wr(hI);var Ca=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i]};function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?up(Object(r),!0).forEach(function(n){pI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pI(e,t,r){return(t=vI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vI(e){var t=gI(e,"string");return typeof t=="symbol"?t:t+""}function gI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yI=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:o="100%",height:i="100%",minWidth:s=0,minHeight:c,maxHeight:l,children:d,debounce:u=0,id:f,className:h,onResize:p,style:g={}}=e,v=m.useRef(null),y=m.useRef();y.current=p,m.useImperativeHandle(t,()=>v.current);var[x,b]=m.useState({containerWidth:n.width,containerHeight:n.height}),j=m.useCallback((S,T)=>{b(N=>{var C=Math.round(S),M=Math.round(T);return N.containerWidth===C&&N.containerHeight===M?N:{containerWidth:C,containerHeight:M}})},[]);m.useEffect(()=>{var S=M=>{var F,{width:P,height:O}=M[0].contentRect;j(P,O),(F=y.current)===null||F===void 0||F.call(y,P,O)};u>0&&(S=mI(S,u,{trailing:!0,leading:!1}));var T=new ResizeObserver(S),{width:N,height:C}=v.current.getBoundingClientRect();return j(N,C),T.observe(v.current),()=>{T.disconnect()}},[j,u]);var E=m.useMemo(()=>{var{containerWidth:S,containerHeight:T}=x;if(S<0||T<0)return null;Ca(un(o)||un(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,i),Ca(!r||r>0,"The aspect(%s) must be greater than zero.",r);var N=un(o)?S:o,C=un(i)?T:i;return r&&r>0&&(N?C=N/r:C&&(N=C*r),l&&C>l&&(C=l)),Ca(N>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,C,o,i,s,c,r),m.Children.map(d,M=>m.cloneElement(M,{width:N,height:C,style:jc({width:N,height:C},M.props.style)}))},[r,d,i,l,c,s,x,o]);return m.createElement("div",{id:f?"".concat(f):void 0,className:Ee("recharts-responsive-container",h),style:jc(jc({},g),{},{width:o,height:i,minWidth:s,minHeight:c,maxHeight:l}),ref:v},m.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))});function xI(e,t,r){return(t=bI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bI(e){var t=jI(e,"string");return typeof t=="symbol"?t:t+""}function jI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wI{constructor(t){xI(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function fp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function CI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fp(Object(r),!0).forEach(function(n){NI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NI(e,t,r){return(t=PI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PI(e){var t=SI(e,"string");return typeof t=="symbol"?t:t+""}function SI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EI={cacheSize:2e3,enableCache:!0},Yx=CI({},EI),hp=new wI(Yx.cacheSize),OI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mp="recharts_measurement_span";function TI(e,t){var r=t.fontSize||"",n=t.fontFamily||"",o=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(o,"|").concat(i,"|").concat(s,"|").concat(c)}var pp=(e,t)=>{try{var r=document.getElementById(mp);r||(r=document.createElement("span"),r.setAttribute("id",mp),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,OI,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Na=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ua.isSsr)return{width:0,height:0};if(!Yx.enableCache)return pp(t,r);var n=TI(t,r),o=hp.get(n);if(o)return o;var i=pp(t,r);return hp.set(n,i),i},vp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AI=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,II=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_I=Object.keys(Jx),Rn="NaN";function kI(e,t){return e*Jx[t]}class xt{static parse(t){var r,[,n,o]=(r=II.exec(t))!==null&&r!==void 0?r:[];return new xt(parseFloat(n),o??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ut(t)&&(this.unit=""),r!==""&&!AI.test(r)&&(this.num=NaN,this.unit=""),_I.includes(r)&&(this.num=kI(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new xt(NaN,""):new xt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new xt(NaN,""):new xt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new xt(NaN,""):new xt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new xt(NaN,""):new xt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ut(this.num)}}function Xx(e){if(e.includes(Rn))return Rn;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,o,i]=(r=vp.exec(t))!==null&&r!==void 0?r:[],s=xt.parse(n??""),c=xt.parse(i??""),l=o==="*"?s.multiply(c):s.divide(c);if(l.isNaN())return Rn;t=t.replace(vp,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,h]=(d=gp.exec(t))!==null&&d!==void 0?d:[],p=xt.parse(u??""),g=xt.parse(h??""),v=f==="+"?p.add(g):p.subtract(g);if(v.isNaN())return Rn;t=t.replace(gp,v.toString())}return t}var yp=/\(([^()]*)\)/;function MI(e){for(var t=e,r;(r=yp.exec(t))!=null;){var[,n]=r;t=t.replace(yp,Xx(n))}return t}function RI(e){var t=e.replace(/\s+/g,"");return t=MI(t),t=Xx(t),t}function $I(e){try{return RI(e)}catch{return Rn}}function wc(e){var t=$I(e.slice(5,-1));return t===Rn?"":t}var FI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BI=["dx","dy","angle","className","breakAll"];function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(null,arguments)}function xp(e,t){if(e==null)return{};var r,n,o=DI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function DI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zx=/[ \f\n\r\t\v\u2028\u2029]+/,Qx=e=>{var{children:t,breakAll:r,style:n}=e;try{var o=[];Ge(t)||(r?o=t.toString().split(""):o=t.toString().split(Zx));var i=o.map(c=>({word:c,width:Na(c,n).width})),s=r?0:Na("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},LI=(e,t,r,n,o)=>{var{maxLines:i,children:s,style:c,breakAll:l}=e,d=ae(i),u=s,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((O,$)=>{var{word:K,width:Y}=$,re=O[O.length-1];if(re&&(n==null||o||re.width+Y+r<Number(n)))re.words.push(K),re.width+=Y+r;else{var ce={words:[K],width:Y};O.push(ce)}return O},[])},h=f(t),p=F=>F.reduce((P,O)=>P.width>O.width?P:O);if(!d||o)return h;var g=h.length>i||p(h).width>Number(n);if(!g)return h;for(var v="",y=F=>{var P=u.slice(0,F),O=Qx({breakAll:l,style:c,children:P+v}).wordsWithComputedWidth,$=f(O),K=$.length>i||p($).width>Number(n);return[K,$]},x=0,b=u.length-1,j=0,E;x<=b&&j<=u.length-1;){var S=Math.floor((x+b)/2),T=S-1,[N,C]=y(T),[M]=y(S);if(!N&&!M&&(x=S+1),N&&M&&(b=S-1),!N&&M){E=C;break}j++}return E||h},bp=e=>{var t=Ge(e)?[]:e.toString().split(Zx);return[{words:t}]},zI=e=>{var{width:t,scaleToFit:r,children:n,style:o,breakAll:i,maxLines:s}=e;if((t||r)&&!Ua.isSsr){var c,l,d=Qx({breakAll:i,children:n,style:o});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;c=u,l=f}else return bp(n);return LI({breakAll:i,children:n,maxLines:s,style:o},c,l,t,r)}return bp(n)},jp="#808080",iu=m.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:o="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:l="end",fill:d=jp}=e,u=xp(e,FI),f=m.useMemo(()=>zI({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:p,angle:g,className:v,breakAll:y}=u,x=xp(u,BI);if(!ir(r)||!ir(n))return null;var b=r+(ae(h)?h:0),j=n+(ae(p)?p:0),E;switch(l){case"start":E=wc("calc(".concat(i,")"));break;case"middle":E=wc("calc(".concat((f.length-1)/2," * -").concat(o," + (").concat(i," / 2))"));break;default:E=wc("calc(".concat(f.length-1," * -").concat(o,")"));break}var S=[];if(s){var T=f[0].width,{width:N}=u;S.push("scale(".concat(ae(N)?N/T:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(b,", ").concat(j,")")),S.length&&(x.transform=S.join(" ")),m.createElement("text",bl({},Qe(x,!0),{ref:t,x:b,y:j,className:Ee("recharts-text",v),textAnchor:c,fill:d.includes("url")?jp:d}),f.map((C,M)=>{var F=C.words.join(y?"":" ");return m.createElement("tspan",{x:b,dy:M===0?E:o,key:"".concat(F,"-").concat(M)},F)}))});iu.displayName="Text";var qI=["offset"],UI=["labelRef"];function wp(e,t){if(e==null)return{};var r,n,o=VI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function VI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cp(Object(r),!0).forEach(function(n){WI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WI(e,t,r){return(t=KI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KI(e){var t=GI(e,"string");return typeof t=="symbol"?t:t+""}function GI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ur.apply(null,arguments)}var HI=e=>{var{value:t,formatter:r}=e,n=Ge(e.children)?t:e.children;return typeof r=="function"?r(n):n},su=e=>e!=null&&typeof e=="function",YI=(e,t)=>{var r=Lt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},JI=(e,t,r,n)=>{var{position:o,offset:i,className:s}=e,{cx:c,cy:l,innerRadius:d,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=n,g=(d+u)/2,v=YI(f,h),y=v>=0?1:-1,x,b;o==="insideStart"?(x=f+y*i,b=p):o==="insideEnd"?(x=h-y*i,b=!p):o==="end"&&(x=h+y*i,b=p),b=v<=0?b:!b;var j=ct(c,l,g,x),E=ct(c,l,g,x+(b?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(E.x,",").concat(E.y),T=Ge(e.id)?Ea("recharts-radial-line-"):e.id;return m.createElement("text",ur({},r,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:T,d:S})),m.createElement("textPath",{xlinkHref:"#".concat(T)},t))},XI=(e,t,r)=>{var{cx:n,cy:o,innerRadius:i,outerRadius:s,startAngle:c,endAngle:l}=e,d=(c+l)/2;if(r==="outside"){var{x:u,y:f}=ct(n,o,s+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:p,y:g}=ct(n,o,h,d);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},ZI=(e,t)=>{var{parentViewBox:r,offset:n,position:o}=e,{x:i,y:s,width:c,height:l}=t,d=l>=0?1:-1,u=d*n,f=d>0?"end":"start",h=d>0?"start":"end",p=c>=0?1:-1,g=p*n,v=p>0?"end":"start",y=p>0?"start":"end";if(o==="top"){var x={x:i+c/2,y:s-d*n,textAnchor:"middle",verticalAnchor:f};return Le(Le({},x),r?{height:Math.max(s-r.y,0),width:c}:{})}if(o==="bottom"){var b={x:i+c/2,y:s+l+u,textAnchor:"middle",verticalAnchor:h};return Le(Le({},b),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{})}if(o==="left"){var j={x:i-g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return Le(Le({},j),r?{width:Math.max(j.x-r.x,0),height:l}:{})}if(o==="right"){var E={x:i+c+g,y:s+l/2,textAnchor:y,verticalAnchor:"middle"};return Le(Le({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:l}:{})}var S=r?{width:c,height:l}:{};return o==="insideLeft"?Le({x:i+g,y:s+l/2,textAnchor:y,verticalAnchor:"middle"},S):o==="insideRight"?Le({x:i+c-g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},S):o==="insideTop"?Le({x:i+c/2,y:s+u,textAnchor:"middle",verticalAnchor:h},S):o==="insideBottom"?Le({x:i+c/2,y:s+l-u,textAnchor:"middle",verticalAnchor:f},S):o==="insideTopLeft"?Le({x:i+g,y:s+u,textAnchor:y,verticalAnchor:h},S):o==="insideTopRight"?Le({x:i+c-g,y:s+u,textAnchor:v,verticalAnchor:h},S):o==="insideBottomLeft"?Le({x:i+g,y:s+l-u,textAnchor:y,verticalAnchor:f},S):o==="insideBottomRight"?Le({x:i+c-g,y:s+l-u,textAnchor:v,verticalAnchor:f},S):o&&typeof o=="object"&&(ae(o.x)||un(o.x))&&(ae(o.y)||un(o.y))?Le({x:i+Ur(o.x,c),y:s+Ur(o.y,l),textAnchor:"end",verticalAnchor:"end"},S):Le({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},S)},QI=e=>"cx"in e&&ae(e.cx);function Et(e){var{offset:t=5}=e,r=wp(e,qI),n=Le({offset:t},r),{viewBox:o,position:i,value:s,children:c,content:l,className:d="",textBreakAll:u,labelRef:f}=n,h=oe(Dy),p=ad(),g=i==="center"?p:h??p,v=o||g;if(!v||Ge(s)&&Ge(c)&&!m.isValidElement(l)&&typeof l!="function")return null;var y=Le(Le({},n),{},{viewBox:v});if(m.isValidElement(l)){var{labelRef:x}=y,b=wp(y,UI);return m.cloneElement(l,b)}var j;if(typeof l=="function"){if(j=m.createElement(l,y),m.isValidElement(j))return j}else j=HI(n);var E=QI(v),S=Qe(n,!0);if(E&&(i==="insideStart"||i==="insideEnd"||i==="end"))return JI(n,j,S,v);var T=E?XI(v,n.offset,n.position):ZI(n,v);return m.createElement(iu,ur({ref:f,className:Ee("recharts-label",d)},S,T,{breakAll:u}),j)}Et.displayName="Label";var e0=e=>{var{cx:t,cy:r,angle:n,startAngle:o,endAngle:i,r:s,radius:c,innerRadius:l,outerRadius:d,x:u,y:f,top:h,left:p,width:g,height:v,clockWise:y,labelViewBox:x}=e;if(x)return x;if(ae(g)&&ae(v)){if(ae(u)&&ae(f))return{x:u,y:f,width:g,height:v};if(ae(h)&&ae(p))return{x:h,y:p,width:g,height:v}}if(ae(u)&&ae(f))return{x:u,y:f,width:0,height:0};if(ae(t)&&ae(r))return{cx:t,cy:r,startAngle:o||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:d||c||s||0,clockWise:y};if(e.viewBox)return e.viewBox},e_=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(Et,ur({key:"label-implicit"},n)):ir(e)?m.createElement(Et,ur({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===Et?m.cloneElement(e,Le({key:"label-implicit"},n)):m.createElement(Et,ur({key:"label-implicit",content:e},n)):su(e)?m.createElement(Et,ur({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(Et,ur({},e,{key:"label-implicit"},n)):null},t_=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:o,labelRef:i}=t,s=e0(t),c=yv(o,Et).map((d,u)=>m.cloneElement(d,{viewBox:r||s,key:"label-".concat(u)}));if(!n)return c;var l=e_(t.label,r||s,i);return[l,...c]};Et.parseViewBox=e0;Et.renderCallByParent=t_;var Cc={},Nc={},Np;function r_(){return Np||(Np=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Nc)),Nc}var Pc={},Pp;function n_(){return Pp||(Pp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Pc)),Pc}var Sp;function a_(){return Sp||(Sp=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_(),r=n_(),n=Wl();function o(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=o})(Cc)),Cc}var Sc,Ep;function o_(){return Ep||(Ep=1,Sc=a_().last),Sc}var i_=o_();const s_=Wr(i_);var c_=["valueAccessor"],l_=["data","dataKey","clockWise","id","textBreakAll"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function Op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Op(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Op(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_(e,t,r){return(t=u_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u_(e){var t=f_(e,"string");return typeof t=="symbol"?t:t+""}function f_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ap(e,t){if(e==null)return{};var r,n,o=h_(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function h_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m_=e=>Array.isArray(e.value)?s_(e.value):e.value;function bn(e){var{valueAccessor:t=m_}=e,r=Ap(e,c_),{data:n,dataKey:o,clockWise:i,id:s,textBreakAll:c}=r,l=Ap(r,l_);return!n||!n.length?null:m.createElement(Un,{className:"recharts-label-list"},n.map((d,u)=>{var f=Ge(o)?t(d,u):vt(d&&d.payload,o),h=Ge(s)?{}:{id:"".concat(s,"-").concat(u)};return m.createElement(Et,ri({},Qe(d,!0),l,h,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Et.parseViewBox(Ge(i)?d:Tp(Tp({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}bn.displayName="LabelList";function p_(e,t){return e?e===!0?m.createElement(bn,{key:"labelList-implicit",data:t}):m.isValidElement(e)||su(e)?m.createElement(bn,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?m.createElement(bn,ri({data:t},e,{key:"labelList-implicit"})):null:null}function v_(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,o=yv(n,bn).map((s,c)=>m.cloneElement(s,{data:t,key:"labelList-".concat(c)}));if(!r)return o;var i=p_(e.label,t);return[i,...o]}bn.renderCallByParent=v_;function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(null,arguments)}var t0=e=>{var{cx:t,cy:r,r:n,className:o}=e,i=Ee("recharts-dot",o);return t===+t&&r===+r&&n===+n?m.createElement("circle",jl({},ea(e),Bl(e),{className:i,cx:t,cy:r,r:n})):null},g_={radiusAxis:{},angleAxis:{}},r0=kt({name:"polarAxis",initialState:g_,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:HF,removeRadiusAxis:YF,addAngleAxis:JF,removeAngleAxis:XF}=r0.actions,y_=r0.reducer;function x_(e){var{fn:t,args:r}=e,n=lt(),o=Kt();return m.useEffect(()=>{if(!o){var i=t(r);return n(_T(i)),()=>{n(kT(i))}}},[t,r,n,o]),null}var b_=()=>{};function j_(e){var{legendPayload:t}=e,r=lt(),n=Kt();return m.useEffect(()=>n?b_:(r(cP(t)),()=>{r(lP(t))}),[r,n,t]),null}function w_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(Ea(t)),n=m.useRef(e);return n.current!==e&&(r.current=Ea(t),n.current=e),r.current}var Ec,C_=()=>{var[e]=m.useState(()=>Ea("uid-"));return e},N_=(Ec=mj.useId)!==null&&Ec!==void 0?Ec:C_;function P_(e,t){var r=N_();return t||(e?"".concat(e,"-").concat(r):r)}var S_=m.createContext(void 0),E_=e=>{var{id:t,type:r,children:n}=e,o=P_("recharts-".concat(r),t);return m.createElement(S_.Provider,{value:o},n(o))},O_={cartesianItems:[],polarItems:[]},n0=kt({name:"graphicalItems",initialState:O_,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,o=pr(e).cartesianItems.indexOf(r);o>-1&&(e.cartesianItems[o]=n)},removeCartesianGraphicalItem(e,t){var r=pr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=pr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:T_,replaceCartesianGraphicalItem:A_,removeCartesianGraphicalItem:I_,addPolarGraphicalItem:ZF,removePolarGraphicalItem:QF}=n0.actions,__=n0.reducer;function k_(e){var t=lt(),r=m.useRef(null);return m.useEffect(()=>{r.current===null?t(T_(e)):r.current!==e&&t(A_({prev:r.current,next:e})),r.current=e},[t,e]),m.useEffect(()=>()=>{r.current&&(t(I_(r.current)),r.current=null)},[t]),null}function M_(){}var R_={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ip={t:0},Oc={t:1};function $_(e){var t=Hr(e,R_),{isActive:r,canBegin:n,duration:o,easing:i,begin:s,onAnimationEnd:c,onAnimationStart:l,children:d}=t,u=$g("JavascriptAnimate",t.animationManager),[f,h]=m.useState(r?Ip:Oc),p=m.useRef(null);return m.useEffect(()=>{r||h(Oc)},[r]),m.useEffect(()=>{if(!r||!n)return M_;var g=Rg(Ip,Oc,kg(i),o,h,u.getTimeoutController()),v=()=>{p.current=g()};return u.start([l,s,v,o,c]),()=>{u.stop(),p.current&&p.current(),c()}},[r,n,o,i,s,l,c,u]),d(f.t)}var F_=L([dt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),B_=L([F_,Pr,Sr],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),cu=()=>oe(B_),D_=()=>oe(wA);function _p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_p(Object(r),!0).forEach(function(n){L_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L_(e,t,r){return(t=z_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e){var t=q_(e,"string");return typeof t=="symbol"?t:t+""}function q_(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U_=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:o,dataKey:i}=e;if(o===!1||t.x==null||t.y==null)return null;var s=kp(kp({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Qe(o,!1)),Bl(o)),c;return m.isValidElement(o)?c=m.cloneElement(o,s):typeof o=="function"?c=o(s):c=m.createElement(t0,s),m.createElement(Un,{className:"recharts-active-dot"},c)};function V_(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:o}=e,i=oe($a),s=D_();if(t==null||s==null)return null;var c=t.find(l=>s.includes(l.payload));return Ge(c)?null:U_({point:c,childIndex:Number(i),mainColor:r,dataKey:o,activeDot:n})}var W_={},a0=kt({name:"errorBars",initialState:W_,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(o=>o.dataKey!==n.dataKey||o.direction!==n.direction))}}}),{addErrorBar:eB,removeErrorBar:tB}=a0.actions,K_=a0.reducer,G_=["children"];function H_(e,t){if(e==null)return{};var r,n,o=Y_(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Y_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J_={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},X_=m.createContext(J_);function Z_(e){var{children:t}=e,r=H_(e,G_);return m.createElement(X_.Provider,{value:r},t)}function o0(e,t){var r,n,o=oe(d=>Or(d,e)),i=oe(d=>Zr(d,t)),s=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Nt.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Pt.allowDataOverflow,l=s||c;return{needClip:l,needClipX:s,needClipY:c}}function Q_(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,o=cu(),{needClipX:i,needClipY:s,needClip:c}=o0(t,r);if(!c)return null;var{x:l,y:d,width:u,height:f}=o;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:i?l:l-u/2,y:s?d:d-f/2,width:i?u:u*2,height:s?f:f*2}))}var ek=e=>{var{chartData:t}=e,r=lt(),n=Kt();return m.useEffect(()=>n?()=>{}:(r(np(t)),()=>{r(np(void 0))}),[t,r,n]),null},Mp={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},i0=kt({name:"brush",initialState:Mp,reducers:{setBrushSettings(e,t){return t.payload==null?Mp:t.payload}}}),{setBrushSettings:rB}=i0.actions,tk=i0.reducer;function rk(e,t,r){return(t=nk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nk(e){var t=ak(e,"string");return typeof t=="symbol"?t:t+""}function ak(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lu{static create(t){return new lu(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],o=r[r.length-1];return n<=o?t>=n&&t<=o:t>=o&&t<=n}}rk(lu,"EPS",1e-4);function ok(e){return(e%180+180)%180}var ik=function(t){var{width:r,height:n}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ok(o),s=i*Math.PI/180,c=Math.atan(n/r),l=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},sk={dots:[],areas:[],lines:[]},s0=kt({name:"referenceElements",initialState:sk,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=pr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=pr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=pr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:nB,removeDot:aB,addArea:oB,removeArea:iB,addLine:sB,removeLine:cB}=s0.actions,ck=s0.reducer,lk=m.createContext(void 0),dk=e=>{var{children:t}=e,[r]=m.useState("".concat(Ea("recharts"),"-clip")),n=cu();if(n==null)return null;var{x:o,y:i,width:s,height:c}=n;return m.createElement(lk.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:o,y:i,height:c,width:s}))),t)};function Tc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function c0(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],o=0;o<e.length;o+=t)n.push(e[o]);return n}function uk(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ik(n,r)}function fk(e,t,r){var n=r==="width",{x:o,y:i,width:s,height:c}=e;return t===1?{start:n?o:i,end:n?o+s:i+c}:{start:n?o+s:i+c,end:n?o:i}}function ni(e,t,r,n,o){if(e*t<e*n||e*t>e*o)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-o)<=0}function hk(e,t){return c0(e,t+1)}function mk(e,t,r,n,o){for(var i=(n||[]).slice(),{start:s,end:c}=t,l=0,d=1,u=s,f=function(){var g=n?.[l];if(g===void 0)return{v:c0(n,d)};var v=l,y,x=()=>(y===void 0&&(y=r(g,v)),y),b=g.coordinate,j=l===0||ni(e,b,x,u,c);j||(l=0,u=s,d+=1),j&&(u=b+e*(x()/2+o),l+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function Rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rp(Object(r),!0).forEach(function(n){pk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pk(e,t,r){return(t=vk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vk(e){var t=gk(e,"string");return typeof t=="symbol"?t:t+""}function gk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yk(e,t,r,n,o){for(var i=(n||[]).slice(),s=i.length,{start:c}=t,{end:l}=t,d=function(h){var p=i[h],g,v=()=>(g===void 0&&(g=r(p,h)),g);if(h===s-1){var y=e*(p.coordinate+e*v()/2-l);i[h]=p=ut(ut({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=ut(ut({},p),{},{tickCoord:p.coordinate});var x=ni(e,p.tickCoord,v,c,l);x&&(l=p.tickCoord-e*(v()/2+o),i[h]=ut(ut({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)d(u);return i}function xk(e,t,r,n,o,i){var s=(n||[]).slice(),c=s.length,{start:l,end:d}=t;if(i){var u=n[c-1],f=r(u,c-1),h=e*(u.coordinate+e*f/2-d);s[c-1]=u=ut(ut({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=ni(e,u.tickCoord,()=>f,l,d);p&&(d=u.tickCoord-e*(f/2+o),s[c-1]=ut(ut({},u),{},{isShow:!0}))}for(var g=i?c-1:c,v=function(b){var j=s[b],E,S=()=>(E===void 0&&(E=r(j,b)),E);if(b===0){var T=e*(j.coordinate-e*S()/2-l);s[b]=j=ut(ut({},j),{},{tickCoord:T<0?j.coordinate-T*e:j.coordinate})}else s[b]=j=ut(ut({},j),{},{tickCoord:j.coordinate});var N=ni(e,j.tickCoord,S,l,d);N&&(l=j.tickCoord+e*(S()/2+o),s[b]=ut(ut({},j),{},{isShow:!0}))},y=0;y<g;y++)v(y);return s}function du(e,t,r){var{tick:n,ticks:o,viewBox:i,minTickGap:s,orientation:c,interval:l,tickFormatter:d,unit:u,angle:f}=e;if(!o||!o.length||!n)return[];if(ae(l)||Ua.isSsr){var h;return(h=hk(o,ae(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=c==="top"||c==="bottom"?"width":"height",v=u&&g==="width"?Na(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(j,E)=>{var S=typeof d=="function"?d(j.value,E):j.value;return g==="width"?uk(Na(S,{fontSize:t,letterSpacing:r}),v,f):Na(S,{fontSize:t,letterSpacing:r})[g]},x=o.length>=2?Lt(o[1].coordinate-o[0].coordinate):1,b=fk(i,x,g);return l==="equidistantPreserveStart"?mk(x,b,y,o,s):(l==="preserveStart"||l==="preserveStartEnd"?p=xk(x,b,y,o,s,l==="preserveStartEnd"):p=yk(x,b,y,o,s),p.filter(j=>j.isShow))}var bk=["viewBox"],jk=["viewBox"];function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(null,arguments)}function $p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$p(Object(r),!0).forEach(function(n){uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$p(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fp(e,t){if(e==null)return{};var r,n,o=wk(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uu(e,t,r){return(t=Ck(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ck(e){var t=Nk(e,"string");return typeof t=="symbol"?t:t+""}function Nk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qr extends m.Component{constructor(t){super(t),this.tickRefs=m.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,o=Fp(t,bk),i=this.props,{viewBox:s}=i,c=Fp(i,jk);return!Tc(n,s)||!Tc(o,c)||!Tc(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:o,height:i,orientation:s,tickSize:c,mirror:l,tickMargin:d}=this.props,u,f,h,p,g,v,y=l?-1:1,x=t.tickSize||c,b=ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=f=t.coordinate,p=n+ +!l*i,h=p-y*x,v=h-y*d,g=b;break;case"left":h=p=t.coordinate,f=r+ +!l*o,u=f-y*x,g=u-y*d,v=b;break;case"right":h=p=t.coordinate,f=r+ +l*o,u=f+y*x,g=u+y*d,v=b;break;default:u=f=t.coordinate,p=n+ +l*i,h=p+y*x,v=h+y*d,g=b;break}return{line:{x1:u,y1:h,x2:f,y2:p},tick:{x:g,y:v}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:o,orientation:i,mirror:s,axisLine:c}=this.props,l=Xe(Xe(Xe({},Qe(this.props,!1)),Qe(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);l=Xe(Xe({},l),{},{x1:t,y1:r+d*o,x2:t+n,y2:r+d*o})}else{var u=+(i==="left"&&!s||i==="right"&&s);l=Xe(Xe({},l),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+o})}return m.createElement("line",$n({},l,{className:Ee("recharts-cartesian-axis-line",jn(c,"className"))}))}static renderTickItem(t,r,n){var o,i=Ee(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))o=m.cloneElement(t,Xe(Xe({},r),{},{className:i}));else if(typeof t=="function")o=t(Xe(Xe({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ee(s,t.className)),o=m.createElement(iu,$n({},r,{className:s}),n)}return o}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:o,stroke:i,tick:s,tickFormatter:c,unit:l,padding:d}=this.props,u=du(Xe(Xe({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=ea(this.props),g=Qe(s,!1),v=Xe(Xe({},p),{},{fill:"none"},Qe(o,!1)),y=u.map((x,b)=>{var{line:j,tick:E}=this.getTickLineCoord(x),S=Xe(Xe(Xe(Xe({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:i},g),E),{},{index:b,payload:x,visibleTicksCount:u.length,tickFormatter:c,padding:d});return m.createElement(Un,$n({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},pv(this.props,x,b)),o&&m.createElement("line",$n({},v,j,{className:Ee("recharts-cartesian-axis-tick-line",jn(o,"className"))})),s&&Qr.renderTickItem(s,S,"".concat(typeof c=="function"?c(x.value,b):x.value).concat(l||"")))});return y.length>0?m.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:o,hide:i}=this.props;if(i)return null;var{ticks:s}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:m.createElement(Un,{className:Ee("recharts-cartesian-axis",o),ref:c=>{if(c){var l=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var d=l[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Et.renderCallByParent(this.props))}}uu(Qr,"displayName","CartesianAxis");uu(Qr,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pk=["x1","y1","x2","y2","key"],Sk=["offset"],Ek=["xAxisId","yAxisId"],Ok=["xAxisId","yAxisId"];function Bp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bp(Object(r),!0).forEach(function(n){Tk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tk(e,t,r){return(t=Ak(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ak(e){var t=Ik(e,"string");return typeof t=="symbol"?t:t+""}function Ik(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pn.apply(null,arguments)}function ai(e,t){if(e==null)return{};var r,n,o=_k(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _k(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kk=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:o,width:i,height:s,ry:c}=e;return m.createElement("rect",{x:n,y:o,ry:c,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function l0(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:o,x2:i,y2:s,key:c}=t,l=ai(t,Pk),d=ea(l),{offset:u}=d,f=ai(d,Sk);r=m.createElement("line",pn({},f,{x1:n,y1:o,x2:i,y2:s,fill:"none",key:c}))}return r}function Mk(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:i,yAxisId:s}=e,c=ai(e,Ek),l=o.map((d,u)=>{var f=ft(ft({},c),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return l0(n,f)});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Rk(e){var{y:t,height:r,vertical:n=!0,verticalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:i,yAxisId:s}=e,c=ai(e,Ok),l=o.map((d,u)=>{var f=ft(ft({},c),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return l0(n,f)});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function $k(e){var{horizontalFill:t,fillOpacity:r,x:n,y:o,width:i,height:s,horizontalPoints:c,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var d=c.map(f=>Math.round(f+o-o)).sort((f,h)=>f-h);o!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var p=!d[h+1],g=p?o+s-f:d[h+1]-f;if(g<=0)return null;var v=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Fk(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:o,y:i,width:s,height:c,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var d=l.map(f=>Math.round(f+o-o)).sort((f,h)=>f-h);o!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var p=!d[h+1],g=p?o+s-f:d[h+1]-f;if(g<=0)return null;var v=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:c,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Bk=(e,t)=>{var{xAxis:r,width:n,height:o,offset:i}=e;return wg(du(ft(ft(ft({},Qr.defaultProps),r),{},{ticks:Cg(r),viewBox:{x:0,y:0,width:n,height:o}})),i.left,i.left+i.width,t)},Dk=(e,t)=>{var{yAxis:r,width:n,height:o,offset:i}=e;return wg(du(ft(ft(ft({},Qr.defaultProps),r),{},{ticks:Cg(r),viewBox:{x:0,y:0,width:n,height:o}})),i.top,i.top+i.height,t)},Lk={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function d0(e){var t=od(),r=id(),n=Eg(),o=ft(ft({},Hr(e,Lk)),{},{x:ae(e.x)?e.x:n.left,y:ae(e.y)?e.y:n.top,width:ae(e.width)?e.width:n.width,height:ae(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:c,y:l,width:d,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=o,g=Kt(),v=oe(M=>Hm(M,"xAxis",i,g)),y=oe(M=>Hm(M,"yAxis",s,g));if(!ae(d)||d<=0||!ae(u)||u<=0||!ae(c)||c!==+c||!ae(l)||l!==+l)return null;var x=o.verticalCoordinatesGenerator||Bk,b=o.horizontalCoordinatesGenerator||Dk,{horizontalPoints:j,verticalPoints:E}=o;if((!j||!j.length)&&typeof b=="function"){var S=h&&h.length,T=b({yAxis:y?ft(ft({},y),{},{ticks:S?h:y.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);Ca(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(j=T)}if((!E||!E.length)&&typeof x=="function"){var N=p&&p.length,C=x({xAxis:v?ft(ft({},v),{},{ticks:N?p:v.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Ca(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}return m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(kk,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),m.createElement($k,pn({},o,{horizontalPoints:j})),m.createElement(Fk,pn({},o,{verticalPoints:E})),m.createElement(Mk,pn({},o,{offset:n,horizontalPoints:j,xAxis:v,yAxis:y})),m.createElement(Rk,pn({},o,{offset:n,verticalPoints:E,xAxis:v,yAxis:y})))}d0.displayName="CartesianGrid";var u0=(e,t,r,n)=>wx(e,"xAxis",t,n),f0=(e,t,r,n)=>jx(e,"xAxis",t,n),h0=(e,t,r,n)=>wx(e,"yAxis",r,n),m0=(e,t,r,n)=>jx(e,"yAxis",r,n),zk=L([_e,u0,h0,f0,m0],(e,t,r,n,o)=>Gr(e,"xAxis")?Xc(t,n,!1):Xc(r,o,!1)),qk=(e,t,r,n,o)=>o;function Uk(e){return e.type==="line"}var Vk=L([Vy,qk],(e,t)=>e.filter(Uk).find(r=>r.id===t)),Wk=L([_e,u0,h0,f0,m0,Vk,zk,kd],(e,t,r,n,o,i,s,c)=>{var{chartData:l,dataStartIndex:d,dataEndIndex:u}=c;if(!(i==null||t==null||r==null||n==null||o==null||n.length===0||o.length===0||s==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=l?.slice(d,u+1),p!=null)return fM({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:o,dataKey:f,bandSize:s,displayedData:p})}}),Kk=["id"],Gk=["type","layout","connectNulls","needClip"],Hk=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dp(Object(r),!0).forEach(function(n){Yk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yk(e,t,r){return(t=Jk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jk(e){var t=Xk(e,"string");return typeof t=="symbol"?t:t+""}function Xk(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fu(e,t){if(e==null)return{};var r,n,o=Zk(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Zk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pn.apply(null,arguments)}var Qk=e=>{var{dataKey:t,name:r,stroke:n,legendType:o,hide:i}=e;return[{inactive:i,dataKey:t,type:o,color:n,value:Ng(r,t),payload:e}]};function eM(e){var{dataKey:t,data:r,stroke:n,strokeWidth:o,fill:i,name:s,hide:c,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:o,fill:i,dataKey:t,nameKey:void 0,name:Ng(s,t),hide:c,type:e.tooltipType,color:e.stroke,unit:l}}}var p0=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function tM(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],o=0;o<t;++o)n=[...n,...r];return n}var rM=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return p0(t,e);for(var o=Math.floor(e/n),i=e%n,s=t-e,c=[],l=0,d=0;l<r.length;d+=r[l],++l)if(d+r[l]>i){c=[...r.slice(0,l),i-d];break}var u=c.length%2===0?[0,s]:[s];return[...tM(r,o),...c,...u].map(f=>"".concat(f,"px")).join(", ")};function nM(e,t){var r;if(m.isValidElement(e))r=m.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ee("recharts-line-dot",typeof e!="boolean"?e.className:"");r=m.createElement(t0,Pn({},t,{className:n}))}return r}function aM(e,t){return e==null?!1:t?!0:e.length===1}function oM(e){var{clipPathId:t,points:r,props:n}=e,{dot:o,dataKey:i,needClip:s}=n;if(!aM(r,o))return null;var{id:c}=n,l=fu(n,Kk),d=xv(o),u=ea(l),f=Qe(o,!0),h=r.map((g,v)=>{var y=Ht(Ht(Ht({key:"dot-".concat(v),r:3},u),f),{},{index:v,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return nM(o,y)}),p={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return m.createElement(Un,Pn({className:"recharts-line-dots",key:"dots"},p),h)}function wl(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:o,props:i,showLabels:s}=e,{type:c,layout:l,connectNulls:d,needClip:u}=i,f=fu(i,Gk),h=Ht(Ht({},Qe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:c,layout:l,connectNulls:d,strokeDasharray:o??i.strokeDasharray});return m.createElement(m.Fragment,null,n?.length>1&&m.createElement(Ag,Pn({},h,{pathRef:r})),m.createElement(oM,{points:n,clipPathId:t,props:i}),s&&bn.renderCallByParent(i,n))}function iM(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function sM(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:o,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:c,isAnimationActive:l,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:v,onAnimationStart:y}=r,x=o.current,b=w_(r,"recharts-line-"),[j,E]=m.useState(!1),S=m.useCallback(()=>{typeof v=="function"&&v(),E(!1)},[v]),T=m.useCallback(()=>{typeof y=="function"&&y(),E(!0)},[y]),N=iM(n.current),C=i.current;return m.createElement($_,{begin:d,duration:u,isActive:l,easing:f,onAnimationEnd:S,onAnimationStart:T,key:b},M=>{var F=ua(C,N+C,M),P=Math.min(F,N),O;if(c){var $="".concat(c).split(/[,\s]+/gim).map(re=>parseFloat(re));O=rM(P,N,$)}else O=p0(N,P);if(x){var K=x.length/s.length,Y=M===1?s:s.map((re,ce)=>{var ue=Math.floor(ce*K);if(x[ue]){var X=x[ue];return Ht(Ht({},re),{},{x:ua(X.x,re.x,M),y:ua(X.y,re.y,M)})}return h?Ht(Ht({},re),{},{x:ua(p*2,re.x,M),y:ua(g/2,re.y,M)}):Ht(Ht({},re),{},{x:re.x,y:re.y})});return o.current=Y,m.createElement(wl,{props:r,points:Y,clipPathId:t,pathRef:n,showLabels:!j,strokeDasharray:O})}return M>0&&N>0&&(o.current=s,i.current=P),m.createElement(wl,{props:r,points:s,clipPathId:t,pathRef:n,showLabels:!j,strokeDasharray:O})})}function cM(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:o}=r,i=m.useRef(null),s=m.useRef(0),c=m.useRef(null),l=i.current;return o&&n&&n.length&&l!==n?m.createElement(sM,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:s,pathRef:c}):m.createElement(wl,{props:r,points:n,clipPathId:t,pathRef:c,showLabels:!0})}var lM=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:vt(e.payload,t)});class dM extends m.Component{render(){var t,{hide:r,dot:n,points:o,className:i,xAxisId:s,yAxisId:c,top:l,left:d,width:u,height:f,id:h,needClip:p}=this.props;if(r)return null;var g=Ee("recharts-line",i),v=h,{r:y=3,strokeWidth:x=2}=(t=Qe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=xv(n),j=y*2+x;return m.createElement(m.Fragment,null,m.createElement(Un,{className:g},p&&m.createElement("defs",null,m.createElement(Q_,{clipPathId:v,xAxisId:s,yAxisId:c}),!b&&m.createElement("clipPath",{id:"clipPath-dots-".concat(v)},m.createElement("rect",{x:d-j/2,y:l-j/2,width:u+j,height:f+j}))),m.createElement(cM,{props:this.props,clipPathId:v}),m.createElement(Z_,{xAxisId:s,yAxisId:c,data:o,dataPointFormatter:lM,errorBarOffset:0},this.props.children)),m.createElement(V_,{activeDot:this.props.activeDot,points:o,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var v0={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ua.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function uM(e){var t=Hr(e,v0),{activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:i,animationEasing:s,connectNulls:c,dot:l,hide:d,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:g,id:v}=t,y=fu(t,Hk),{needClip:x}=o0(p,g),b=cu(),j=sd(),E=Kt(),S=oe(F=>Wk(F,p,g,E,v));if(j!=="horizontal"&&j!=="vertical"||S==null||b==null)return null;var{height:T,width:N,x:C,y:M}=b;return m.createElement(dM,Pn({},y,{id:v,connectNulls:c,dot:l,activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:i,animationEasing:s,isAnimationActive:u,hide:d,label:f,legendType:h,xAxisId:p,yAxisId:g,points:S,layout:j,height:T,width:N,left:C,top:M,needClip:x}))}function fM(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:o,yAxisTicks:i,dataKey:s,bandSize:c,displayedData:l}=e;return l.map((d,u)=>{var f=vt(d,s);if(t==="horizontal"){var h=Eh({axis:r,ticks:o,bandSize:c,entry:d,index:u}),p=Ge(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:d}}var g=Ge(f)?null:r.scale(f),v=Eh({axis:n,ticks:i,bandSize:c,entry:d,index:u});return g==null||v==null?null:{x:g,y:v,value:f,payload:d}}).filter(Boolean)}function Cl(e){var t=Hr(e,v0),r=Kt();return m.createElement(E_,{id:t.id,type:"line"},n=>m.createElement(m.Fragment,null,m.createElement(j_,{legendPayload:Qk(t)}),m.createElement(x_,{fn:eM,args:t}),m.createElement(k_,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),m.createElement(uM,Pn({},t,{id:n}))))}Cl.displayName="Line";function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lp(Object(r),!0).forEach(function(n){hM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hM(e,t,r){return(t=mM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mM(e){var t=pM(e,"string");return typeof t=="symbol"?t:t+""}function pM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vM={xAxis:{},yAxis:{},zAxis:{}},g0=kt({name:"cartesianAxis",initialState:vM,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=zp(zp({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:gM,removeXAxis:yM,addYAxis:xM,removeYAxis:bM,addZAxis:lB,removeZAxis:dB,updateYAxisWidth:jM}=g0.actions,wM=g0.reducer,CM=["children"],NM=["dangerouslySetInnerHTML","ticks"];function y0(e,t,r){return(t=PM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PM(e){var t=SM(e,"string");return typeof t=="symbol"?t:t+""}function SM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(null,arguments)}function x0(e,t){if(e==null)return{};var r,n,o=EM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function EM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OM(e){var t=lt(),r=m.useMemo(()=>{var{children:i}=e,s=x0(e,CM);return s},[e]),n=oe(i=>Or(i,r.id)),o=r===n;return m.useEffect(()=>(t(gM(r)),()=>{t(yM(r))}),[r,t]),o?e.children:null}var TM=e=>{var{xAxisId:t,className:r}=e,n=oe(Sg),o=Kt(),i="xAxis",s=oe(p=>ia(p,i,t,o)),c=oe(p=>bx(p,i,t,o)),l=oe(p=>gT(p,t)),d=oe(p=>wT(p,t));if(l==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:f}=e,h=x0(e,NM);return m.createElement(Qr,Nl({},h,{scale:s,x:d.x,y:d.y,width:l.width,height:l.height,className:Ee("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c}))},AM=e=>{var t,r,n,o,i;return m.createElement(OM,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(o=e.minTickGap)!==null&&o!==void 0?o:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},m.createElement(TM,e))};class hu extends m.Component{render(){return m.createElement(AM,this.props)}}y0(hu,"displayName","XAxis");y0(hu,"defaultProps",{allowDataOverflow:Nt.allowDataOverflow,allowDecimals:Nt.allowDecimals,allowDuplicatedCategory:Nt.allowDuplicatedCategory,height:Nt.height,hide:!1,mirror:Nt.mirror,orientation:Nt.orientation,padding:Nt.padding,reversed:Nt.reversed,scale:Nt.scale,tickCount:Nt.tickCount,type:Nt.type,xAxisId:0});var IM=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:o=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var c=r?r.getBoundingClientRect().width:0,l=o+i,d=s+l+c+(r?n:0);return Math.round(d)}return 0},_M=["dangerouslySetInnerHTML","ticks"];function b0(e,t,r){return(t=kM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kM(e){var t=MM(e,"string");return typeof t=="symbol"?t:t+""}function MM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(null,arguments)}function RM(e,t){if(e==null)return{};var r,n,o=$M(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $M(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FM(e){var t=lt();return m.useEffect(()=>(t(xM(e)),()=>{t(bM(e))}),[e,t]),null}var BM=e=>{var t,{yAxisId:r,className:n,width:o,label:i}=e,s=m.useRef(null),c=m.useRef(null),l=oe(Sg),d=Kt(),u=lt(),f="yAxis",h=oe(j=>ia(j,f,r,d)),p=oe(j=>NT(j,r)),g=oe(j=>CT(j,r)),v=oe(j=>bx(j,f,r,d));if(m.useLayoutEffect(()=>{var j;if(!(o!=="auto"||!p||su(i)||m.isValidElement(i))){var E=s.current,S=E==null||(j=E.tickRefs)===null||j===void 0?void 0:j.current,{tickSize:T,tickMargin:N}=E.props,C=IM({ticks:S,label:c.current,labelGapWithTick:5,tickSize:T,tickMargin:N});Math.round(p.width)!==Math.round(C)&&u(jM({id:r,width:C}))}},[s,s==null||(t=s.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p?.width,p,u,i,r,o]),p==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x}=e,b=RM(e,_M);return m.createElement(Qr,Pl({},b,{ref:s,labelRef:c,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:Ee("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v}))},DM=e=>{var t,r,n,o,i;return m.createElement(m.Fragment,null,m.createElement(FM,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(o=e.minTickGap)!==null&&o!==void 0?o:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),m.createElement(BM,e))},LM={allowDataOverflow:Pt.allowDataOverflow,allowDecimals:Pt.allowDecimals,allowDuplicatedCategory:Pt.allowDuplicatedCategory,hide:!1,mirror:Pt.mirror,orientation:Pt.orientation,padding:Pt.padding,reversed:Pt.reversed,scale:Pt.scale,tickCount:Pt.tickCount,type:Pt.type,width:Pt.width,yAxisId:0};class mu extends m.Component{render(){return m.createElement(DM,this.props)}}b0(mu,"displayName","YAxis");b0(mu,"defaultProps",LM);var Ac={exports:{}},Ic={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function zM(){if(qp)return Ic;qp=1;var e=kl();function t(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,s=e.useMemo,c=e.useDebugValue;return Ic.useSyncExternalStoreWithSelector=function(l,d,u,f,h){var p=o(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=s(function(){function y(S){if(!x){if(x=!0,b=S,S=f(S),h!==void 0&&g.hasValue){var T=g.value;if(h(T,S))return j=T}return j=S}if(T=j,r(b,S))return T;var N=f(S);return h!==void 0&&h(T,N)?(b=S,T):(b=S,j=N)}var x=!1,b,j,E=u===void 0?null:u;return[function(){return y(d())},E===null?void 0:function(){return y(E())}]},[d,u,f,h]);var v=n(l,p[0],p[1]);return i(function(){g.hasValue=!0,g.value=v},[v]),c(v),v},Ic}var Up;function qM(){return Up||(Up=1,Ac.exports=zM()),Ac.exports}qM();function UM(e){e()}function VM(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UM(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Vp={notify(){},get:()=>[]};function WM(e,t){let r,n=Vp,o=0,i=!1;function s(v){u();const y=n.subscribe(v);let x=!1;return()=>{x||(x=!0,y(),f())}}function c(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){o++,r||(r=e.subscribe(l),n=VM())}function f(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=Vp)}function h(){i||(i=!0,u())}function p(){i&&(i=!1,f())}const g={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:l,isSubscribed:d,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var KM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GM=KM(),HM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YM=HM(),JM=()=>GM||YM?m.useLayoutEffect:m.useEffect,XM=JM(),ZM=Symbol.for("react-redux-context"),QM=typeof globalThis<"u"?globalThis:{};function eR(){if(!m.createContext)return{};const e=QM[ZM]??=new Map;let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var tR=eR();function rR(e){const{children:t,context:r,serverState:n,store:o}=e,i=m.useMemo(()=>{const l=WM(o);return{store:o,subscription:l,getServerState:n?()=>n:void 0}},[o,n]),s=m.useMemo(()=>o.getState(),[o]);XM(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==o.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const c=r||tR;return m.createElement(c.Provider,{value:i},t)}var nR=rR,aR=(e,t)=>t,pu=L([aR,_e,Dy,tt,$x,Tr,TA,dt],MA),vu=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},j0=Vt("mouseClick"),w0=qa();w0.startListening({actionCreator:j0,effect:(e,t)=>{var r=e.payload,n=pu(t.getState(),vu(r));n?.activeIndex!=null&&t.dispatch($T({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Sl=Vt("mouseMove"),C0=qa();C0.startListening({actionCreator:Sl,effect:(e,t)=>{var r=e.payload,n=t.getState(),o=Xd(n,n.tooltip.settings.shared),i=pu(n,vu(r));o==="axis"&&(i?.activeIndex!=null?t.dispatch(Tx({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Ox()))}});function oR(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Wp={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},N0=kt({name:"rootProps",initialState:Wp,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Wp.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),iR=N0.reducer,{updateOptions:sR}=N0.actions,P0=kt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:uB}=P0.actions,cR=P0.reducer,S0=Vt("keyDown"),E0=Vt("focus"),gu=qa();gu.startListening({actionCreator:S0,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(Zd(o,ca(r))),c=Tr(r);if(i==="Enter"){var l=ti(r,"axis","hover",String(o.index));t.dispatch(gl({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:l}));return}var d=OT(r),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*u;if(!(c==null||h>=c.length||h<0)){var p=ti(r,"axis","hover",String(h));t.dispatch(gl({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});gu.startListening({actionCreator:E0,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip;if(!o.active&&o.index==null){var i="0",s=ti(r,"axis","hover",String(i));t.dispatch(gl({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Ft=Vt("externalEvent"),O0=qa();O0.startListening({actionCreator:Ft,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:xA(r),activeDataKey:gA(r),activeIndex:$a(r),activeLabel:Dx(r),activeTooltipIndex:$a(r),isTooltipActive:bA(r)};e.payload.handler(n,e.payload.reactEvent)}}});var lR=L([sa],e=>e.tooltipItemPayloads),dR=L([lR,Za,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var o=e.find(c=>c.settings.dataKey===n);if(o!=null){var{positions:i}=o;if(i!=null){var s=t(i,r);return s}}}),T0=Vt("touchMove"),A0=qa();A0.startListening({actionCreator:T0,effect:(e,t)=>{var r=e.payload,n=t.getState(),o=Xd(n,n.tooltip.settings.shared);if(o==="axis"){var i=pu(n,vu({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(Tx({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(o==="item"){var s,c=r.touches[0],l=document.elementFromPoint(c.clientX,c.clientY);if(!l||!l.getAttribute)return;var d=l.getAttribute(YN),u=(s=l.getAttribute(JN))!==null&&s!==void 0?s:void 0,f=dR(t.getState(),d,u);t.dispatch(RT({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var uR=Zv({brush:tk,cartesianAxis:wM,chartData:XA,errorBars:K_,graphicalItems:__,layout:jN,legend:dP,options:KA,polarAxis:y_,polarOptions:cR,referenceElements:ck,rootProps:iR,tooltip:FT}),fR=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return KC({reducer:uR,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([w0.middleware,C0.middleware,gu.middleware,O0.middleware,A0.middleware]),devTools:{serialize:{replacer:oR},name:"recharts-".concat(r)}})};function hR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,o=Kt(),i=m.useRef(null);if(o)return r;i.current==null&&(i.current=fR(t,n));var s=Jl;return m.createElement(nR,{context:s,store:i.current},r)}function mR(e){var{layout:t,width:r,height:n,margin:o}=e,i=lt(),s=Kt();return m.useEffect(()=>{s||(i(yN(t)),i(xN({width:r,height:n})),i(gN(o)))},[i,s,t,r,n,o]),null}function pR(e){var t=lt();return m.useEffect(()=>{t(sR(e))},[t,e]),null}var vR=["children"];function gR(e,t){if(e==null)return{};var r,n,o=yR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function yR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}var xR={width:"100%",height:"100%"},bR=m.forwardRef((e,t)=>{var r=od(),n=id(),o=Tg();if(!Do(r)||!Do(n))return null;var{children:i,otherAttributes:s,title:c,desc:l}=e,d,u;return typeof s.tabIndex=="number"?d=s.tabIndex:d=o?0:void 0,typeof s.role=="string"?u=s.role:u=o?"application":void 0,m.createElement(Dl,oi({},s,{title:c,desc:l,role:u,tabIndex:d,width:r,height:n,style:xR,ref:t}),i)}),jR=e=>{var{children:t}=e,r=oe(bi);if(!r)return null;var{width:n,height:o,y:i,x:s}=r;return m.createElement(Dl,{width:n,height:o,x:s,y:i},t)},Kp=m.forwardRef((e,t)=>{var{children:r}=e,n=gR(e,vR),o=Kt();return o?m.createElement(jR,null,r):m.createElement(bR,oi({ref:t},n),r)});function wR(){var e=lt(),[t,r]=m.useState(null),n=oe(HN);return m.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),i=o.width/t.offsetWidth;Xt(i)&&i!==n&&e(bN(i))}},[t,e,n]),r}function Gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function CR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gp(Object(r),!0).forEach(function(n){NR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NR(e,t,r){return(t=PR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ER=m.forwardRef((e,t)=>{var{children:r,className:n,height:o,onClick:i,onContextMenu:s,onDoubleClick:c,onMouseDown:l,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:v,style:y,width:x}=e,b=lt(),[j,E]=m.useState(null),[S,T]=m.useState(null);eI();var N=wR(),C=m.useCallback(_=>{N(_),typeof t=="function"&&t(_),E(_),T(_)},[N,t,E,T]),M=m.useCallback(_=>{b(j0(_)),b(Ft({handler:i,reactEvent:_}))},[b,i]),F=m.useCallback(_=>{b(Sl(_)),b(Ft({handler:d,reactEvent:_}))},[b,d]),P=m.useCallback(_=>{b(Ox()),b(Ft({handler:u,reactEvent:_}))},[b,u]),O=m.useCallback(_=>{b(Sl(_)),b(Ft({handler:f,reactEvent:_}))},[b,f]),$=m.useCallback(()=>{b(E0())},[b]),K=m.useCallback(_=>{b(S0(_.key))},[b]),Y=m.useCallback(_=>{b(Ft({handler:s,reactEvent:_}))},[b,s]),re=m.useCallback(_=>{b(Ft({handler:c,reactEvent:_}))},[b,c]),ce=m.useCallback(_=>{b(Ft({handler:l,reactEvent:_}))},[b,l]),ue=m.useCallback(_=>{b(Ft({handler:h,reactEvent:_}))},[b,h]),X=m.useCallback(_=>{b(Ft({handler:v,reactEvent:_}))},[b,v]),le=m.useCallback(_=>{b(T0(_)),b(Ft({handler:g,reactEvent:_}))},[b,g]),W=m.useCallback(_=>{b(Ft({handler:p,reactEvent:_}))},[b,p]);return m.createElement(Wx.Provider,{value:j},m.createElement(bv.Provider,{value:S},m.createElement("div",{className:Ee("recharts-wrapper",n),style:CR({position:"relative",cursor:"default",width:x,height:o},y),onClick:M,onContextMenu:Y,onDoubleClick:re,onFocus:$,onKeyDown:K,onMouseDown:ce,onMouseEnter:F,onMouseLeave:P,onMouseMove:O,onMouseUp:ue,onTouchEnd:W,onTouchMove:le,onTouchStart:X,ref:C},r)))}),OR=["children","className","width","height","style","compact","title","desc"];function TR(e,t){if(e==null)return{};var r,n,o=AR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function AR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IR=m.forwardRef((e,t)=>{var{children:r,className:n,width:o,height:i,style:s,compact:c,title:l,desc:d}=e,u=TR(e,OR),f=ea(u);return c?m.createElement(Kp,{otherAttributes:f,title:l,desc:d},r):m.createElement(ER,{className:n,style:s,width:o,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(Kp,{otherAttributes:f,title:l,desc:d,ref:t},m.createElement(dk,null,r)))}),_R=["width","height"];function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(null,arguments)}function kR(e,t){if(e==null)return{};var r,n,o=MR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function MR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RR={top:5,right:5,bottom:5,left:5},$R={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:RR,reverseStackOrder:!1,syncMethod:"index"},FR=m.forwardRef(function(t,r){var n,o=Hr(t.categoricalChartProps,$R),{width:i,height:s}=o,c=kR(o,_R);if(!Do(i)||!Do(s))return null;var{chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return m.createElement(hR,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},m.createElement(ek,{chartData:h.data}),m.createElement(mR,{width:i,height:s,layout:o.layout,margin:o.margin}),m.createElement(pR,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),m.createElement(IR,El({},c,{width:i,height:s,ref:r})))}),BR=["axis"],DR=m.forwardRef((e,t)=>m.createElement(FR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BR,tooltipPayloadSearcher:VA,categoricalChartProps:e,ref:t})),_c="rovingFocusGroup.onEntryFocus",LR={bubbles:!1,cancelable:!0},eo="RovingFocusGroup",[Ol,I0,zR]=gj(eo),[qR,_0]=Qn(eo,[zR]),[UR,VR]=qR(eo),k0=m.forwardRef((e,t)=>a.jsx(Ol.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ol.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(WR,{...e,ref:t})})}));k0.displayName=eo;var WR=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=m.useRef(null),p=Zt(t,h),g=nv(i),[v,y]=La({prop:s,defaultProp:c??null,onChange:l,caller:eo}),[x,b]=m.useState(!1),j=yj(d),E=I0(r),S=m.useRef(!1),[T,N]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(_c,j),()=>C.removeEventListener(_c,j)},[j]),a.jsx(UR,{scope:r,orientation:n,dir:g,loop:o,currentTabStopId:v,onItemFocus:m.useCallback(C=>y(C),[y]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>N(C=>C-1),[]),children:a.jsx(yt.div,{tabIndex:x||T===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:De(e.onMouseDown,()=>{S.current=!0}),onFocus:De(e.onFocus,C=>{const M=!S.current;if(C.target===C.currentTarget&&M&&!x){const F=new CustomEvent(_c,LR);if(C.currentTarget.dispatchEvent(F),!F.defaultPrevented){const P=E().filter(re=>re.focusable),O=P.find(re=>re.active),$=P.find(re=>re.id===v),Y=[O,$,...P].filter(Boolean).map(re=>re.ref.current);$0(Y,u)}}S.current=!1}),onBlur:De(e.onBlur,()=>b(!1))})})}),M0="RovingFocusGroupItem",R0=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,children:s,...c}=e,l=Bn(),d=i||l,u=VR(M0,r),f=u.currentTabStopId===d,h=I0(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=u;return m.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),a.jsx(Ol.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:a.jsx(yt.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...c,ref:t,onMouseDown:De(e.onMouseDown,y=>{n?u.onItemFocus(d):y.preventDefault()}),onFocus:De(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:De(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=HR(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=h().filter(E=>E.focusable).map(E=>E.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const E=j.indexOf(y.currentTarget);j=u.loop?YR(j,E+1):j.slice(E+1)}setTimeout(()=>$0(j))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:v!=null}):s})})});R0.displayName=M0;var KR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function HR(e,t,r){const n=GR(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KR[n]}function $0(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function YR(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var JR=k0,XR=R0;function ZR(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var en=e=>{const{present:t,children:r}=e,n=QR(t),o=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Zt(n.ref,e$(o));return typeof r=="function"||n.isPresent?m.cloneElement(o,{ref:i}):null};en.displayName="Presence";function QR(e){const[t,r]=m.useState(),n=m.useRef(null),o=m.useRef(e),i=m.useRef("none"),s=e?"mounted":"unmounted",[c,l]=ZR(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=yo(n.current);i.current=c==="mounted"?d:"none"},[c]),Zu(()=>{const d=n.current,u=o.current;if(u!==e){const h=i.current,p=yo(d);e?l("MOUNT"):p==="none"||d?.display==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Zu(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const v=yo(n.current).includes(p.animationName);if(p.target===t&&v&&(l("ANIMATION_END"),!o.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(i.current=yo(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function yo(e){return e?.animationName||"none"}function e$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bi="Tabs",[t$,fB]=Qn(Bi,[_0]),F0=_0(),[r$,yu]=t$(Bi),B0=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:i,orientation:s="horizontal",dir:c,activationMode:l="automatic",...d}=e,u=nv(c),[f,h]=La({prop:n,onChange:o,defaultProp:i??"",caller:Bi});return a.jsx(r$,{scope:r,baseId:Bn(),value:f,onValueChange:h,orientation:s,dir:u,activationMode:l,children:a.jsx(yt.div,{dir:u,"data-orientation":s,...d,ref:t})})});B0.displayName=Bi;var D0="TabsList",L0=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,i=yu(D0,r),s=F0(r);return a.jsx(JR,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(yt.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});L0.displayName=D0;var z0="TabsTrigger",q0=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...i}=e,s=yu(z0,r),c=F0(r),l=W0(s.baseId,n),d=K0(s.baseId,n),u=n===s.value;return a.jsx(XR,{asChild:!0,...c,focusable:!o,active:u,children:a.jsx(yt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...i,ref:t,onMouseDown:De(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:De(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:De(e.onFocus,()=>{const f=s.activationMode!=="manual";!u&&!o&&f&&s.onValueChange(n)})})})});q0.displayName=z0;var U0="TabsContent",V0=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:i,...s}=e,c=yu(U0,r),l=W0(c.baseId,n),d=K0(c.baseId,n),u=n===c.value,f=m.useRef(u);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(en,{present:o||u,children:({present:h})=>a.jsx(yt.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:d,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});V0.displayName=U0;function W0(e,t){return`${e}-trigger-${t}`}function K0(e,t){return`${e}-content-${t}`}var n$=B0,a$=L0,o$=q0,i$=V0;function tn({className:e,...t}){return a.jsx(n$,{"data-slot":"tabs",className:Se("flex flex-col gap-2",e),...t})}function rn({className:e,...t}){return a.jsx(a$,{"data-slot":"tabs-list",className:Se("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function pe({className:e,...t}){return a.jsx(o$,{"data-slot":"tabs-trigger",className:Se("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ve({className:e,...t}){return a.jsx(i$,{"data-slot":"tabs-content",className:Se("flex-1 outline-none",e),...t})}var Di="Dialog",[G0,H0]=Qn(Di),[s$,er]=G0(Di),Y0=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,c=m.useRef(null),l=m.useRef(null),[d,u]=La({prop:n,defaultProp:o??!1,onChange:i,caller:Di});return a.jsx(s$,{scope:t,triggerRef:c,contentRef:l,contentId:Bn(),titleId:Bn(),descriptionId:Bn(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:s,children:r})};Y0.displayName=Di;var J0="DialogTrigger",X0=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=er(J0,r),i=Zt(t,o.triggerRef);return a.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ju(o.open),...n,ref:i,onClick:De(e.onClick,o.onOpenToggle)})});X0.displayName=J0;var xu="DialogPortal",[c$,Z0]=G0(xu,{forceMount:void 0}),Q0=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,i=er(xu,t);return a.jsx(c$,{scope:t,forceMount:r,children:m.Children.map(n,s=>a.jsx(en,{present:r||i.open,children:a.jsx(av,{asChild:!0,container:o,children:s})}))})};Q0.displayName=xu;var ii="DialogOverlay",eb=m.forwardRef((e,t)=>{const r=Z0(ii,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=er(ii,e.__scopeDialog);return i.modal?a.jsx(en,{present:n||i.open,children:a.jsx(d$,{...o,ref:t})}):null});eb.displayName=ii;var l$=wj("DialogOverlay.RemoveScroll"),d$=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=er(ii,r);return a.jsx(jj,{as:l$,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(yt.div,{"data-state":ju(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Sn="DialogContent",tb=m.forwardRef((e,t)=>{const r=Z0(Sn,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=er(Sn,e.__scopeDialog);return a.jsx(en,{present:n||i.open,children:i.modal?a.jsx(u$,{...o,ref:t}):a.jsx(f$,{...o,ref:t})})});tb.displayName=Sn;var u$=m.forwardRef((e,t)=>{const r=er(Sn,e.__scopeDialog),n=m.useRef(null),o=Zt(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return xj(i)},[]),a.jsx(rb,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&i.preventDefault()}),onFocusOutside:De(e.onFocusOutside,i=>i.preventDefault())})}),f$=m.forwardRef((e,t)=>{const r=er(Sn,e.__scopeDialog),n=m.useRef(!1),o=m.useRef(!1);return a.jsx(rb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),rb=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,c=er(Sn,r),l=m.useRef(null),d=Zt(t,l);return Cj(),a.jsxs(a.Fragment,{children:[a.jsx(Nj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:a.jsx(ov,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ju(c.open),...s,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(m$,{titleId:c.titleId}),a.jsx(v$,{contentRef:l,descriptionId:c.descriptionId})]})]})}),bu="DialogTitle",nb=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=er(bu,r);return a.jsx(yt.h2,{id:o.titleId,...n,ref:t})});nb.displayName=bu;var ab="DialogDescription",ob=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=er(ab,r);return a.jsx(yt.p,{id:o.descriptionId,...n,ref:t})});ob.displayName=ab;var ib="DialogClose",sb=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=er(ib,r);return a.jsx(yt.button,{type:"button",...n,ref:t,onClick:De(e.onClick,()=>o.onOpenChange(!1))})});sb.displayName=ib;function ju(e){return e?"open":"closed"}var cb="DialogTitleWarning",[h$,lb]=bj(cb,{contentName:Sn,titleName:bu,docsSlug:"dialog"}),m$=({titleId:e})=>{const t=lb(cb),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},p$="DialogDescriptionWarning",v$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lb(p$).contentName}}.`;return m.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},db=Y0,ub=X0,fb=Q0,hb=eb,mb=tb,pb=nb,vb=ob,wu=sb;function Ue({...e}){return a.jsx(db,{"data-slot":"dialog",...e})}function gb({...e}){return a.jsx(ub,{"data-slot":"dialog-trigger",...e})}function g$({...e}){return a.jsx(fb,{"data-slot":"dialog-portal",...e})}function y$({className:e,...t}){return a.jsx(hb,{"data-slot":"dialog-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-blue-900/50",e),...t})}function Ve({className:e,children:t,...r}){return a.jsxs(g$,{"data-slot":"dialog-portal",children:[a.jsx(y$,{}),a.jsxs(mb,{"data-slot":"dialog-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(wu,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Ml,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function We({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:Se("flex flex-col gap-2 text-center sm:text-left",e),...t})}function gt({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:Se("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ke({className:e,...t}){return a.jsx(pb,{"data-slot":"dialog-title",className:Se("text-lg leading-none font-semibold",e),...t})}function Ye({className:e,...t}){return a.jsx(vb,{"data-slot":"dialog-description",className:Se("text-muted-foreground text-sm",e),...t})}var yb="AlertDialog",[x$,hB]=Qn(yb,[H0]),Ar=H0(),xb=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ar(t);return a.jsx(db,{...n,...r,modal:!0})};xb.displayName=yb;var b$="AlertDialogTrigger",bb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Ar(r);return a.jsx(ub,{...o,...n,ref:t})});bb.displayName=b$;var j$="AlertDialogPortal",jb=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ar(t);return a.jsx(fb,{...n,...r})};jb.displayName=j$;var w$="AlertDialogOverlay",wb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Ar(r);return a.jsx(hb,{...o,...n,ref:t})});wb.displayName=w$;var zn="AlertDialogContent",[C$,N$]=x$(zn),P$=iv("AlertDialogContent"),Cb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,i=Ar(r),s=m.useRef(null),c=Zt(t,s),l=m.useRef(null);return a.jsx(h$,{contentName:zn,titleName:Nb,docsSlug:"alert-dialog",children:a.jsx(C$,{scope:r,cancelRef:l,children:a.jsxs(mb,{role:"alertdialog",...i,...o,ref:c,onOpenAutoFocus:De(o.onOpenAutoFocus,d=>{d.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(P$,{children:n}),a.jsx(E$,{contentRef:s})]})})})});Cb.displayName=zn;var Nb="AlertDialogTitle",Pb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Ar(r);return a.jsx(pb,{...o,...n,ref:t})});Pb.displayName=Nb;var Sb="AlertDialogDescription",Eb=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Ar(r);return a.jsx(vb,{...o,...n,ref:t})});Eb.displayName=Sb;var S$="AlertDialogAction",Ob=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=Ar(r);return a.jsx(wu,{...o,...n,ref:t})});Ob.displayName=S$;var Tb="AlertDialogCancel",Ab=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=N$(Tb,r),i=Ar(r),s=Zt(t,o);return a.jsx(wu,{...i,...n,ref:s})});Ab.displayName=Tb;var E$=({contentRef:e})=>{const t=`\`${zn}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zn}\` by passing a \`${Sb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zn}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},O$=xb,T$=bb,A$=jb,I$=wb,_$=Cb,k$=Ob,M$=Ab,R$=Pb,$$=Eb;function Cu({...e}){return a.jsx(O$,{"data-slot":"alert-dialog",...e})}function Nu({...e}){return a.jsx(T$,{"data-slot":"alert-dialog-trigger",...e})}function F$({...e}){return a.jsx(A$,{"data-slot":"alert-dialog-portal",...e})}function B$({className:e,...t}){return a.jsx(I$,{"data-slot":"alert-dialog-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-blue-900/50",e),...t})}function Pu({className:e,...t}){return a.jsxs(F$,{children:[a.jsx(B$,{}),a.jsx(_$,{"data-slot":"alert-dialog-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Su({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-header",className:Se("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Eu({className:e,...t}){return a.jsx("div",{"data-slot":"alert-dialog-footer",className:Se("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ou({className:e,...t}){return a.jsx(R$,{"data-slot":"alert-dialog-title",className:Se("text-lg font-semibold",e),...t})}function Tu({className:e,...t}){return a.jsx($$,{"data-slot":"alert-dialog-description",className:Se("text-muted-foreground text-sm",e),...t})}function Au({className:e,...t}){return a.jsx(k$,{className:Se(sv(),e),...t})}function Iu({className:e,...t}){return a.jsx(M$,{className:Se(sv({variant:"outline"}),e),...t})}function Li({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Se("w-full caption-bottom text-sm",e),...t})})}function zi({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:Se("[&_tr]:border-b",e),...t})}function qi({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:Se("[&_tr:last-child]:border-0",e),...t})}function Tt({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:Se("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Ze({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:Se("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ke({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:Se("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Ba({title:e,data:t,columns:r,isLoading:n=!1,loadingText:o="Carregando...",emptyText:i="Nenhum item encontrado",keyExtractor:s,className:c=""}){return a.jsxs(fe,{className:c,children:[a.jsx(ge,{children:a.jsxs(ye,{children:[e," (",t.length,")"]})}),a.jsx(he,{children:a.jsxs(Li,{children:[a.jsx(zi,{children:a.jsx(Tt,{children:r.map(l=>a.jsx(Ze,{className:l.className,children:l.header},String(l.key)))})}),a.jsx(qi,{children:n?a.jsx(Tt,{children:a.jsx(ke,{colSpan:r.length,className:"text-center",children:a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),o]})})}):t.length===0?a.jsx(Tt,{children:a.jsx(ke,{colSpan:r.length,className:"text-center",children:i})}):t.map(l=>a.jsx(Tt,{children:r.map(d=>a.jsx(ke,{className:d.className,children:d.render?d.render(l):String(l[d.key]||"")},String(d.key)))},s(l)))})]})})]})}class D${baseEndpoint="/entidade";async findAll(){try{const t=await J(this.baseEndpoint);return Array.isArray(t?.data)?t.data:[]}catch(t){throw console.error("Erro ao buscar entidades:",t),new Error("Erro ao carregar entidades")}}async findAllView(t){try{const r=new URLSearchParams;return t.search&&(r.append("search",t.search),r.append("searchIn","nome,cnpj")),r.append("page",t.page.toString()),r.append("limit",t.limit.toString()),await J(`${this.baseEndpoint}/view?${r.toString()}`)}catch(r){throw console.error("Erro ao buscar entidades com filtros:",r),new Error("Erro ao carregar entidades")}}async findOne(t){try{return await J(`${this.baseEndpoint}/${t}`)}catch(r){throw console.error("Erro ao buscar entidade:",r),new Error("Erro ao carregar entidade")}}async create(t){try{return await J(this.baseEndpoint,{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Erro ao criar entidade:",r),r instanceof Error?r:new Error("Erro ao criar entidade")}}async update(t,r){try{const n=`${this.baseEndpoint}/${t}`;return await J(n,{method:"PATCH",body:JSON.stringify(r)})}catch(n){throw console.error("Erro ao atualizar entidade:",n),n instanceof Error?n:new Error("Erro ao atualizar entidade")}}async delete(t){try{await J(`${this.baseEndpoint}/${t}`,{method:"DELETE"})}catch(r){throw console.error("Erro ao excluir entidade:",r),r instanceof Error?r:new Error("Erro ao excluir entidade")}}convertToFrontendFormat(t){const r=t.enderecos?.[0],n=t.contasBancarias?.[0];return{entidadeId:t.entidadeId,nome:t.nome||"",cnpj:t.cnpj||"",urlSite:t.urlSite||void 0,urlLogo:t.urlLogo||void 0,enderecos:t.enderecos||[],entidadeContaBancaria:t.contasBancarias||[],cep:r?.cep||"",logradouro:r?.logradouro||"",numero:r?.numero||"",complemento:r?.complemento||"",bairro:r?.bairro||"",cidade:r?.cidade||"",uf:r?.uf||"",cidadeCodigo:r?.cidadeCodigo?.toString()||"",ufCodigo:r?.ufCodigo?.toString()||"",contatoComercialNome:r?.contatoComercialNome||"",contatoComercialEmail:r?.contatoComercialEmail||"",contatoComercialTelefone1:r?.contatoComercialTelefone1||"",contatoComercialTelefone2:r?.contatoComercialTelefone2||"",contatoComercialTelefone3:r?.contatoComercialTelefone3||"",contatoTecnicoNome:r?.contatoTecnicoNome||"",contatoTecnicoEmail:r?.contatoTecnicoEmail||"",contatoTecnicoTelefone1:r?.contatoTecnicoTelefone1||"",contatoTecnicoTelefone2:r?.contatoTecnicoTelefone2||"",contatoTecnicoTelefone3:r?.contatoTecnicoTelefone3||"",contatoFinanceiroNome:r?.contatoFinanceiroNome||"",contatoFinanceiroEmail:r?.contatoFinanceiroEmail||"",contatoFinanceiroTelefone1:r?.contatoFinanceiroTelefone1||"",contatoFinanceiroTelefone2:r?.contatoFinanceiroTelefone2||"",contatoFinanceiroTelefone3:r?.contatoFinanceiroTelefone3||"",bancoId:n?.bancoId||n?.banco?.bancoId,bancoNome:n?.banco?.nome||n?.banco_nome||"",bancoCodigo:n?.banco?.codigo||"",agencia:n?.agencia||"",agenciaDigito:n?.agenciaDigito||"",conta:n?.conta||"",contaDigito:n?.contaDigito||"",carteira:n?.carteira||"",cedenteCodigo:n?.cedenteCodigo||"",cedenteNome:n?.cedenteNome||"",chavePix:n?.chavePix||""}}convertToApiFormat(t){return{entidade:{nome:t.nome,cnpj:t.cnpj,urlSite:t.urlSite,urlLogo:t.urlLogo},endereco:{cep:t.cep,logradouro:t.logradouro,numero:t.numero,complemento:t.complemento,bairro:t.bairro,cidade:t.cidade,cidadeCodigo:t.cidadeCodigo?parseInt(t.cidadeCodigo):void 0,uf:t.uf,ufCodigo:t.ufCodigo?parseInt(t.ufCodigo):void 0,contatoComercialNome:t.contatoComercialNome,contatoComercialTelefone1:t.contatoComercialTelefone1,contatoComercialTelefone2:t.contatoComercialTelefone2,contatoComercialTelefone3:t.contatoComercialTelefone3,contatoComercialEmail:t.contatoComercialEmail,contatoTecnicoNome:t.contatoTecnicoNome,contatoTecnicoTelefone1:t.contatoTecnicoTelefone1,contatoTecnicoTelefone2:t.contatoTecnicoTelefone2,contatoTecnicoTelefone3:t.contatoTecnicoTelefone3,contatoTecnicoEmail:t.contatoTecnicoEmail,contatoFinanceiroNome:t.contatoFinanceiroNome,contatoFinanceiroTelefone1:t.contatoFinanceiroTelefone1,contatoFinanceiroTelefone2:t.contatoFinanceiroTelefone2,contatoFinanceiroTelefone3:t.contatoFinanceiroTelefone3,contatoFinanceiroEmail:t.contatoFinanceiroEmail},entidadeContaBancaria:t.bancoId?{bancoId:t.bancoId,agencia:t.agencia||"",agenciaDigito:t.agenciaDigito,conta:t.conta||"",contaDigito:t.contaDigito,carteira:t.carteira,cedenteCodigo:t.cedenteCodigo,cedenteNome:t.cedenteNome,chavePix:t.chavePix}:void 0}}convertCreateUpdateToFrontendFormat(t){const{entidade:r,endereco:n,entidadeContaBancaria:o}=t;return{entidadeId:r.entidadeId,nome:r.nome,cnpj:r.cnpj,urlSite:r.urlSite||"",urlLogo:r.urlLogo||"",enderecos:n?[n]:[],entidadeContaBancaria:o?[o]:[],cep:n?.cep||"",logradouro:n?.logradouro||"",numero:n?.numero||"",complemento:n?.complemento||"",bairro:n?.bairro||"",cidade:n?.cidade||"",uf:n?.uf||"",cidadeCodigo:n?.cidadeCodigo?.toString()||"",ufCodigo:n?.ufCodigo?.toString()||"",contatoComercialNome:n?.contatoComercialNome||"",contatoComercialEmail:n?.contatoComercialEmail||"",contatoComercialTelefone1:n?.contatoComercialTelefone1||"",contatoComercialTelefone2:n?.contatoComercialTelefone2||"",contatoComercialTelefone3:n?.contatoComercialTelefone3||"",contatoTecnicoNome:n?.contatoTecnicoNome||"",contatoTecnicoEmail:n?.contatoTecnicoEmail||"",contatoTecnicoTelefone1:n?.contatoTecnicoTelefone1||"",contatoTecnicoTelefone2:n?.contatoTecnicoTelefone2||"",contatoTecnicoTelefone3:n?.contatoTecnicoTelefone3||"",contatoFinanceiroNome:n?.contatoFinanceiroNome||"",contatoFinanceiroEmail:n?.contatoFinanceiroEmail||"",contatoFinanceiroTelefone1:n?.contatoFinanceiroTelefone1||"",contatoFinanceiroTelefone2:n?.contatoFinanceiroTelefone2||"",contatoFinanceiroTelefone3:n?.contatoFinanceiroTelefone3||"",bancoId:o?.bancoId,agencia:o?.agencia||"",agenciaDigito:o?.agenciaDigito||"",conta:o?.conta||"",contaDigito:o?.contaDigito||"",carteira:o?.carteira||"",cedenteCodigo:o?.cedenteCodigo||"",cedenteNome:o?.cedenteNome||"",chavePix:o?.chavePix||""}}}const nn=new D$;var[Ui,mB]=Qn("Tooltip",[cv]),Vi=cv(),Ib="TooltipProvider",L$=700,Tl="tooltip.open",[z$,_u]=Ui(Ib),_b=e=>{const{__scopeTooltip:t,delayDuration:r=L$,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=e,s=m.useRef(!0),c=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),a.jsx(z$,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:o,children:i})};_b.displayName=Ib;var Da="Tooltip",[q$,to]=Ui(Da),kb=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:o,onOpenChange:i,disableHoverableContent:s,delayDuration:c}=e,l=_u(Da,e.__scopeTooltip),d=Vi(t),[u,f]=m.useState(null),h=Bn(),p=m.useRef(0),g=s??l.disableHoverableContent,v=c??l.delayDuration,y=m.useRef(!1),[x,b]=La({prop:n,defaultProp:o??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(Tl))):l.onClose(),i?.(N)},caller:Da}),j=m.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),E=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,b(!0)},[b]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),T=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,b(!0),p.current=0},v)},[v,b]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(Pj,{...d,children:a.jsx(q$,{scope:t,contentId:h,open:x,stateAttribute:j,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?T():E()},[l.isOpenDelayedRef,T,E]),onTriggerLeave:m.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:E,onClose:S,disableHoverableContent:g,children:r})})};kb.displayName=Da;var Al="TooltipTrigger",Mb=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=to(Al,r),i=_u(Al,r),s=Vi(r),c=m.useRef(null),l=Zt(t,c,o.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Sj,{asChild:!0,...s,children:a.jsx(yt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:l,onPointerMove:De(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:De(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:De(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:De(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:De(e.onBlur,o.onClose),onClick:De(e.onClick,o.onClose)})})});Mb.displayName=Al;var ku="TooltipPortal",[U$,V$]=Ui(ku,{forceMount:void 0}),Rb=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:o}=e,i=to(ku,t);return a.jsx(U$,{scope:t,forceMount:r,children:a.jsx(en,{present:r||i.open,children:a.jsx(av,{asChild:!0,container:o,children:n})})})};Rb.displayName=ku;var Xn="TooltipContent",$b=m.forwardRef((e,t)=>{const r=V$(Xn,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...i}=e,s=to(Xn,e.__scopeTooltip);return a.jsx(en,{present:n||s.open,children:s.disableHoverableContent?a.jsx(Fb,{side:o,...i,ref:t}):a.jsx(W$,{side:o,...i,ref:t})})}),W$=m.forwardRef((e,t)=>{const r=to(Xn,e.__scopeTooltip),n=_u(Xn,e.__scopeTooltip),o=m.useRef(null),i=Zt(t,o),[s,c]=m.useState(null),{trigger:l,onClose:d}=r,u=o.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{c(null),f(!1)},[f]),p=m.useCallback((g,v)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},b=Y$(x,y.getBoundingClientRect()),j=J$(x,b),E=X$(v.getBoundingClientRect()),S=Q$([...j,...E]);c(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(l&&u){const g=y=>p(y,u),v=y=>p(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,p,h]),m.useEffect(()=>{if(s){const g=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},b=l?.contains(y)||u?.contains(y),j=!Z$(x,s);b?h():j&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,s,d,h]),a.jsx(Fb,{...e,ref:i})}),[K$,G$]=Ui(Da,{isInside:!1}),H$=iv("TooltipContent"),Fb=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...c}=e,l=to(Xn,r),d=Vi(r),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(Tl,u),()=>document.removeEventListener(Tl,u)),[u]),m.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),a.jsx(ov,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:a.jsxs(Oj,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(H$,{children:n}),a.jsx(K$,{scope:r,isInside:!0,children:a.jsx(Tj,{id:l.contentId,role:"tooltip",children:o||n})})]})})});$b.displayName=Xn;var Bb="TooltipArrow",Db=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Vi(r);return G$(Bb,r).isInside?null:a.jsx(Ej,{...o,...n,ref:t})});Db.displayName=Bb;function Y$(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function J$(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function X$(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function Z$(e,t){const{x:r,y:n}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const c=t[i],l=t[s],d=c.x,u=c.y,f=l.x,h=l.y;u>n!=h>n&&r<(f-d)*(n-u)/(h-u)+d&&(o=!o)}return o}function Q$(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),eF(t)}function eF(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var tF=_b,rF=kb,nF=Mb,aF=Rb,oF=$b,iF=Db;function or({delayDuration:e=0,...t}){return a.jsx(tF,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function gr({...e}){return a.jsx(or,{children:a.jsx(rF,{"data-slot":"tooltip",...e})})}function yr({...e}){return a.jsx(nF,{"data-slot":"tooltip-trigger",...e})}function xr({className:e,sideOffset:t=0,children:r,...n}){return a.jsx(aF,{children:a.jsxs(oF,{"data-slot":"tooltip-content",sideOffset:t,className:Se("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,a.jsx(iF,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function mr({label:e,isRequired:t=!1,validationMessage:r,onValidationChange:n,showValidation:o=!1,customValidation:i,className:s="",value:c="",onChange:l,...d}){const[u,f]=m.useState(!0),[h,p]=m.useState(!1),g=E=>t&&!E?.trim()?!1:i?i(E):!0;m.useEffect(()=>{const E=g(c);f(E),n?.(E)},[c,t,i,n]);const v=E=>{p(!0),l?.(E)},y=()=>{p(!0)},x=h&&!u,b=[s,x?"border-red-500 focus:border-red-500 focus:ring-red-500":""].filter(Boolean).join(" "),j=[t?"font-bold":""].filter(Boolean).join(" ");return a.jsxs("div",{className:"space-y-2",children:[e&&a.jsxs(I,{htmlFor:d.id,className:j,children:[e," ",t&&"*"]}),a.jsx(R,{...d,value:c,onChange:v,onBlur:y,className:b,required:t}),x&&r&&a.jsx("p",{className:"text-sm text-red-500",children:r})]})}class sF{async findAll(t){try{const r=new URLSearchParams;return t?.search&&r.append("search",t.search),t?.ativo!==void 0&&r.append("ativo",t.ativo.toString()),await J(`/banco?${r.toString()}`,{method:"GET"})}catch(r){throw console.error("Erro ao buscar bancos:",r),r}}async findById(t){try{return await J(`/banco/${t}`,{method:"GET"})}catch(r){throw console.error("Erro ao buscar banco:",r),r}}}const Wi=new sF,Vr=e=>e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),Nr=e=>e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),Lr=e=>e.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),cr=e=>e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(\d{4})-(\d)(\d{4})/,"$1$2-$3").replace(/(-\d{4})\d+?$/,"$1"),cF=async(e,t=[])=>{try{const r=t.find(o=>o.bancoId===e);return r||await Wi.findById(e)}catch(r){return console.error("Banco no encontrado:",r),null}},Mu=e=>{const t=typeof e=="string"?Number(e):e;return!isNaN(t)&&t>0},Ru=e=>`${e.nome}`,lF=async e=>{try{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP deve ter 8 dgitos");const r=await fetch(`https://viacep.com.br/ws/${t}/json/`);if(!r.ok)throw new Error(`Erro na requisio: ${r.status}`);const n=await r.json();if(n.erro)throw new Error("CEP no encontrado");return n}catch(t){return console.error("Erro ao buscar CEP na ViaCEP:",t),null}},dF=e=>({cep:e.cep,logradouro:e.logradouro,complemento:e.complemento,bairro:e.bairro,cidade:e.localidade,cidadeCodigo:e.ibge,uf:e.uf,ufCodigo:e.ibge?e.ibge.substring(0,2):void 0}),uF=async(e,t,r,n)=>{if(!e||e.length<8)return n?.("CEP deve ter pelo menos 8 dgitos"),!1;try{const o=await lF(e);if(!o)return n?.("CEP no encontrado"),!1;const i=dF(o);return t(s=>({...s,...i})),r?.(o),!0}catch(o){const i=o instanceof Error?o.message:"Erro ao buscar CEP";return n?.(i),!1}};function Hp({formData:e,setFormData:t,isCreating:r,isUpdating:n,activeTab:o,setActiveTab:i}){const[s,c]=m.useState([]),[l,d]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(!1);m.useEffect(()=>{(async()=>{p(!0);try{const b=await Wi.findAll();c(Array.isArray(b.data)?b.data:[])}catch(b){console.error("Erro ao carregar bancos:",b),c([])}finally{p(!1)}})()},[]),m.useEffect(()=>{if(e.bancoId&&s.length>0){const x=s.find(b=>b.bancoId===e.bancoId);x&&(d(x),f(x.bancoId.toString()))}},[e.bancoId,s]);const g=async x=>{if(!Mu(x)){d(null),t(E=>({...E,bancoId:void 0}));return}const b=Number(x),j=await cF(b,s);j?(d(j),t(E=>({...E,bancoId:j.bancoId}))):(d(null),t(E=>({...E,bancoId:void 0})))},v=x=>{const b=s.find(j=>j.bancoId===Number(x));b&&(d(b),f(b.bancoId.toString()),t(j=>({...j,bancoId:b.bancoId})))},y=async()=>{await uF(e.cep||"",t,()=>{setTimeout(()=>{const b=document.querySelector('input[name="numero"]');b&&b.focus()},100)},b=>{D.error(b)})&&D.success("CEP encontrado e preenchido com sucesso!")};return a.jsxs(tn,{value:o,onValueChange:i,className:"w-full",children:[a.jsxs(rn,{className:"grid w-full grid-cols-3",children:[a.jsxs(pe,{value:"dados-basicos",className:"flex items-center gap-2",children:[a.jsx(qn,{className:"h-4 w-4"}),"Dados Bsicos"]}),a.jsxs(pe,{value:"endereco",className:"flex items-center gap-2",children:[a.jsx(Po,{className:"h-4 w-4"}),"Endereo"]}),a.jsxs(pe,{value:"dados-bancarios",className:"flex items-center gap-2",children:[a.jsx(si,{className:"h-4 w-4"}),"Dados Bancrios"]})]}),a.jsx(ve,{value:"dados-basicos",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados Bsicos da Entidade"}),a.jsxs("div",{className:"grid grid-cols-[70%_15%_10%] gap-4 border border-gray-300 rounded-md p-2",children:[a.jsx(mr,{id:"razaoSocial",name:"nome",label:"Nome",value:e.nome||"",onChange:x=>t(b=>({...b,nome:x.target.value})),disabled:r||n,isRequired:!0,validationMessage:"Razo Social  obrigatria"}),a.jsx("div",{className:"space-y-2",children:a.jsx(mr,{id:"cnpj",label:"CNPJ",value:e.cnpj||"",onChange:x=>{const b=Nr(x.target.value);t(j=>({...j,cnpj:b}))},placeholder:"00.000.000/0000-00",disabled:r||n,isRequired:!0,validationMessage:"CNPJ  obrigatrio",customValidation:x=>x.replace(/\D/g,"").length===14})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"urlSite",children:"URL do Site"}),a.jsx(R,{id:"urlSite",name:"urlSite",value:e.urlSite||"",onChange:x=>t(b=>({...b,urlSite:x.target.value})),disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"urlLogo",children:"URL do Logo"}),a.jsx(R,{id:"urlLogo",name:"urlLogo",value:e.urlLogo||"",onChange:x=>t(b=>({...b,urlLogo:x.target.value})),disabled:r||n})]})]})]})}),a.jsx(ve,{value:"endereco",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Endereo e Contatos"}),a.jsx("div",{className:"space-y-2 gap-4 border border-gray-300 rounded-md p-2 max-w-[15%]",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mr,{id:"cep",name:"cep",label:"CEP",value:e.cep||"",onChange:x=>{const b=Lr(x.target.value);t(j=>({...j,cep:b}))},placeholder:"00000-000",disabled:r||n,isRequired:!0,validationMessage:"CEP  obrigatrio",customValidation:x=>x.replace(/\D/g,"").length===8,className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:y,disabled:r||n||!e.cep||e.cep.replace(/\D/g,"").length!==8,className:"px-3 mt-4",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Pesquisar CEP"})})]})})]})}),a.jsxs("div",{className:"grid grid-cols-[80%_15%] gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"logradouro",children:"Logradouro"}),a.jsx(R,{id:"logradouro",name:"logradouro",value:e.logradouro||"",onChange:x=>t(b=>({...b,logradouro:x.target.value})),disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"numero",children:"Nmero"}),a.jsx(R,{id:"numero",name:"numero",value:e.numero||"",onChange:x=>t(b=>({...b,numero:x.target.value})),disabled:r||n})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"complemento",children:"Complemento"}),a.jsx(R,{id:"complemento",name:"complemento",value:e.complemento||"",onChange:x=>t(b=>({...b,complemento:x.target.value})),disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"bairro",children:"Bairro"}),a.jsx(R,{id:"bairro",name:"bairro",value:e.bairro||"",onChange:x=>t(b=>({...b,bairro:x.target.value})),disabled:r||n})]})]}),a.jsxs("div",{className:"grid grid-cols-[70%_10%_10%] gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"cidade",children:"Cidade"}),a.jsx(R,{id:"cidade",name:"cidade",value:e.cidade||"",onChange:x=>t(b=>({...b,cidade:x.target.value})),disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"uf",children:"UF"}),a.jsx(R,{id:"uf",name:"uf",value:e.uf||"",onChange:x=>t(b=>({...b,uf:x.target.value})),maxLength:2,disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"cidadeCodigo",children:"Cdigo IBGE"}),a.jsx(R,{id:"cidadeCodigo",name:"cidadeCodigo",value:e.cidadeCodigo||"",onChange:x=>t(b=>({...b,cidadeCodigo:x.target.value})),disabled:!0})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium",children:"Contato Comercial"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoComercialNome",children:"Nome"}),a.jsx(R,{id:"contatoComercialNome",name:"contatoComercialNome",value:e.contatoComercialNome||"",onChange:x=>t(b=>({...b,contatoComercialNome:x.target.value})),disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoComercialEmail",children:"E-mail"}),a.jsx(R,{id:"contatoComercialEmail",name:"contatoComercialEmail",type:"email",value:e.contatoComercialEmail||"",onChange:x=>t(b=>({...b,contatoComercialEmail:x.target.value})),placeholder:"comercial@exemplo.com",disabled:r||n})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoComercialTelefone1",children:"Telefone 1"}),a.jsx(R,{id:"contatoComercialTelefone1",name:"contatoComercialTelefone1",value:e.contatoComercialTelefone1||"",onChange:x=>{const b=cr(x.target.value);t(j=>({...j,contatoComercialTelefone1:b}))},placeholder:"(00) 00000-0000",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoComercialTelefone2",children:"Telefone 2"}),a.jsx(R,{id:"contatoComercialTelefone2",name:"contatoComercialTelefone2",value:e.contatoComercialTelefone2||"",onChange:x=>{const b=cr(x.target.value);t(j=>({...j,contatoComercialTelefone2:b}))},placeholder:"(00) 00000-0000",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoComercialTelefone3",children:"Telefone 3"}),a.jsx(R,{id:"contatoComercialTelefone3",name:"contatoComercialTelefone3",value:e.contatoComercialTelefone3||"",onChange:x=>t(b=>({...b,contatoComercialTelefone3:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium",children:"Contato Tcnico"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoTecnicoNome",children:"Nome"}),a.jsx(R,{id:"contatoTecnicoNome",name:"contatoTecnicoNome",value:e.contatoTecnicoNome||"",onChange:x=>t(b=>({...b,contatoTecnicoNome:x.target.value})),placeholder:"Nome do contato tcnico",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoTecnicoEmail",children:"E-mail"}),a.jsx(R,{id:"contatoTecnicoEmail",name:"contatoTecnicoEmail",type:"email",value:e.contatoTecnicoEmail||"",onChange:x=>t(b=>({...b,contatoTecnicoEmail:x.target.value})),placeholder:"tecnico@exemplo.com",disabled:r||n})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoTecnicoTelefone1",children:"Telefone 1"}),a.jsx(R,{id:"contatoTecnicoTelefone1",name:"contatoTecnicoTelefone1",value:e.contatoTecnicoTelefone1||"",onChange:x=>t(b=>({...b,contatoTecnicoTelefone1:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoTecnicoTelefone2",children:"Telefone 2"}),a.jsx(R,{id:"contatoTecnicoTelefone2",name:"contatoTecnicoTelefone2",value:e.contatoTecnicoTelefone2||"",onChange:x=>t(b=>({...b,contatoTecnicoTelefone2:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoTecnicoTelefone3",children:"Telefone 3"}),a.jsx(R,{id:"contatoTecnicoTelefone3",name:"contatoTecnicoTelefone3",value:e.contatoTecnicoTelefone3||"",onChange:x=>t(b=>({...b,contatoTecnicoTelefone3:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-md font-medium",children:"Contato Financeiro"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoFinanceiroNome",children:"Nome"}),a.jsx(R,{id:"contatoFinanceiroNome",name:"contatoFinanceiroNome",value:e.contatoFinanceiroNome||"",onChange:x=>t(b=>({...b,contatoFinanceiroNome:x.target.value})),placeholder:"Nome do contato financeiro",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoFinanceiroEmail",children:"E-mail"}),a.jsx(R,{id:"contatoFinanceiroEmail",name:"contatoFinanceiroEmail",type:"email",value:e.contatoFinanceiroEmail||"",onChange:x=>t(b=>({...b,contatoFinanceiroEmail:x.target.value})),placeholder:"financeiro@exemplo.com",disabled:r||n})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoFinanceiroTelefone1",children:"Telefone 1"}),a.jsx(R,{id:"contatoFinanceiroTelefone1",name:"contatoFinanceiroTelefone1",value:e.contatoFinanceiroTelefone1||"",onChange:x=>t(b=>({...b,contatoFinanceiroTelefone1:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoFinanceiroTelefone2",children:"Telefone 2"}),a.jsx(R,{id:"contatoFinanceiroTelefone2",name:"contatoFinanceiroTelefone2",value:e.contatoFinanceiroTelefone2||"",onChange:x=>t(b=>({...b,contatoFinanceiroTelefone2:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contatoFinanceiroTelefone3",children:"Telefone 3"}),a.jsx(R,{id:"contatoFinanceiroTelefone3",name:"contatoFinanceiroTelefone3",value:e.contatoFinanceiroTelefone3||"",onChange:x=>t(b=>({...b,contatoFinanceiroTelefone3:cr(x.target.value)})),placeholder:"(00) 00000-0000",disabled:r||n})]})]})]})]})}),a.jsx(ve,{value:"dados-bancarios",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados Bancrios"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx("div",{className:"gap-4 border border-gray-300 rounded-md p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"bancoId",children:"Banco"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex gap-2 flex-1 max-w-[15%]",children:[a.jsx(R,{id:"bancoId",name:"bancoId",placeholder:"000",value:u,onChange:x=>f(x.target.value),onBlur:()=>g(u),disabled:r||n,className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>g(u),disabled:r||n||!u,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Buscar banco por N"})})]})})]}),a.jsx("div",{className:"flex-1",children:a.jsxs(Me,{value:l?.bancoId?.toString()||"",onValueChange:v,disabled:r||n||h,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:h?"Carregando bancos...":"Selecione um banco"})}),a.jsx(Fe,{className:"overflow-y-auto",children:Array.isArray(s)&&s.map(x=>a.jsx(se,{value:x.bancoId.toString(),children:Ru(x)},x.bancoId))})]})})]})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"carteira",children:"Carteira"}),a.jsx(R,{id:"carteira",name:"carteira",value:e.carteira||"",onChange:x=>t(b=>({...b,carteira:x.target.value})),placeholder:"COBRANCA",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"agencia",children:"Agncia"}),a.jsx(R,{id:"agencia",name:"agencia",value:e.agencia||"",onChange:x=>t(b=>({...b,agencia:x.target.value})),placeholder:"123456",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"agenciaDigito",children:"Dgito da Agncia"}),a.jsx(R,{id:"agenciaDigito",name:"agenciaDigito",value:e.agenciaDigito||"",onChange:x=>t(b=>({...b,agenciaDigito:x.target.value})),placeholder:"5",maxLength:1,disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"conta",children:"Conta"}),a.jsx(R,{id:"conta",name:"conta",value:e.conta||"",onChange:x=>t(b=>({...b,conta:x.target.value})),placeholder:"12345678",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"contaDigito",children:"Dgito da Conta"}),a.jsx(R,{id:"contaDigito",name:"contaDigito",value:e.contaDigito||"",onChange:x=>t(b=>({...b,contaDigito:x.target.value})),placeholder:"9",maxLength:1,disabled:r||n})]})]}),a.jsxs("div",{className:"grid grid-cols-[20%_80%] gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"cedenteCodigo",children:"Cdigo do Cedente"}),a.jsx(R,{id:"cedenteCodigo",name:"cedenteCodigo",value:e.cedenteCodigo||"",onChange:x=>t(b=>({...b,cedenteCodigo:x.target.value})),placeholder:"123456",disabled:r||n})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"cedenteNome",children:"Nome do Cedente"}),a.jsx(R,{id:"cedenteNome",name:"cedenteNome",value:e.cedenteNome||"",onChange:x=>t(b=>({...b,cedenteNome:x.target.value})),placeholder:"Nome da empresa",disabled:r||n})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"chavePix",children:"Chave PIX"}),a.jsx(R,{id:"chavePix",name:"chavePix",value:e.chavePix||"",onChange:x=>t(b=>({...b,chavePix:x.target.value})),placeholder:"empresa@exemplo.com",disabled:r||n})]})]})]})})]})}const Mr={entidadeId:0,nome:"",cnpj:"",urlSite:"",urlLogo:"",enderecos:[],entidadeContaBancaria:[],cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cidadeCodigo:"",uf:"",ufCodigo:"",contatoComercialNome:"",contatoComercialTelefone1:"",contatoComercialTelefone2:"",contatoComercialTelefone3:"",contatoComercialEmail:"",contatoTecnicoNome:"",contatoTecnicoTelefone1:"",contatoTecnicoTelefone2:"",contatoTecnicoTelefone3:"",contatoTecnicoEmail:"",contatoFinanceiroNome:"",contatoFinanceiroTelefone1:"",contatoFinanceiroTelefone2:"",contatoFinanceiroTelefone3:"",contatoFinanceiroEmail:"",bancoId:void 0,agencia:"",agenciaDigito:"",conta:"",contaDigito:"",carteira:"",cedenteCodigo:"",cedenteNome:"",chavePix:""};function fF({title:e="Gesto de Entidades"}){const t=[{key:"entidadeId",header:"Cdigo",render:V=>V.entidadeId||"SEM ID"},{key:"nome",header:"Nome",render:V=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:V.nome||"SEM NOME"})]})},{key:"cnpj",header:"CNPJ",className:"font-mono text-sm"},{key:"contato",header:"Contato",render:V=>a.jsx("div",{className:"text-sm",children:V.enderecos?.[0]?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:V.enderecos[0].contatoComercialNome||"Sem nome"}),a.jsx("div",{className:"text-muted-foreground",children:V.enderecos[0].contatoComercialTelefone1||"Sem telefone"})]}):a.jsx("span",{className:"text-muted-foreground",children:"Sem contato"})})},{key:"endereco",header:"Endereo",render:V=>a.jsx("div",{className:"text-sm",children:V.enderecos?.[0]?a.jsxs("div",{children:[a.jsxs("div",{children:[V.enderecos[0].cidade," - ",V.enderecos[0].uf]}),a.jsxs("div",{className:"text-muted-foreground",children:[V.enderecos[0].logradouro,", ",V.enderecos[0].numero]})]}):a.jsx("span",{className:"text-muted-foreground",children:"Sem endereo"})})},{key:"actions",header:"Aes",className:"text-right",render:V=>a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>me(V),disabled:g||y,children:a.jsx(qr,{className:"h-4 w-4"})}),a.jsxs(Cu,{children:[a.jsx(Nu,{asChild:!0,children:a.jsx(z,{variant:"outline",size:"sm",disabled:g||y,children:a.jsx(En,{className:"h-4 w-4"})})}),a.jsxs(Pu,{children:[a.jsxs(Su,{children:[a.jsx(Ou,{children:"Excluir Entidade"}),a.jsxs(Tu,{children:['Tem certeza que deseja excluir a entidade "',V.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Eu,{children:[a.jsx(Iu,{disabled:y,children:"Cancelar"}),a.jsx(Au,{onClick:()=>ne(V.entidadeId.toString()),disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})]})]})}],[r,n]=m.useState([]),[o,i]=m.useState(""),[s,c]=m.useState(null),[l,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState(!1),[g,v]=m.useState(!1),[y,x]=m.useState(!1),[b,j]=m.useState(1),[E]=m.useState(25),[S,T]=m.useState(Mr),[N,C]=m.useState(!1),[M,F]=m.useState(!1),[P,O]=m.useState("dados-basicos"),[$,K]=m.useState(!1),Y=m.useRef(null),re=m.useMemo(()=>{if(!o||o.length<2)return r;const V=o.toLowerCase();return r.filter(ie=>ie.nome?.toLowerCase().includes(V)||ie.cnpj?.toLowerCase().includes(V)||ie.enderecos?.[0]?.contatoComercialNome?.toLowerCase().includes(V)||ie.enderecos?.[0]?.cidade?.toLowerCase().includes(V))},[r,o]),ce=re.length,ue=Math.ceil(ce/E),X=(b-1)*E,le=X+E,W=re.slice(X,le),_=m.useCallback(async()=>{try{p(!0);const ie=(await nn.findAllView({page:1,limit:1e3})).data.map(je=>nn.convertToFrontendFormat(je));n(ie)}catch(V){console.error("Erro ao carregar entidades:",V),D.error("Erro ao carregar entidades")}finally{p(!1)}},[]),w=m.useCallback(V=>{i(V),j(1),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{},300)},[]),B=m.useCallback(V=>{j(V)},[]),U=m.useCallback(()=>{T(Mr),C(!1),O("dados-basicos"),K(!0),d(!0)},[]),Z=m.useCallback(()=>{N?F(!0):(d(!1),T(Mr),C(!1),K(!1))},[N]),me=m.useCallback(V=>{c(V),T(V),C(!1),O("dados-basicos"),K(!1),f(!0)},[]),xe=m.useCallback(V=>{T(V),C(!0)},[]),H=m.useCallback(async()=>{try{v(!0);const V=nn.convertToApiFormat(S);await nn.create(V),D.success("Entidade criada com sucesso!"),d(!1),T(Mr),C(!1),K(!1),await _()}catch(V){console.error("Erro ao criar entidade:",V),D.error("Erro ao criar entidade")}finally{v(!1)}},[S,_]),ee=m.useCallback(async()=>{if(s)try{v(!0);const V=nn.convertToApiFormat(S);await nn.update(s.entidadeId,V),D.success("Entidade atualizada com sucesso!"),f(!1),c(null),T(Mr),C(!1),await _()}catch(V){console.error("Erro ao atualizar entidade:",V),D.error("Erro ao atualizar entidade")}finally{v(!1)}},[s,S,_]),ne=m.useCallback(async V=>{try{x(!0),await nn.delete(parseInt(V)),D.success("Entidade excluda com sucesso!"),await _()}catch(ie){console.error("Erro ao excluir entidade:",ie),D.error("Erro ao excluir entidade")}finally{x(!1)}},[_]),q=m.useCallback(V=>{V==="create"?(d(!1),T(Mr),C(!1),K(!1)):(f(!1),c(null),T(Mr),C(!1)),F(!1)},[]);return m.useEffect(()=>{_()},[_]),m.useEffect(()=>()=>{Y.current&&clearTimeout(Y.current)},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:e}),a.jsxs(z,{variant:"outline",onClick:U,children:[a.jsx(Kr,{className:"mr-2 h-4 w-4"}),"Nova Entidade"]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(R,{placeholder:"Pesquisar entidades...",value:o,onChange:V=>w(V.target.value),className:"pl-8"})]})}),a.jsx(Ba,{title:"Lista de Entidades",data:W,columns:t,isLoading:h,loadingText:"Carregando entidades...",emptyText:"Nenhuma entidade encontrada",keyExtractor:V=>V.entidadeId||`entity-${Math.random()}`}),ue>1&&a.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",X+1," a ",Math.min(le,ce)," de"," ",ce," entidades"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>B(b-1),disabled:b===1||h,children:[a.jsx(Pa,{className:"h-4 w-4"}),"Anterior"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,ue)},(V,ie)=>{let je;return ue<=5||b<=3?je=ie+1:b>=ue-2?je=ue-4+ie:je=b-2+ie,a.jsx(z,{variant:b===je?"default":"outline",size:"sm",onClick:()=>B(je),disabled:h,className:"w-8 h-8 p-0",children:je},je)})}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>B(b+1),disabled:b===ue||h,children:["Prxima",a.jsx(Sa,{className:"h-4 w-4"})]})]})]}),a.jsx(Ue,{open:l,onOpenChange:V=>{if(V){d(!0);return}N?F(!0):(d(!1),T(Mr),C(!1),K(!1))},children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Nova Entidade"}),a.jsx(Ye,{children:"Preencha as informaes da nova entidade. Os campos marcados com * so obrigatrios."})]}),a.jsx(Hp,{formData:S,setFormData:xe,isCreating:$,isUpdating:g,activeTab:P,setActiveTab:O}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:Z,disabled:g,children:"Cancelar"}),a.jsx(z,{onClick:H,disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando..."]}):"Criar Entidade"})]})]})}),a.jsx(Ue,{open:u,onOpenChange:V=>{if(V){f(!0);return}N?F(!0):(f(!1),c(null),C(!1))},children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Editar Entidade"}),a.jsx(Ye,{children:"Atualize as informaes da entidade. Os campos marcados com * so obrigatrios."})]}),a.jsx(Hp,{formData:S,setFormData:xe,isCreating:$,isUpdating:g,activeTab:P,setActiveTab:O}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>q("edit"),disabled:g,children:"Cancelar"}),a.jsx(z,{onClick:ee,disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):"Atualizar Entidade"})]})]})}),a.jsx(Ue,{open:M,onOpenChange:F,children:a.jsxs(Ve,{children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Descartar alteraes?"}),a.jsx(Ye,{children:"Voc tem alteraes no salvas. Tem certeza que deseja descartar essas alteraes?"})]}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),a.jsx(z,{variant:"destructive",onClick:()=>{q(l?"create":"edit")},children:"Descartar"})]})]})})]})}function hF({title:e}){return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:e}),a.jsx(fe,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(qj,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e}),a.jsx("p",{className:"text-muted-foreground",children:"Esta funcionalidade ser implementada em breve! Certo, Dudu !??"})]})})})]})}class mF{async findAll(){return J("/socios")}async findOne(t){return J(`/socios/${t}`)}async create(t){return J("/socios",{method:"POST",body:JSON.stringify(t)})}async update(t,r){return J(`/socios/${t}`,{method:"PATCH",body:JSON.stringify(r)})}async remove(t){return J(`/socios/${t}`,{method:"DELETE"})}async getBancos(){return J("/socios/bancos")}convertToApiFormat(t){return{pessoa:{pessoaId:t.pessoa.pessoaId||void 0,nome:t.pessoa.nome,razao:t.pessoa.razao||void 0,documento:t.pessoa.documento,tipo:t.pessoa.tipo,inscricao_estadual:t.pessoa.inscricao_estadual||void 0,inscricao_municipal:t.pessoa.inscricao_municipal||void 0},endereco:t.endereco&&(t.endereco.cep||t.endereco.endereco||t.endereco.numero||t.endereco.bairro||t.endereco.cidade||t.endereco.uf)?{cep:t.endereco.cep||void 0,logradouro:t.endereco.endereco||void 0,numero:t.endereco.numero||void 0,complemento:t.endereco.complemento||void 0,bairro:t.endereco.bairro||void 0,cidade:t.endereco.cidade||void 0,cidadeCodigo:t.endereco.cidade_codigo?parseInt(t.endereco.cidade_codigo):void 0,uf:t.endereco.uf||void 0,ufCodigo:t.endereco.uf_codigo?parseInt(t.endereco.uf_codigo):void 0}:void 0,dadosBancarios:t.dadosBancarios&&(t.dadosBancarios.banco_id||t.dadosBancarios.agencia||t.dadosBancarios.conta||t.dadosBancarios.conta_tipo||t.dadosBancarios.chave_pix||t.dadosBancarios.conta_digito||t.dadosBancarios.agencia_digito)?{dadosBancariosId:t.dadosBancarios.dadosBancariosId||void 0,banco_id:t.dadosBancarios.banco_id?Number(t.dadosBancarios.banco_id):void 0,agencia:t.dadosBancarios.agencia||void 0,conta:t.dadosBancarios.conta||void 0,conta_tipo:t.dadosBancarios.conta_tipo||void 0,chave_pix:t.dadosBancarios.chave_pix||void 0,conta_digito:t.dadosBancarios.conta_digito||void 0,agencia_digito:t.dadosBancarios.agencia_digito||void 0}:void 0,socioInfo:t.socioInfo?{perc_rateio:Number(t.socioInfo.perc_rateio)||0}:void 0}}convertCreateUpdateToFrontendFormat(t){return t.socio}}const lr=new mF,an={pessoa:{nome:"",razao:"",documento:"",tipo:"PF",inscricao_estadual:"",inscricao_municipal:""},endereco:{cep:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""},dadosBancarios:{banco_id:void 0,agencia:"",conta:"",conta_tipo:1,chave_pix:"",conta_digito:"",agencia_digito:""},socioInfo:{perc_rateio:0}},pF=[{value:1,label:"Conta Corrente"},{value:2,label:"Conta Poupana"}],vF=[{value:"PF",label:"Pessoa Fsica"},{value:"PJ",label:"Pessoa Jurdica"}],gF=Ij("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,asChild:r=!1,...n}){const o=r?Aj:"span";return a.jsx(o,{"data-slot":"badge",className:Se(gF({variant:t}),e),...n})}class yF{async search(t){const r=new URLSearchParams;t.documento&&r.append("documento",t.documento),t.nome&&r.append("nome",t.nome),t.tipo&&r.append("tipo",t.tipo),t.limit&&r.append("limit",t.limit.toString()),t.offset&&r.append("offset",t.offset.toString());const n=r.toString(),o=n?`/pessoa/search?${n}`:"/pessoa/search";return J(o)}async findOne(t){return J(`/pessoa/${t}`)}}const Lb=new yF;function Zn({isOpen:e,onClose:t,onSelectPerson:r,title:n="Buscar Pessoa",excludePersonId:o}){const[i,s]=m.useState({documento:"",nome:"",tipo:void 0,limit:20,offset:0}),[c,l]=m.useState([]),[d,u]=m.useState(!1),[f,h]=m.useState(0),[p,g]=m.useState(1),v=m.useCallback(async()=>{if(!i.documento&&!i.nome){D.error("Informe pelo menos o documento ou nome para pesquisar");return}u(!0);try{const M=await Lb.search({...i,offset:(p-1)*(i.limit||20)});let F=M.data;o&&(F=M.data.filter(P=>P.pessoaId!==o)),l(F),h(M.total)}catch(M){console.error("Erro ao buscar pessoas:",M),D.error("Erro ao buscar pessoas"),l([]),h(0)}finally{u(!1)}},[i,p,o]),y=()=>{g(1),v()},x=M=>{r(M),t()},b=M=>{const F=i.tipo==="PF"?Vr(M):Nr(M);s(P=>({...P,documento:F}))},j=M=>{s(F=>({...F,tipo:M,documento:""}))},E=M=>{M.key==="Enter"&&y()},S=Math.ceil(f/(i.limit||20)),T=(M,F)=>F==="PF"?Vr(M):Nr(M),N=M=>M==="PF"?a.jsx(bt,{className:"h-4 w-4"}):a.jsx(lv,{className:"h-4 w-4"}),C=M=>M==="PF"?"Pessoa Fsica":"Pessoa Jurdica";return a.jsx(Ue,{open:e,onOpenChange:t,children:a.jsxs(Ve,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(We,{children:[a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(qt,{className:"h-5 w-5"}),n]}),a.jsx(Ye,{children:"Busque e selecione uma pessoa existente para preencher automaticamente os dados do formulrio"})]}),a.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-gray-50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"tipo",children:"Tipo"}),a.jsxs(Me,{value:i.tipo||"",onValueChange:j,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"PF",children:"Pessoa Fsica"}),a.jsx(se,{value:"PJ",children:"Pessoa Jurdica"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento"}),a.jsx(R,{id:"documento",placeholder:i.tipo==="PF"?"000.000.000-00":i.tipo==="PJ"?"00.000.000/0000-00":"CPF ou CNPJ",value:i.documento||"",onChange:M=>b(M.target.value),onKeyPress:E,maxLength:i.tipo==="PF"?14:18})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome"}),a.jsx(R,{id:"nome",placeholder:"Nome ou razo social",value:i.nome||"",onChange:M=>s(F=>({...F,nome:M.target.value})),onKeyPress:E})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(z,{onClick:y,disabled:d||!i.documento&&!i.nome,className:"flex items-center gap-2",children:[a.jsx(qt,{className:"h-4 w-4"}),d?"Buscando...":"Buscar"]})}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[c.length>0&&a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[f," pessoa(s) encontrada(s)"]}),S>1&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(M=>Math.max(1,M-1)),disabled:p===1||d,children:"Anterior"}),a.jsxs("span",{className:"text-sm",children:["Pgina ",p," de ",S]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(M=>Math.min(S,M+1)),disabled:p===S||d,children:"Prxima"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:d?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.length===0?a.jsx("div",{className:"flex items-center justify-center py-8 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Nenhuma pessoa encontrada"}),a.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros de busca"})]})}):c.map(M=>a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>x(M),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:N(M.tipo)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 truncate",children:M.nome}),a.jsx(ht,{variant:"secondary",className:"text-xs",children:C(M.tipo)})]}),M.razao&&M.tipo==="PJ"&&a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:M.razao}),a.jsx("p",{className:"text-sm text-gray-500",children:T(M.documento,M.tipo)}),M.enderecos&&M.enderecos.length>0&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[M.enderecos[0].cidade,","," ",M.enderecos[0].uf]})]})]}),a.jsx(z,{size:"sm",onClick:F=>{F.stopPropagation(),x(M)},children:"Selecionar"})]})},M.pessoaId))})]})]})]})})}function Yp({formData:e,setFormData:t,isCreating:r,isUpdating:n,activeTab:o,setActiveTab:i}){const[s,c]=m.useState([]),[l,d]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(!1),[g,v]=m.useState(!1);m.useEffect(()=>{y()},[]),m.useEffect(()=>{if(e.dadosBancarios?.banco_id&&s.length>0){const P=s.find(O=>O.bancoId===e.dadosBancarios?.banco_id);P&&(d(P),f(P.bancoId.toString()))}else e.dadosBancarios?.banco_id||(d(null),f(""))},[e.dadosBancarios?.banco_id,s]);const y=async()=>{p(!0);try{const P=await Wi.findAll();c(Array.isArray(P.data)?P.data:[])}catch(P){console.error("Erro ao carregar bancos:",P),c([])}finally{p(!1)}},x=async P=>{if(!Mu(P)){d(null),t({...e,dadosBancarios:{...e.dadosBancarios,banco_id:void 0}});return}const O=Number(P),$=s.find(K=>K.bancoId===O);$?(d($),t({...e,dadosBancarios:{...e.dadosBancarios,banco_id:$.bancoId}})):(d(null),t({...e,dadosBancarios:{...e.dadosBancarios,banco_id:void 0}}))},b=P=>{const O=s.find($=>$.bancoId===Number(P));O&&(d(O),f(O.bancoId.toString()),t({...e,dadosBancarios:{...e.dadosBancarios,banco_id:O.bancoId}}))},j=async()=>{const P=e.endereco?.cep||"";if(!P||P.length<8){D.error("CEP deve ter pelo menos 8 dgitos");return}try{const O=P.replace(/\D/g,""),K=await(await fetch(`https://viacep.com.br/ws/${O}/json/`)).json();if(K.erro){D.error("CEP no encontrado");return}t({...e,endereco:{...e.endereco,cep:K.cep,endereco:K.logradouro,bairro:K.bairro,cidade:K.localidade,uf:K.uf,cidade_codigo:K.ibge,uf_codigo:K.ibge?K.ibge.substring(0,2):void 0}}),setTimeout(()=>{const Y=document.querySelector('input[name="numero"]');Y&&Y.focus()},100),D.success("CEP encontrado com sucesso!")}catch(O){console.error("Erro ao buscar CEP:",O),D.error("Erro ao buscar CEP")}},E=(P,O)=>{t({...e,pessoa:{...e.pessoa,[P]:O}})},S=(P,O)=>{t({...e,endereco:{...e.endereco,[P]:O}})},T=(P,O)=>{t({...e,dadosBancarios:{...e.dadosBancarios,[P]:O}})},N=(P,O)=>{t({...e,socioInfo:{...e.socioInfo,[P]:O}})},C=P=>{const O=e.pessoa.tipo==="PF"?Vr(P):Nr(P);E("documento",O)},M=P=>{const O=Lr(P);S("cep",O)},F=P=>{const O=e.dadosBancarios;if(t({...e,pessoa:{pessoaId:P.pessoaId,nome:P.nome,razao:P.razao||null,documento:P.documento,tipo:P.tipo,inscricao_estadual:P.inscricaoEstadual||null,inscricao_municipal:P.inscricaoMunicipal||null},endereco:P.enderecos&&P.enderecos.length>0?{cep:P.enderecos[0].cep,endereco:P.enderecos[0].logradouro||null,numero:P.enderecos[0].numero||null,complemento:P.enderecos[0].complemento||null,bairro:P.enderecos[0].bairro||null,cidade:P.enderecos[0].cidade||null,uf:P.enderecos[0].uf||null,cidade_codigo:P.enderecos[0].cidadeCodigo||null,uf_codigo:P.enderecos[0].ufCodigo||null}:void 0,dadosBancarios:P.dadosBancarios&&P.dadosBancarios.length>0?{dadosBancariosId:P.dadosBancarios[0].dadosBancariosId,banco_id:P.dadosBancarios[0].bancoId,agencia:P.dadosBancarios[0].agencia,conta:P.dadosBancarios[0].conta,conta_tipo:P.dadosBancarios[0].contaTipo,chave_pix:P.dadosBancarios[0].chavePix||null,conta_digito:P.dadosBancarios[0].contaDigito||null,agencia_digito:P.dadosBancarios[0].agenciaDigito||null}:O}),P.dadosBancarios&&P.dadosBancarios.length>0){const $=s.find(K=>K.bancoId===P.dadosBancarios[0].bancoId);$&&(d($),f($.bancoId.toString()))}D.success("Dados da pessoa carregados com sucesso!")};return a.jsxs(a.Fragment,{children:[a.jsxs(tn,{value:o,onValueChange:i,className:"w-full",children:[a.jsxs(rn,{className:"grid w-full grid-cols-4",children:[a.jsxs(pe,{value:"pessoa",className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Pessoa"]}),a.jsxs(pe,{value:"endereco",className:"flex items-center gap-2",children:[a.jsx(Po,{className:"h-4 w-4"}),"Endereo"]}),a.jsxs(pe,{value:"dados-bancarios",className:"flex items-center gap-2",children:[a.jsx(si,{className:"h-4 w-4"}),"Dados Bancrios"]}),a.jsxs(pe,{value:"socio-info",className:"flex items-center gap-2",children:[a.jsx(dv,{className:"h-4 w-4"}),"Participao"]})]}),a.jsx(ve,{value:"pessoa",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados da Pessoa"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>v(!0),className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Buscar Pessoa"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"tipo",children:"Tipo *"}),a.jsxs(Me,{value:e.pessoa.tipo,onValueChange:P=>E("tipo",P),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo"})}),a.jsx(Fe,{children:vF?.map(P=>a.jsx(se,{value:P.value||"default",children:P.label},P.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento *"}),a.jsx(R,{id:"documento",placeholder:e.pessoa.tipo==="PF"?"000.000.000-00":"00.000.000/0000-00",value:e.pessoa.documento,onChange:P=>C(P.target.value),maxLength:e.pessoa.tipo==="PF"?14:18})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome *"}),a.jsx(R,{id:"nome",placeholder:"Nome completo",value:e.pessoa.nome,onChange:P=>E("nome",P.target.value)})]}),e.pessoa.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"razao",children:"Razo Social"}),a.jsx(R,{id:"razao",placeholder:"Razo social",value:e.pessoa.razao||"",onChange:P=>E("razao",P.target.value)})]}),e.pessoa.tipo==="PJ"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"inscricao_estadual",children:"Inscrio Estadual"}),a.jsx(R,{id:"inscricao_estadual",placeholder:"Inscrio estadual",value:e.pessoa.inscricao_estadual||"",onChange:P=>E("inscricao_estadual",P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"inscricao_municipal",children:"Inscrio Municipal"}),a.jsx(R,{id:"inscricao_municipal",placeholder:"Inscrio municipal",value:e.pessoa.inscricao_municipal||"",onChange:P=>E("inscricao_municipal",P.target.value)})]})]})]})}),a.jsx(ve,{value:"endereco",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),a.jsx("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 max-w-[20%]",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mr,{id:"cep",name:"cep",label:"CEP",value:e.endereco?.cep||"",onChange:P=>{const O=Lr(P.target.value);M(O)},placeholder:"00000-000",isRequired:!0,validationMessage:"CEP  obrigatrio",customValidation:P=>P.replace(/\D/g,"").length===8,className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:j,disabled:!e.endereco?.cep||e.endereco.cep.replace(/\D/g,"").length!==8,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Pesquisar CEP"})})]})})]})}),a.jsxs("div",{className:"grid grid-cols-[80%_15%] gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"endereco",children:"Logradouro"}),a.jsx(R,{id:"endereco",placeholder:"Rua, Avenida, etc.",value:e.endereco?.endereco||"",onChange:P=>S("endereco",P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"numero",children:"Nmero"}),a.jsx(R,{id:"numero",name:"numero",placeholder:"123",value:e.endereco?.numero||"",onChange:P=>S("numero",P.target.value)})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"complemento",children:"Complemento"}),a.jsx(R,{id:"complemento",placeholder:"Apartamento, sala, etc.",value:e.endereco?.complemento||"",onChange:P=>S("complemento",P.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"bairro",children:"Bairro"}),a.jsx(R,{id:"bairro",placeholder:"Bairro",value:e.endereco?.bairro||"",onChange:P=>S("bairro",P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"cidade",children:"Cidade"}),a.jsx(R,{id:"cidade",placeholder:"Cidade",value:e.endereco?.cidade||"",onChange:P=>S("cidade",P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"uf",children:"UF"}),a.jsx(R,{id:"uf",placeholder:"SP",value:e.endereco?.uf||"",onChange:P=>S("uf",P.target.value),maxLength:2})]})]})]})}),a.jsx(ve,{value:"dados-bancarios",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados Bancrios"}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"banco_id",children:"Banco"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex gap-2 flex-1 max-w-[20%]",children:[a.jsx(R,{id:"banco_id",name:"banco_id",placeholder:"000",value:u,onChange:P=>f(P.target.value),onBlur:()=>x(u),disabled:r||n,className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>x(u),disabled:r||n||!u,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Buscar banco por N"})})]})})]}),a.jsx("div",{className:"flex-1",children:a.jsxs(Me,{value:l?.bancoId?.toString()||"",onValueChange:b,disabled:r||n||h,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:h?"Carregando bancos...":"Selecione um banco"})}),a.jsx(Fe,{className:"max-h-[200px] overflow-y-auto",children:Array.isArray(s)&&s.map(P=>a.jsx(se,{value:P.bancoId.toString(),children:Ru(P)},P.bancoId))})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"agencia",children:"Agncia"}),a.jsx(R,{id:"agencia",value:e.dadosBancarios?.agencia||"",onChange:P=>T("agencia",P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"agencia_digito",children:"Dgito da Agncia"}),a.jsx(R,{id:"agencia_digito",value:e.dadosBancarios?.agencia_digito||"",onChange:P=>T("agencia_digito",P.target.value),maxLength:1})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"conta",children:"Conta"}),a.jsx(R,{id:"conta",value:e.dadosBancarios?.conta||"",onChange:P=>T("conta",P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"conta_digito",children:"Dgito da Conta"}),a.jsx(R,{id:"conta_digito",value:e.dadosBancarios?.conta_digito||"",onChange:P=>T("conta_digito",P.target.value),maxLength:1})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"conta_tipo",children:"Tipo de Conta"}),a.jsxs(Me,{value:e.dadosBancarios?.conta_tipo?.toString()||"",onValueChange:P=>T("conta_tipo",parseInt(P)),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo de conta"})}),a.jsx(Fe,{children:pF?.map(P=>a.jsx(se,{value:P.value.toString(),children:P.label},P.value))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"chave_pix",children:"Chave PIX"}),a.jsx(R,{id:"chave_pix",placeholder:"Chave PIX",value:e.dadosBancarios?.chave_pix||"",onChange:P=>T("chave_pix",P.target.value)})]})]})}),a.jsx(ve,{value:"socio-info",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Participao"}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 max-w-[30%]",children:[a.jsx(I,{htmlFor:"perc_rateio",children:"Percentual de Rateio (%)"}),a.jsx(R,{id:"perc_rateio",type:"number",min:"0",max:"100",step:"0.01",placeholder:"0.00",value:e.socioInfo?.perc_rateio||0,onChange:P=>N("perc_rateio",parseFloat(P.target.value)||0)})]})]})})]}),a.jsx(Zn,{isOpen:g,onClose:()=>v(!1),onSelectPerson:F,title:"Buscar Pessoa para Scio"})]})}function xF({title:e="Gesto de Scios"}){const t=[{key:"pessoa.nome",header:"Nome",render:A=>a.jsx("span",{className:"font-medium",children:A.pessoa.nome})},{key:"pessoa.documento",header:"Documento",render:A=>A.pessoa.documento},{key:"pessoa.tipo",header:"Tipo",render:A=>a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${A.pessoa.tipo==="PF"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:A.pessoa.tipo})},{key:"perc_rateio",header:"% Rateio",render:A=>`${A.perc_rateio}%`},{key:"actions",header:"Aes",className:"text-right",render:A=>a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>U(A),children:a.jsx(qr,{className:"w-4 h-4"})}),a.jsxs(Cu,{children:[a.jsx(Nu,{asChild:!0,children:a.jsx(z,{variant:"outline",size:"sm",children:a.jsx(En,{className:"h-4 w-4"})})}),a.jsxs(Pu,{children:[a.jsxs(Su,{children:[a.jsx(Ou,{children:"Confirmar Excluso"}),a.jsxs(Tu,{children:['Tem certeza que deseja remover o scio "',A.pessoa.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Eu,{children:[a.jsx(Iu,{children:"Cancelar"}),a.jsxs(Au,{onClick:()=>me(A),disabled:b,children:[b&&a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Remover"]})]})]})]})]})}],[r,n]=m.useState([]),[o,i]=m.useState(""),[s,c]=m.useState(null),[l,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState(!1),[g,v]=m.useState(!1),[y,x]=m.useState(!1),[b,j]=m.useState(!1),[E,S]=m.useState("pessoa"),[T,N]=m.useState(!1),[C,M]=m.useState(!1),[F,P]=m.useState(1),[O,$]=m.useState(1),[K,Y]=m.useState(0),[re]=m.useState(25),ce=m.useRef(null),ue=m.useRef(null);m.useEffect(()=>{(l||u)&&S("pessoa")},[l,u]),m.useEffect(()=>{le(an),N(!1)},[l]),m.useEffect(()=>{s&&(le({pessoa:{nome:s.pessoa.nome,razao:s.pessoa.razao,documento:s.pessoa.documento,tipo:s.pessoa.tipo,inscricao_estadual:s.pessoa.inscricao_estadual,inscricao_municipal:s.pessoa.inscricao_municipal},endereco:s.endereco?{cep:s.endereco.cep,endereco:s.endereco.endereco,numero:s.endereco.numero,complemento:s.endereco.complemento,bairro:s.endereco.bairro,cidade:s.endereco.cidade,uf:s.endereco.uf}:void 0,dadosBancarios:s.dadosBancarios?{banco_id:s.dadosBancarios.banco_id,agencia:s.dadosBancarios.agencia,conta:s.dadosBancarios.conta,conta_tipo:s.dadosBancarios.conta_tipo,chave_pix:s.dadosBancarios.chave_pix,conta_digito:s.dadosBancarios.conta_digito,agencia_digito:s.dadosBancarios.agencia_digito}:void 0,socioInfo:{perc_rateio:s.perc_rateio}}),N(!1))},[s]);const[X,le]=m.useState(an),W=m.useCallback(A=>{i(A),ce.current&&clearTimeout(ce.current),ce.current=window.setTimeout(()=>{_()},500)},[]),_=m.useCallback(async()=>{p(!0);try{const A=await lr.findAll();n(A.data),Y(A.total),$(Math.ceil(A.total/re))}catch(A){console.error("Erro ao carregar scios:",A),D.error("Erro ao carregar scios")}finally{p(!1)}},[re]);m.useEffect(()=>{_()},[_]);const w=m.useMemo(()=>r,[r]),B=async()=>{if(!X.pessoa.nome||!X.pessoa.documento){D.error("Por favor, preencha todos os campos obrigatrios");return}v(!0);try{const A=lr.convertToApiFormat(X),de=await lr.create(A),ze=lr.convertCreateUpdateToFrontendFormat(de);n(tr=>[...tr,ze]),le(an),N(!1),d(!1),D.success("Scio criado com sucesso!")}catch(A){console.error("Erro ao criar scio:",A);const de=A instanceof Error?A.message:"Erro ao criar scio";D.error(de)}finally{v(!1)}},U=A=>{c(A),le({pessoa:{nome:A.pessoa.nome,razao:A.pessoa.razao,documento:A.pessoa.documento,tipo:A.pessoa.tipo,inscricao_estadual:A.pessoa.inscricao_estadual,inscricao_municipal:A.pessoa.inscricao_municipal},endereco:A.endereco?{cep:A.endereco.cep,endereco:A.endereco.endereco,numero:A.endereco.numero,complemento:A.endereco.complemento,bairro:A.endereco.bairro,cidade:A.endereco.cidade,uf:A.endereco.uf}:void 0,dadosBancarios:A.dadosBancarios?{banco_id:A.dadosBancarios.banco_id,agencia:A.dadosBancarios.agencia,conta:A.dadosBancarios.conta,conta_tipo:A.dadosBancarios.conta_tipo,chave_pix:A.dadosBancarios.chave_pix,conta_digito:A.dadosBancarios.conta_digito,agencia_digito:A.dadosBancarios.agencia_digito}:void 0,socioInfo:{perc_rateio:A.perc_rateio}}),S("pessoa"),N(!1),f(!0)},Z=async()=>{if(s){x(!0);try{const A=lr.convertToApiFormat(X),de=await lr.update(s.socio_info_id,A),ze=lr.convertCreateUpdateToFrontendFormat(de);n(tr=>tr.map(Ir=>Ir.socio_info_id===s.socio_info_id?ze:Ir)),c(null),le(an),N(!1),f(!1),D.success("Scio atualizado com sucesso!")}catch(A){console.error("Erro ao atualizar scio:",A);const de=A instanceof Error?A.message:"Erro ao atualizar scio";D.error(de)}finally{x(!1)}}},me=async A=>{j(!0);try{await lr.remove(A.socio_info_id),n(de=>de.filter(ze=>ze.socio_info_id!==A.socio_info_id)),D.success("Scio removido com sucesso!")}catch(de){console.error("Erro ao remover scio:",de);const ze=de instanceof Error?de.message:"Erro ao remover scio";D.error(ze)}finally{j(!1)}},xe=A=>{le(A),N(!0)},H=m.useCallback(A=>{T?M(!0):(A==="create"?(d(!1),le(an)):(f(!1),c(null)),N(!1))},[T]),ee=m.useCallback(()=>{M(!1),N(!1),d(!1),f(!1),c(null),le(an)},[]),ne=m.useCallback(()=>{M(!1)},[]),q=A=>{P(A)},V=(F-1)*re,ie=V+re,je=w.slice(V,ie);return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:e}),a.jsxs(Ue,{open:l,onOpenChange:A=>{if(A){d(!0);return}T?M(!0):(d(!1),le(an),N(!1))},children:[a.jsx(gb,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Kr,{className:"h-4 w-4"}),"Novo Scio"]})}),a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Criar Novo Scio"}),a.jsx(Ye,{children:"Preencha as informaes do scio. Os campos marcados com * so obrigatrios."})]}),a.jsx(Yp,{formData:X,setFormData:xe,isCreating:g,isUpdating:!1,activeTab:E,setActiveTab:S}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>H("create"),children:"Cancelar"}),a.jsxs(z,{onClick:B,disabled:g,children:[g&&a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Scio"]})]})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2 mb-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(R,{ref:ue,placeholder:"Pesquisar scios...",value:o,onChange:A=>W(A.target.value),className:"pl-8"})]})}),a.jsx(Ba,{title:"Lista de Scios",data:je,columns:t,isLoading:h,loadingText:"Carregando scios...",emptyText:"Nenhum scio encontrado",keyExtractor:A=>A.socio_info_id}),O>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",V+1," a ",Math.min(ie,K)," de"," ",K," scios"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>q(F-1),disabled:F===1,children:a.jsx(Pa,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Pgina ",F," de ",O]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>q(F+1),disabled:F===O,children:a.jsx(Sa,{className:"h-4 w-4"})})]})]}),a.jsx(Ue,{open:u,onOpenChange:A=>{A?f(!0):T?M(!0):(f(!1),c(null),N(!1))},children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Editar Scio"}),a.jsx(Ye,{children:"Atualize as informaes do scio. Os campos marcados com * so obrigatrios."})]}),a.jsx(Yp,{formData:X,setFormData:xe,isCreating:!1,isUpdating:y,activeTab:E,setActiveTab:S}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>H("edit"),children:"Cancelar"}),a.jsxs(z,{onClick:Z,disabled:y,children:[y&&a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizar Scio"]})]})]})}),a.jsx(Ue,{open:C,onOpenChange:M,children:a.jsxs(Ve,{children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Mudanas no salvas"}),a.jsx(Ye,{children:"Voc tem mudanas no salvas. Tem certeza que deseja fechar sem salvar?"})]}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:ne,children:"Cancelar"}),a.jsx(z,{variant:"destructive",onClick:ee,children:"Fechar sem salvar"})]})]})})]})}const xa={pessoa:{nome:"",razao:"",documento:"",tipo:"PF",inscricao_estadual:"",inscricao_municipal:""},endereco:{cep:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",contato_comercial_telefone1:"",contato_comercial_telefone2:"",contato_comercial_email:""},responsavel:{nome:"",razao:"",documento:"",tipo:"PF",inscricao_estadual:"",inscricao_municipal:""},enderecoResponsavel:{cep:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""},clienteInfo:{}},Il=[{value:"PF",label:"Pessoa Fsica"},{value:"PJ",label:"Pessoa Jurdica"}];function Jp({isOpen:e,onClose:t,onSubmit:r,formData:n,setFormData:o,isCreating:i}){const[s,c]=m.useState(!1),[l,d]=m.useState(!1),[u,f]=m.useState(!1),h=(C,M)=>{o({...n,pessoa:{...n.pessoa,[C]:M}})},p=(C,M)=>{o({...n,endereco:{...n.endereco,[C]:M}})},g=(C,M)=>{o({...n,responsavel:{nome:"",documento:"",tipo:"PF",...n.responsavel,[C]:M}})},v=(C,M)=>{o({...n,enderecoResponsavel:{...n.enderecoResponsavel,[C]:M}})},y=async()=>{const C=n.endereco?.cep||"";if(!C||C.length<8){D.error("CEP deve ter pelo menos 8 dgitos");return}try{const M=C.replace(/\D/g,""),P=await(await fetch(`https://viacep.com.br/ws/${M}/json/`)).json();if(P.erro){D.error("CEP no encontrado");return}o({...n,endereco:{...n.endereco,cep:P.cep,endereco:P.logradouro,bairro:P.bairro,cidade:P.localidade,uf:P.uf,cidade_codigo:P.ibge,uf_codigo:P.ibge?P.ibge.substring(0,2):void 0}}),D.success("CEP encontrado com sucesso!"),setTimeout(()=>{const O=document.querySelector('input[name="numero"]');O&&O.focus()},100)}catch(M){console.error("Erro ao buscar CEP:",M),D.error("Erro ao buscar CEP")}},x=C=>{o({...n,pessoa:{nome:C.nome,razao:C.razao||null,documento:C.documento,tipo:C.tipo,inscricao_estadual:C.inscricaoEstadual||null,inscricao_municipal:C.inscricaoMunicipal||null},endereco:C.enderecos&&C.enderecos.length>0?{cep:C.enderecos[0].cep,endereco:C.enderecos[0].logradouro||null,numero:C.enderecos[0].numero||null,complemento:C.enderecos[0].complemento||null,bairro:C.enderecos[0].bairro||null,cidade:C.enderecos[0].cidade||null,uf:C.enderecos[0].uf||null,cidade_codigo:C.enderecos[0].cidadeCodigo||null,uf_codigo:C.enderecos[0].ufCodigo||null}:void 0}),D.success("Dados da pessoa carregados com sucesso!")},b=C=>{o({...n,responsavel:{nome:C.nome,razao:C.razao||null,documento:C.documento,tipo:C.tipo,inscricao_estadual:C.inscricaoEstadual||null,inscricao_municipal:C.inscricaoMunicipal||null},enderecoResponsavel:C.enderecos&&C.enderecos.length>0?{cep:C.enderecos[0].cep,endereco:C.enderecos[0].logradouro||null,numero:C.enderecos[0].numero||null,complemento:C.enderecos[0].complemento||null,bairro:C.enderecos[0].bairro||null,cidade:C.enderecos[0].cidade||null,uf:C.enderecos[0].uf||null,cidade_codigo:C.enderecos[0].cidadeCodigo||null,uf_codigo:C.enderecos[0].ufCodigo||null}:void 0,clienteInfo:{...n.clienteInfo,pessoaResponsavelId:C.pessoaId}}),D.success("Dados do responsvel carregados com sucesso!")},j=()=>{o({...n,responsavel:void 0,enderecoResponsavel:void 0,clienteInfo:{...n.clienteInfo,pessoaResponsavelId:void 0}}),D.success("Responsvel removido com sucesso!")},E=async()=>{const C=n.enderecoResponsavel?.cep||"";if(!C||C.length<8){D.error("CEP deve ter pelo menos 8 dgitos");return}try{const M=C.replace(/\D/g,""),P=await(await fetch(`https://viacep.com.br/ws/${M}/json/`)).json();if(P.erro){D.error("CEP no encontrado");return}o({...n,enderecoResponsavel:{...n.enderecoResponsavel,cep:P.cep,endereco:P.logradouro,bairro:P.bairro,cidade:P.localidade,uf:P.uf,cidade_codigo:P.ibge,uf_codigo:P.ibge?P.ibge.substring(0,2):void 0}}),D.success("CEP encontrado com sucesso!"),setTimeout(()=>{const O=document.querySelector('input[name="numero_responsavel"]');O&&O.focus()},100)}catch(M){console.error("Erro ao buscar CEP:",M),D.error("Erro ao buscar CEP")}},S=async C=>{C.preventDefault(),c(!0);try{await r(n),D.success(i?"Cliente criado com sucesso!":"Cliente atualizado com sucesso!"),t()}catch(M){console.error("Erro ao salvar cliente:",M),D.error("Erro ao salvar cliente")}finally{c(!1)}},T=C=>C==="PF"?Vr:Nr,N=C=>C==="PF"?"000.000.000-00":"00.000.000/0000-00";return a.jsxs(a.Fragment,{children:[a.jsx(Ue,{open:e,onOpenChange:t,children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:i?"Novo Cliente":"Editar Cliente"}),a.jsx(Ye,{children:i?"Preencha os dados para cadastrar um novo cliente":"Edite os dados do cliente selecionado"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs(tn,{defaultValue:"pessoa",className:"w-full",children:[a.jsxs(rn,{className:"grid w-full grid-cols-4",children:[a.jsx(pe,{value:"pessoa",children:"Pessoa"}),a.jsx(pe,{value:"endereco",children:"Endereo"}),a.jsx(pe,{value:"responsavel",children:"Responsvel"}),a.jsx(pe,{value:"endereco_responsavel",children:"Endereo Responsvel"})]}),a.jsxs(ve,{value:"pessoa",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados da Pessoa"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!0),className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Buscar Pessoa"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"tipo",children:"Tipo *"}),a.jsxs(Me,{value:n.pessoa.tipo,onValueChange:C=>h("tipo",C),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo"})}),a.jsx(Fe,{children:Il?.map(C=>a.jsx(se,{value:C.value,children:C.label},C.value))})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome *"}),a.jsx(R,{id:"nome",value:n.pessoa.nome,onChange:C=>h("nome",C.target.value),placeholder:"Nome completo",required:!0})]}),n.pessoa.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"razao",children:"Razo Social"}),a.jsx(R,{id:"razao",value:n.pessoa.razao||"",onChange:C=>h("razao",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento *"}),a.jsx(mr,{id:"documento",value:n.pessoa.documento,onChange:C=>{const M=T(n.pessoa.tipo)(C.target.value);h("documento",M)},placeholder:N(n.pessoa.tipo),required:!0})]}),n.pessoa.tipo==="PJ"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"inscricao_estadual",children:"Inscrio Estadual"}),a.jsx(R,{id:"inscricao_estadual",value:n.pessoa.inscricao_estadual||"",onChange:C=>h("inscricao_estadual",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"inscricao_municipal",children:"Inscrio Municipal"}),a.jsx(R,{id:"inscricao_municipal",value:n.pessoa.inscricao_municipal||"",onChange:C=>h("inscricao_municipal",C.target.value)})]})]})]})]}),a.jsxs(ve,{value:"endereco",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-[20%_60%_15%] gap-4",children:[a.jsxs("div",{className:"space-y-2  border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"cep",children:"CEP"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mr,{id:"cep",value:n.endereco?.cep||"",onChange:C=>{const M=Lr(C.target.value);p("cep",M)},placeholder:"00000-000",className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:y,disabled:!n.endereco?.cep||(n.endereco?.cep?.replace(/\D/g,"").length||0)!==8,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Pesquisar CEP"})})]})})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"endereco",children:"Logradouro"}),a.jsx(R,{id:"endereco",value:n.endereco?.endereco||"",onChange:C=>p("endereco",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"numero",children:"Nmero"}),a.jsx(R,{id:"numero",name:"numero",value:n.endereco?.numero||"",onChange:C=>p("numero",C.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-[40%_57%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"complemento",children:"Complemento"}),a.jsx(R,{id:"complemento",value:n.endereco?.complemento||"",onChange:C=>p("complemento",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"bairro",children:"Bairro"}),a.jsx(R,{id:"bairro",value:n.endereco?.bairro||"",onChange:C=>p("bairro",C.target.value),placeholder:"Nome do bairro"})]})]}),a.jsxs("div",{className:"grid grid-cols-[70%_10%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"cidade",children:"Cidade"}),a.jsx(R,{id:"cidade",value:n.endereco?.cidade||"",onChange:C=>p("cidade",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"uf",children:"UF"}),a.jsx(R,{id:"uf",value:n.endereco?.uf||"",onChange:C=>p("uf",C.target.value),maxLength:2})]})]}),a.jsxs("div",{className:"grid grid-cols-[20%_20%_55%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"telefone",children:"Telefone"}),a.jsx(R,{id:"telefone",value:n.endereco?.contato_comercial_telefone1||"",onChange:C=>p("contato_comercial_telefone1",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"celular",children:"Celular"}),a.jsx(R,{id:"celular",value:n.endereco?.contato_comercial_telefone2||"",onChange:C=>p("contato_comercial_telefone2",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"email",children:"E-mail"}),a.jsx(R,{id:"email",type:"email",value:n.endereco?.contato_comercial_email||"",onChange:C=>p("contato_comercial_email",C.target.value)})]})]})]}),a.jsxs(ve,{value:"responsavel",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados do Responsvel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Buscar Responsvel"]}),n.responsavel&&a.jsxs(z,{type:"button",variant:"destructive",size:"sm",onClick:j,className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Remover"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_tipo",children:"Tipo"}),a.jsxs(Me,{value:n.responsavel?.tipo||"PF",onValueChange:C=>g("tipo",C),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo"})}),a.jsx(Fe,{children:Il?.map(C=>a.jsx(se,{value:C.value,children:C.label},C.value))})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_nome",children:"Nome"}),a.jsx(R,{id:"responsavel_nome",value:n.responsavel?.nome||"",onChange:C=>g("nome",C.target.value)})]}),n.responsavel?.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_razao",children:"Razo Social"}),a.jsx(R,{id:"responsavel_razao",value:n.responsavel?.razao||"",onChange:C=>g("razao",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_documento",children:"Documento"}),a.jsx(mr,{id:"responsavel_documento",value:n.responsavel?.documento||"",onChange:C=>{const M=T(n.responsavel?.tipo||"PF")(C.target.value);g("documento",M)},placeholder:N(n.responsavel?.tipo||"PF")})]}),n.responsavel?.tipo==="PJ"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_inscricao_estadual",children:"Inscrio Estadual"}),a.jsx(R,{id:"responsavel_inscricao_estadual",value:n.responsavel?.inscricao_estadual||"",onChange:C=>g("inscricao_estadual",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_inscricao_municipal",children:"Inscrio Municipal"}),a.jsx(R,{id:"responsavel_inscricao_municipal",value:n.responsavel?.inscricao_municipal||"",onChange:C=>g("inscricao_municipal",C.target.value)})]})]})]})]}),a.jsxs(ve,{value:"endereco_responsavel",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-[20%_60%_15%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"cep_responsavel",children:"CEP"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mr,{id:"cep_responsavel",value:n.enderecoResponsavel?.cep||"",onChange:C=>{const M=Lr(C.target.value);v("cep",M)},placeholder:"00000-000",className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:E,disabled:!n.enderecoResponsavel?.cep||(n.enderecoResponsavel?.cep?.replace(/\D/g,"").length||0)!==8,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Pesquisar CEP"})})]})})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"endereco_responsavel",children:"Logradouro"}),a.jsx(R,{id:"endereco_responsavel",value:n.enderecoResponsavel?.endereco||"",onChange:C=>v("endereco",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"numero_responsavel",children:"Nmero"}),a.jsx(R,{id:"numero_responsavel",name:"numero_responsavel",value:n.enderecoResponsavel?.numero||"",onChange:C=>v("numero",C.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-[40%_57%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"complemento_responsavel",children:"Complemento"}),a.jsx(R,{id:"complemento_responsavel",value:n.enderecoResponsavel?.complemento||"",onChange:C=>v("complemento",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"bairro_responsavel",children:"Bairro"}),a.jsx(R,{id:"bairro_responsavel",value:n.enderecoResponsavel?.bairro||"",onChange:C=>v("bairro",C.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-[70%_10%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"cidade_responsavel",children:"Cidade"}),a.jsx(R,{id:"cidade_responsavel",value:n.enderecoResponsavel?.cidade||"",onChange:C=>v("cidade",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"uf_responsavel",children:"UF"}),a.jsx(R,{id:"uf_responsavel",value:n.enderecoResponsavel?.uf||"",onChange:C=>v("uf",C.target.value),maxLength:2})]})]}),a.jsxs("div",{className:"grid grid-cols-[20%_20%_55%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"telefone",children:"Telefone"}),a.jsx(R,{id:"telefone",value:n.enderecoResponsavel?.contato_comercial_telefone1||"",onChange:C=>p("contato_comercial_telefone1",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"celular",children:"Celular"}),a.jsx(R,{id:"celular",value:n.enderecoResponsavel?.contato_comercial_telefone2||"",onChange:C=>p("contato_comercial_telefone2",C.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"email",children:"E-mail"}),a.jsx(R,{id:"email",type:"email",value:n.enderecoResponsavel?.contato_comercial_email||"",onChange:C=>p("contato_comercial_email",C.target.value)})]})]})]})]}),a.jsxs(gt,{children:[a.jsx(z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:s,children:s?"Salvando...":i?"Criar Cliente":"Atualizar Cliente"})]})]})]})}),a.jsx(Zn,{isOpen:l,onClose:()=>d(!1),onSelectPerson:x,title:"Buscar Pessoa para Cliente"}),a.jsx(Zn,{isOpen:u,onClose:()=>f(!1),onSelectPerson:b,title:"Buscar Responsvel"})]})}class wa{static async findAll(){try{return(await J("/cliente",{method:"GET"})).data||[]}catch(t){throw console.error("Erro ao buscar clientes:",t),t}}static async findOne(t){try{return await J(`/cliente/${t}`,{method:"GET"})}catch(r){throw console.error(`Erro ao buscar cliente ${t}:`,r),r}}static async create(t){try{return(await J("/cliente",{method:"POST",body:JSON.stringify(this.convertToApiFormat(t))})).cliente}catch(r){throw console.error("Erro ao criar cliente:",r),r}}static async update(t,r){try{const n=this.convertToApiFormat(r);return(await J(`/cliente/${t}`,{method:"PATCH",body:JSON.stringify(n)})).cliente}catch(n){throw console.error(`Erro ao atualizar cliente ${t}:`,n),n}}static async remove(t){try{await J(`/cliente/${t}`,{method:"DELETE"})}catch(r){throw console.error(`Erro ao remover cliente ${t}:`,r),r}}static convertToApiFormat(t){return{pessoa:{nome:t.pessoa.nome,razao:t.pessoa.razao||void 0,documento:t.pessoa.documento,tipo:t.pessoa.tipo,inscricao_estadual:t.pessoa.inscricao_estadual||void 0,inscricao_municipal:t.pessoa.inscricao_municipal||void 0},endereco:t.endereco&&(t.endereco.cep||t.endereco.endereco||t.endereco.numero||t.endereco.bairro||t.endereco.cidade||t.endereco.uf)?{cep:t.endereco.cep||void 0,logradouro:t.endereco.endereco||void 0,numero:t.endereco.numero||void 0,complemento:t.endereco.complemento||void 0,bairro:t.endereco.bairro||void 0,cidade:t.endereco.cidade||void 0,cidadeCodigo:t.endereco.cidade_codigo?parseInt(t.endereco.cidade_codigo):void 0,uf:t.endereco.uf||void 0,ufCodigo:t.endereco.uf_codigo?parseInt(t.endereco.uf_codigo):void 0}:void 0,responsavel:t.responsavel?.documento?{nome:t.responsavel.nome,razao:t.responsavel.razao||void 0,documento:t.responsavel.documento,tipo:t.responsavel.tipo,inscricao_estadual:t.responsavel.inscricao_estadual||void 0,inscricao_municipal:t.responsavel.inscricao_municipal||void 0,endereco:t.enderecoResponsavel?{cep:t.enderecoResponsavel.cep||void 0,logradouro:t.enderecoResponsavel.endereco||void 0,numero:t.enderecoResponsavel.numero||void 0,complemento:t.enderecoResponsavel.complemento||void 0,bairro:t.enderecoResponsavel.bairro||void 0,cidade:t.enderecoResponsavel.cidade||void 0,cidadeCodigo:t.enderecoResponsavel.cidade_codigo?parseInt(t.enderecoResponsavel.cidade_codigo):void 0,uf:t.enderecoResponsavel.uf||void 0,ufCodigo:t.enderecoResponsavel.uf_codigo?parseInt(t.enderecoResponsavel.uf_codigo):void 0}:void 0}:void 0,clienteInfo:{clienteInfoId:t.clienteInfo?.clienteInfoId?Number(t.clienteInfo.clienteInfoId):void 0,pessoaId:t.clienteInfo?.pessoaId?Number(t.clienteInfo.pessoaId):void 0,pessoaResponsavelId:t.clienteInfo?.pessoaResponsavelId?Number(t.clienteInfo.pessoaResponsavelId):null}}}}function bF({title:e="Gesto de Clientes"}){const[t,r]=m.useState([]),[n,o]=m.useState(!1),[i,s]=m.useState(""),[c,l]=m.useState(!1),[d,u]=m.useState(!1),[f,h]=m.useState(null),[p,g]=m.useState(xa);m.useEffect(()=>{v()},[]);const v=async()=>{o(!0);try{const N=await wa.findAll();r(N)}catch(N){console.error("Erro ao carregar clientes:",N),D.error("Erro ao carregar clientes")}finally{o(!1)}},y=async N=>{try{await wa.create(N),await v(),g(xa)}catch(C){throw console.error("Erro ao criar cliente:",C),C}},x=async N=>{if(f)try{await wa.update(f.cliente_info_id,N),await v(),h(null),g(xa)}catch(C){throw console.error("Erro ao atualizar cliente:",C),C}},b=async N=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{await wa.remove(N),await v(),D.success("Cliente removido com sucesso!")}catch(C){console.error("Erro ao remover cliente:",C),D.error("Erro ao remover cliente")}},j=N=>{h(N),g({pessoa:{nome:N.pessoa.nome,razao:N.pessoa.razao,documento:N.pessoa.documento,tipo:N.pessoa.tipo,inscricao_estadual:N.pessoa.inscricao_estadual,inscricao_municipal:N.pessoa.inscricao_municipal},endereco:N.endereco?{cep:N.endereco.cep,endereco:N.endereco.endereco,numero:N.endereco.numero,complemento:N.endereco.complemento,bairro:N.endereco.bairro,cidade:N.endereco.cidade,uf:N.endereco.uf}:void 0,responsavel:N.responsavel?{nome:N.responsavel.nome,razao:N.responsavel.razao,documento:N.responsavel.documento,tipo:N.responsavel.tipo,inscricao_estadual:N.responsavel.inscricao_estadual,inscricao_municipal:N.responsavel.inscricao_municipal}:void 0,enderecoResponsavel:N.responsavel?.endereco?{cep:N.responsavel.endereco.cep,endereco:N.responsavel.endereco.endereco,numero:N.responsavel.endereco.numero,complemento:N.responsavel.endereco.complemento,bairro:N.responsavel.endereco.bairro,cidade:N.responsavel.endereco.cidade,uf:N.responsavel.endereco.uf}:void 0,clienteInfo:{clienteInfoId:N.cliente_info_id,pessoaId:N.pessoa.pessoa_id,pessoaResponsavelId:N.responsavel?.pessoa_id||void 0}}),u(!0)},E=()=>{l(!1),g(xa)},S=()=>{u(!1),h(null),g(xa)},T=t.filter(N=>N.pessoa.nome.toLowerCase().includes(i.toLowerCase())||N.pessoa.documento.includes(i));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:e}),a.jsxs(z,{variant:"outline",onClick:()=>l(!0),children:[a.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(R,{placeholder:"Buscar por nome ou documento...",value:i,onChange:N=>s(N.target.value),className:"pl-8"})]})}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsxs(ye,{children:["Lista de Clientes (",T.length,")"]})}),a.jsx(he,{children:a.jsxs(Li,{children:[a.jsx(zi,{children:a.jsxs(Tt,{children:[a.jsx(Ze,{children:"Nome"}),a.jsx(Ze,{children:"Documento"}),a.jsx(Ze,{children:"Tipo"}),a.jsx(Ze,{children:"Responsvel"}),a.jsx(Ze,{className:"text-right",children:"Aes"})]})}),a.jsx(qi,{children:n?a.jsx(Tt,{children:a.jsx(ke,{colSpan:5,className:"text-center",children:"Carregando..."})}):T.length===0?a.jsx(Tt,{children:a.jsx(ke,{colSpan:5,className:"text-center",children:"Nenhum cliente encontrado"})}):T.map(N=>a.jsxs(Tt,{children:[a.jsx(ke,{className:"font-medium",children:N.pessoa.nome}),a.jsx(ke,{children:N.pessoa.documento}),a.jsx(ke,{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.pessoa.tipo==="PF"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:N.pessoa.tipo})}),a.jsx(ke,{children:N.responsavel?N.responsavel.nome:"-"}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>j(N),children:a.jsx(qr,{className:"w-4 h-4"})}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>b(N.cliente_info_id),children:a.jsx(En,{className:"w-4 h-4"})})]})})]},N.cliente_info_id))})]})})]}),a.jsx(Jp,{isOpen:c,onClose:E,onSubmit:y,formData:p,setFormData:g,isCreating:!0,isUpdating:!1}),a.jsx(Jp,{isOpen:d,onClose:S,onSubmit:x,formData:p,setFormData:g,isCreating:!1,isUpdating:!0})]})}class jF{async findAll(){return J("/parceiro")}async findOne(t){return J(`/parceiro/${t}`)}async create(t){return J("/parceiro",{method:"POST",body:JSON.stringify(t)})}async update(t,r){return J(`/parceiro/${t}`,{method:"PATCH",body:JSON.stringify(r)})}async remove(t){return J(`/parceiro/${t}`,{method:"DELETE"})}async getBancos(){return J("/banco")}async getAtividadesParceiro(){return J("/atividade-parceiro")}convertToApiFormat(t){return{pessoa:{pessoaId:t.pessoa.pessoaId||void 0,nome:t.pessoa.nome,razao:t.pessoa.razao||void 0,documento:t.pessoa.documento,tipo:t.pessoa.tipo,inscricaoEstadual:t.pessoa.inscricaoEstadual||void 0,inscricaoMunicipal:t.pessoa.inscricaoMunicipal||void 0},endereco:t.endereco&&(t.endereco.cep||t.endereco.endereco||t.endereco.numero||t.endereco.bairro||t.endereco.cidade||t.endereco.uf)?{cep:t.endereco.cep||void 0,logradouro:t.endereco.endereco||void 0,numero:t.endereco.numero||void 0,complemento:t.endereco.complemento||void 0,bairro:t.endereco.bairro||void 0,cidade:t.endereco.cidade||void 0,cidadeCodigo:t.endereco.cidadeCodigo?parseInt(t.endereco.cidadeCodigo):void 0,uf:t.endereco.uf||void 0,ufCodigo:t.endereco.ufCodigo?parseInt(t.endereco.ufCodigo):void 0}:void 0,dadosBancarios:t.dadosBancarios&&(t.dadosBancarios.bancoId||t.dadosBancarios.agencia||t.dadosBancarios.conta||t.dadosBancarios.contaTipo||t.dadosBancarios.chavePix||t.dadosBancarios.contaDigito||t.dadosBancarios.agenciaDigito)?{dadosBancariosId:t.dadosBancarios.dadosBancariosId||void 0,bancoId:t.dadosBancarios.bancoId?Number(t.dadosBancarios.bancoId):void 0,agencia:t.dadosBancarios.agencia||void 0,conta:t.dadosBancarios.conta||void 0,contaTipo:t.dadosBancarios.contaTipo||void 0,chavePix:t.dadosBancarios.chavePix||void 0,contaDigito:t.dadosBancarios.contaDigito||void 0,agenciaDigito:t.dadosBancarios.agenciaDigito||void 0}:void 0,responsavel:t.responsavel&&(t.responsavel.nome&&t.responsavel.nome.trim().length>0||t.responsavel.documento&&t.responsavel.documento.trim().length>0)?{pessoaId:void 0,nome:t.responsavel.nome||void 0,razao:t.responsavel.razao||void 0,documento:t.responsavel.documento||void 0,tipo:t.responsavel.tipo||void 0,inscricaoEstadual:t.responsavel.inscricaoEstadual||void 0,inscricaoMunicipal:t.responsavel.inscricaoMunicipal||void 0}:void 0,enderecoResponsavel:t.enderecoResponsavel&&(t.enderecoResponsavel.cep||t.enderecoResponsavel.endereco||t.enderecoResponsavel.numero||t.enderecoResponsavel.bairro||t.enderecoResponsavel.cidade||t.enderecoResponsavel.uf)?{cep:t.enderecoResponsavel.cep||void 0,logradouro:t.enderecoResponsavel.endereco||void 0,numero:t.enderecoResponsavel.numero||void 0,complemento:t.enderecoResponsavel.complemento||void 0,bairro:t.enderecoResponsavel.bairro||void 0,cidade:t.enderecoResponsavel.cidade||void 0,cidadeCodigo:t.enderecoResponsavel.cidadeCodigo?parseInt(t.enderecoResponsavel.cidadeCodigo):void 0,uf:t.enderecoResponsavel.uf||void 0,ufCodigo:t.enderecoResponsavel.ufCodigo?parseInt(t.enderecoResponsavel.ufCodigo):void 0,contatoComercialTelefone1:t.enderecoResponsavel.contatoComercialTelefone1||void 0,contatoComercialTelefone2:t.enderecoResponsavel.contatoComercialTelefone2||void 0,contatoComercialEmail:t.enderecoResponsavel.contatoComercialEmail||void 0}:void 0,parceiroInfo:t.parceiroInfo?{pessoaResponsavelId:t.parceiroInfo.pessoaResponsavelId?Number(t.parceiroInfo.pessoaResponsavelId):void 0,atividadeParceiroId:t.parceiroInfo.atividadeParceiroId?Number(t.parceiroInfo.atividadeParceiroId):void 0,percIndicacao:Number(t.parceiroInfo.percIndicacao)||0,percMensalidade:Number(t.parceiroInfo.percMensalidade)||0}:void 0}}convertCreateUpdateToFrontendFormat(t){return t.parceiro}}const rr=new jF,Xp=[{value:"PF",label:"Pessoa Fsica"},{value:"PJ",label:"Pessoa Jurdica"}],wF=[{value:1,label:"Conta Corrente"},{value:2,label:"Conta Poupana"}];function Zp({formData:e,setFormData:t,isCreating:r,isUpdating:n,activeTab:o,setActiveTab:i}){const[s,c]=m.useState([]),[l,d]=m.useState([]),[u,f]=m.useState(null),[h,p]=m.useState(""),[g,v]=m.useState(!1),[y,x]=m.useState(!1),[b,j]=m.useState(!1),[E,S]=m.useState(!1);m.useEffect(()=>{T(),N()},[]),m.useEffect(()=>{if(e.dadosBancarios?.bancoId&&s.length>0){const w=s.find(B=>B.bancoId===e.dadosBancarios?.bancoId);w&&(f(w),p(w.bancoId.toString()))}else e.dadosBancarios?.bancoId||(f(null),p(""))},[e.dadosBancarios?.bancoId,s]);const T=async()=>{v(!0);try{const w=await Wi.findAll();c(Array.isArray(w.data)?w.data:[])}catch(w){console.error("Erro ao carregar bancos:",w),c([])}finally{v(!1)}},N=async()=>{x(!0);try{const w=await rr.getAtividadesParceiro();d(Array.isArray(w)?w:[])}catch(w){console.error("Erro ao carregar atividades de parceiro:",w),d([])}finally{x(!1)}},C=async w=>{if(!Mu(w)){f(null),t({...e,dadosBancarios:{...e.dadosBancarios,bancoId:void 0}});return}const B=Number(w),U=s.find(Z=>Z.bancoId===B);U?(f(U),t({...e,dadosBancarios:{...e.dadosBancarios,bancoId:U.bancoId}})):(f(null),t({...e,dadosBancarios:{...e.dadosBancarios,bancoId:void 0}}))},M=w=>{const B=s.find(U=>U.bancoId===Number(w));B&&(f(B),p(B.bancoId.toString()),t({...e,dadosBancarios:{...e.dadosBancarios,bancoId:B.bancoId}}))},F=async()=>{const w=e.endereco?.cep||"";if(!w||w.length<8){D.error("CEP deve ter pelo menos 8 dgitos");return}try{const B=w.replace(/\D/g,""),Z=await(await fetch(`https://viacep.com.br/ws/${B}/json/`)).json();if(Z.erro){D.error("CEP no encontrado");return}t({...e,endereco:{...e.endereco,cep:Z.cep,endereco:Z.logradouro,bairro:Z.bairro,cidade:Z.localidade,uf:Z.uf,cidadeCodigo:Z.ibge,ufCodigo:Z.ibge?Z.ibge.substring(0,2):void 0}}),setTimeout(()=>{const me=document.querySelector('input[name="numero"]');me&&me.focus()},100),D.success("CEP encontrado com sucesso!")}catch(B){console.error("Erro ao buscar CEP:",B),D.error("Erro ao buscar CEP")}},P=(w,B)=>{t({...e,pessoa:{...e.pessoa,[w]:B}})},O=(w,B)=>{t({...e,endereco:{...e.endereco,[w]:B}})},$=(w,B)=>{t({...e,dadosBancarios:{...e.dadosBancarios,[w]:B}})},K=(w,B)=>{t({...e,responsavel:{nome:"",documento:"",tipo:"PF",...e.responsavel,[w]:B}})},Y=(w,B)=>{t({...e,enderecoResponsavel:{...e.enderecoResponsavel,[w]:B}})},re=(w,B)=>{t({...e,parceiroInfo:{...e.parceiroInfo,[w]:B}})},ce=w=>{const B=e.pessoa.tipo==="PF"?Vr(w):Nr(w);P("documento",B)},ue=w=>{const B=Lr(w);O("cep",B)},X=w=>{const B=e.dadosBancarios;if(t({...e,pessoa:{pessoaId:w.pessoaId,nome:w.nome,razao:w.razao||null,documento:w.documento,tipo:w.tipo,inscricaoEstadual:w.inscricaoEstadual||null,inscricaoMunicipal:w.inscricaoMunicipal||null},endereco:w.enderecos&&w.enderecos.length>0?{cep:w.enderecos[0].cep,endereco:w.enderecos[0].logradouro||null,numero:w.enderecos[0].numero||null,complemento:w.enderecos[0].complemento||null,bairro:w.enderecos[0].bairro||null,cidade:w.enderecos[0].cidade||null,uf:w.enderecos[0].uf||null,cidadeCodigo:w.enderecos[0].cidadeCodigo||null,ufCodigo:w.enderecos[0].ufCodigo||null}:void 0,dadosBancarios:w.dadosBancarios&&w.dadosBancarios.length>0?{dadosBancariosId:w.dadosBancarios[0].dadosBancariosId,bancoId:w.dadosBancarios[0].bancoId,agencia:w.dadosBancarios[0].agencia,conta:w.dadosBancarios[0].conta,contaTipo:w.dadosBancarios[0].contaTipo,chavePix:w.dadosBancarios[0].chavePix||null,contaDigito:w.dadosBancarios[0].contaDigito||null,agenciaDigito:w.dadosBancarios[0].agenciaDigito||null}:B}),w.dadosBancarios&&w.dadosBancarios.length>0){const U=s.find(Z=>Z.bancoId===w.dadosBancarios[0].bancoId);U&&(f(U),p(U.bancoId.toString()))}D.success("Dados da pessoa carregados com sucesso!")},le=w=>{t({...e,responsavel:{nome:w.nome,razao:w.razao||null,documento:w.documento,tipo:w.tipo,inscricaoEstadual:w.inscricaoEstadual||null,inscricaoMunicipal:w.inscricaoMunicipal||null},enderecoResponsavel:w.enderecos&&w.enderecos.length>0?{cep:w.enderecos[0].cep,endereco:w.enderecos[0].logradouro||null,numero:w.enderecos[0].numero||null,complemento:w.enderecos[0].complemento||null,bairro:w.enderecos[0].bairro||null,cidade:w.enderecos[0].cidade||null,uf:w.enderecos[0].uf||null,cidadeCodigo:w.enderecos[0].cidadeCodigo||null,ufCodigo:w.enderecos[0].ufCodigo||null}:void 0,parceiroInfo:{...e.parceiroInfo,pessoaResponsavelId:w.pessoaId}}),D.success("Dados do responsvel carregados com sucesso!")},W=()=>{t({...e,responsavel:void 0,parceiroInfo:{...e.parceiroInfo,pessoaResponsavelId:void 0}}),D.success("Responsvel removido com sucesso!")},_=async()=>{const w=e.enderecoResponsavel?.cep||"";if(!w||w.length<8){D.error("CEP deve ter pelo menos 8 dgitos");return}try{const B=w.replace(/\D/g,""),Z=await(await fetch(`https://viacep.com.br/ws/${B}/json/`)).json();if(Z.erro){D.error("CEP no encontrado");return}t({...e,enderecoResponsavel:{...e.enderecoResponsavel,cep:Z.cep,endereco:Z.logradouro,bairro:Z.bairro,cidade:Z.localidade,uf:Z.uf,cidadeCodigo:Z.ibge,ufCodigo:Z.ibge?Z.ibge.substring(0,2):void 0}}),setTimeout(()=>{const me=document.querySelector('input[name="numero_responsavel"]');me&&me.focus()},100),D.success("CEP encontrado com sucesso!")}catch(B){console.error("Erro ao buscar CEP:",B),D.error("Erro ao buscar CEP")}};return a.jsxs(a.Fragment,{children:[a.jsxs(tn,{value:o,onValueChange:i,className:"w-full",children:[a.jsxs(rn,{className:"grid w-full grid-cols-6",children:[a.jsxs(pe,{value:"pessoa",className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Pessoa"]}),a.jsxs(pe,{value:"endereco",className:"flex items-center gap-2",children:[a.jsx(Po,{className:"h-4 w-4"}),"Endereo"]}),a.jsxs(pe,{value:"dados-bancarios",className:"flex items-center gap-2",children:[a.jsx(si,{className:"h-4 w-4"}),"Dados Bancrios"]}),a.jsxs(pe,{value:"responsavel",className:"flex items-center gap-2",children:[a.jsx(vw,{className:"h-4 w-4"}),"Responsvel"]}),a.jsxs(pe,{value:"endereco-responsavel",className:"flex items-center gap-2",children:[a.jsx(Po,{className:"h-4 w-4"}),"End. Responsvel"]}),a.jsxs(pe,{value:"parceiro-info",className:"flex items-center gap-2",children:[a.jsx(dv,{className:"h-4 w-4"}),"Participao"]})]}),a.jsx(ve,{value:"pessoa",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados da Pessoa"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>j(!0),className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Buscar Pessoa"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"tipo",children:"Tipo *"}),a.jsxs(Me,{value:e.pessoa.tipo,onValueChange:w=>P("tipo",w),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo"})}),a.jsx(Fe,{children:Xp?.map(w=>a.jsx(se,{value:w.value||"default",children:w.label},w.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento *"}),a.jsx(R,{id:"documento",placeholder:e.pessoa.tipo==="PF"?"000.000.000-00":"00.000.000/0000-00",value:e.pessoa.documento,onChange:w=>ce(w.target.value),maxLength:e.pessoa.tipo==="PF"?14:18})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome *"}),a.jsx(R,{id:"nome",placeholder:"Nome completo",value:e.pessoa.nome,onChange:w=>P("nome",w.target.value)})]}),e.pessoa.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"razao",children:"Razo Social"}),a.jsx(R,{id:"razao",placeholder:"Razo social",value:e.pessoa.razao||"",onChange:w=>P("razao",w.target.value)})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:e.pessoa.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"inscricao_estadual",children:"Inscrio Estadual"}),a.jsx(R,{id:"inscricao_estadual",placeholder:"Inscrio estadual",value:e.pessoa.inscricaoEstadual||"",onChange:w=>P("inscricaoEstadual",w.target.value)})]})}),e.pessoa.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"inscricao_municipal",children:"Inscrio Municipal"}),a.jsx(R,{id:"inscricao_municipal",placeholder:"Inscrio municipal",value:e.pessoa.inscricaoMunicipal||"",onChange:w=>P("inscricaoMunicipal",w.target.value)})]})]})}),a.jsx(ve,{value:"endereco",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Endereo"}),a.jsx("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:a.jsxs("div",{className:"flex gap-2 max-w-[20%]",children:[a.jsx(mr,{id:"cep",name:"cep",label:"CEP",value:e.endereco?.cep||"",onChange:w=>{const B=Lr(w.target.value);ue(B)},placeholder:"00000-000",isRequired:!0,validationMessage:"CEP  obrigatrio",customValidation:w=>w.replace(/\D/g,"").length===8,className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:F,disabled:!e.endereco?.cep||e.endereco.cep.replace(/\D/g,"").length!==8,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Pesquisar CEP"})})]})})]})}),a.jsxs("div",{className:"grid grid-cols-[80%_15%] gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"endereco",children:"Logradouro"}),a.jsx(R,{id:"endereco",placeholder:"Rua, Avenida, etc.",value:e.endereco?.endereco||"",onChange:w=>O("endereco",w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"numero",children:"Nmero"}),a.jsx(R,{id:"numero",name:"numero",placeholder:"123",value:e.endereco?.numero||"",onChange:w=>O("numero",w.target.value)})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"complemento",children:"Complemento"}),a.jsx(R,{id:"complemento",placeholder:"Apartamento, sala, etc.",value:e.endereco?.complemento||"",onChange:w=>O("complemento",w.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"bairro",children:"Bairro"}),a.jsx(R,{id:"bairro",placeholder:"Bairro",value:e.endereco?.bairro||"",onChange:w=>O("bairro",w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"cidade",children:"Cidade"}),a.jsx(R,{id:"cidade",placeholder:"Cidade",value:e.endereco?.cidade||"",onChange:w=>O("cidade",w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"uf",children:"UF"}),a.jsx(R,{id:"uf",placeholder:"SP",value:e.endereco?.uf||"",onChange:w=>O("uf",w.target.value),maxLength:2})]})]})]})}),a.jsx(ve,{value:"dados-bancarios",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados Bancrios"}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"banco_id",children:"Banco"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex gap-2 flex-1 max-w-[20%]",children:[a.jsx(R,{id:"banco_id",name:"banco_id",placeholder:"000",value:h,onChange:w=>p(w.target.value),onBlur:()=>C(h),disabled:r||n,className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>C(h),disabled:r||n||!h,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Buscar banco por N"})})]})})]}),a.jsx("div",{className:"flex-1",children:a.jsxs(Me,{value:u?.bancoId?.toString()||"",onValueChange:M,disabled:r||n||g,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:g?"Carregando bancos...":"Selecione um banco"})}),a.jsx(Fe,{className:"max-h-[200px] overflow-y-auto",children:Array.isArray(s)&&s.map(w=>a.jsx(se,{value:w.bancoId.toString(),children:Ru(w)},w.bancoId))})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"agencia",children:"Agncia"}),a.jsx(R,{id:"agencia",value:e.dadosBancarios?.agencia||"",onChange:w=>$("agencia",w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"agencia_digito",children:"Dgito da Agncia"}),a.jsx(R,{id:"agencia_digito",value:e.dadosBancarios?.agenciaDigito||"",onChange:w=>$("agenciaDigito",w.target.value),maxLength:1})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"conta",children:"Conta"}),a.jsx(R,{id:"conta",value:e.dadosBancarios?.conta||"",onChange:w=>$("conta",w.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"conta_digito",children:"Dgito da Conta"}),a.jsx(R,{id:"conta_digito",value:e.dadosBancarios?.contaDigito||"",onChange:w=>$("contaDigito",w.target.value),maxLength:1})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"conta_tipo",children:"Tipo de Conta"}),a.jsxs(Me,{value:e.dadosBancarios?.contaTipo?.toString()||"",onValueChange:w=>$("contaTipo",parseInt(w)),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo de conta"})}),a.jsx(Fe,{children:wF?.map(w=>a.jsx(se,{value:w.value.toString(),children:w.label},w.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"chave_pix",children:"Chave PIX"}),a.jsx(R,{id:"chave_pix",placeholder:"Chave PIX",value:e.dadosBancarios?.chavePix||"",onChange:w=>$("chavePix",w.target.value)})]})]})}),a.jsx(ve,{value:"responsavel",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Dados do Responsvel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>S(!0),className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Buscar Responsvel"]}),e.responsavel&&a.jsxs(z,{type:"button",variant:"destructive",size:"sm",onClick:W,className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Remover"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_tipo",children:"Tipo"}),a.jsxs(Me,{value:e.responsavel?.tipo||"PF",onValueChange:w=>K("tipo",w),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo"})}),a.jsx(Fe,{children:Xp?.map(w=>a.jsx(se,{value:w.value,children:w.label},w.value))})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_nome",children:"Nome"}),a.jsx(R,{id:"responsavel_nome",value:e.responsavel?.nome||"",onChange:w=>K("nome",w.target.value)})]}),e.responsavel?.tipo==="PJ"&&a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_razao",children:"Razo Social"}),a.jsx(R,{id:"responsavel_razao",value:e.responsavel?.razao||"",onChange:w=>K("razao",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_documento",children:"Documento"}),a.jsx(R,{id:"responsavel_documento",value:e.responsavel?.documento||"",onChange:w=>{const B=e.responsavel?.tipo==="PF"?Vr(w.target.value):Nr(w.target.value);K("documento",B)},placeholder:e.responsavel?.tipo==="PF"?"000.000.000-00":"00.000.000/0000-00",maxLength:e.responsavel?.tipo==="PF"?14:18})]}),e.responsavel?.tipo==="PJ"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_inscricao_estadual",children:"Inscrio Estadual"}),a.jsx(R,{id:"responsavel_inscricao_estadual",value:e.responsavel?.inscricaoEstadual||"",onChange:w=>K("inscricaoEstadual",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"responsavel_inscricao_municipal",children:"Inscrio Municipal"}),a.jsx(R,{id:"responsavel_inscricao_municipal",value:e.responsavel?.inscricaoMunicipal||"",onChange:w=>K("inscricaoMunicipal",w.target.value)})]})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"atividade_parceiro_id",children:"Atividade do Parceiro"}),a.jsxs(Me,{value:e.parceiroInfo?.atividadeParceiroId?.toString()||"null",onValueChange:w=>re("atividadeParceiroId",w==="null"?null:parseInt(w)),disabled:y,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:y?"Carregando atividades...":"Selecione uma atividade"})}),a.jsxs(Fe,{className:"max-h-[200px] overflow-y-auto",children:[a.jsx(se,{value:"null",children:"Nenhuma atividade"}),Array.isArray(l)&&l.map(w=>a.jsx(se,{value:w.atividadeParceiroId.toString(),children:w.descricao},w.atividadeParceiroId))]})]})]})]})}),a.jsx(ve,{value:"endereco-responsavel",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Endereo do Responsvel"}),a.jsxs("div",{className:"grid grid-cols-[20%_60%_15%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"cep_responsavel",children:"CEP"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(R,{id:"cep_responsavel",value:e.enderecoResponsavel?.cep||"",onChange:w=>{const B=Lr(w.target.value);Y("cep",B)},placeholder:"00000-000",className:"flex-1"}),a.jsx(or,{children:a.jsxs(gr,{children:[a.jsx(yr,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:!e.enderecoResponsavel?.cep||(e.enderecoResponsavel?.cep?.replace(/\D/g,"").length||0)!==8,className:"px-3",children:""})}),a.jsx(xr,{children:a.jsx("p",{children:"Pesquisar CEP"})})]})})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"endereco_responsavel",children:"Logradouro"}),a.jsx(R,{id:"endereco_responsavel",value:e.enderecoResponsavel?.endereco||"",onChange:w=>Y("endereco",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"numero_responsavel",children:"Nmero"}),a.jsx(R,{id:"numero_responsavel",name:"numero_responsavel",value:e.enderecoResponsavel?.numero||"",onChange:w=>Y("numero",w.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-[40%_57%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"complemento_responsavel",children:"Complemento"}),a.jsx(R,{id:"complemento_responsavel",value:e.enderecoResponsavel?.complemento||"",onChange:w=>Y("complemento",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"bairro_responsavel",children:"Bairro"}),a.jsx(R,{id:"bairro_responsavel",value:e.enderecoResponsavel?.bairro||"",onChange:w=>Y("bairro",w.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-[70%_10%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"cidade_responsavel",children:"Cidade"}),a.jsx(R,{id:"cidade_responsavel",value:e.enderecoResponsavel?.cidade||"",onChange:w=>Y("cidade",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"uf_responsavel",children:"UF"}),a.jsx(R,{id:"uf_responsavel",value:e.enderecoResponsavel?.uf||"",onChange:w=>Y("uf",w.target.value),maxLength:2})]})]}),a.jsxs("div",{className:"grid grid-cols-[20%_20%_55%] gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"telefone_responsavel",children:"Telefone"}),a.jsx(R,{id:"telefone_responsavel",value:e.enderecoResponsavel?.contatoComercialTelefone1||"",onChange:w=>Y("contatoComercialTelefone1",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"celular_responsavel",children:"Celular"}),a.jsx(R,{id:"celular_responsavel",value:e.enderecoResponsavel?.contatoComercialTelefone2||"",onChange:w=>Y("contatoComercialTelefone2",w.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"email_responsavel",children:"E-mail"}),a.jsx(R,{id:"email_responsavel",type:"email",value:e.enderecoResponsavel?.contatoComercialEmail||"",onChange:w=>Y("contatoComercialEmail",w.target.value)})]})]})]})}),a.jsx(ve,{value:"parceiro-info",className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Participao"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"perc_indicacao",children:"Percentual de Indicao (%)"}),a.jsx(R,{id:"perc_indicacao",type:"number",min:"0",max:"100",step:"0.01",placeholder:"0.00",value:e.parceiroInfo?.percIndicacao||0,onChange:w=>re("percIndicacao",parseFloat(w.target.value)||0)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"perc_mensalidade",children:"Percentual de Mensalidade (%)"}),a.jsx(R,{id:"perc_mensalidade",type:"number",min:"0",max:"100",step:"0.01",placeholder:"0.00",value:e.parceiroInfo?.percMensalidade||0,onChange:w=>re("percMensalidade",parseFloat(w.target.value)||0)})]})]})]})})]}),a.jsx(Zn,{isOpen:b,onClose:()=>j(!1),onSelectPerson:X,title:"Buscar Pessoa para Parceiro"}),a.jsx(Zn,{isOpen:E,onClose:()=>S(!1),onSelectPerson:le,title:"Buscar Responsvel"})]})}const on={pessoa:{nome:"",razao:null,documento:"",tipo:"PF",inscricaoEstadual:null,inscricaoMunicipal:null},endereco:{cep:"",endereco:null,numero:null,complemento:null,bairro:null,cidade:null,uf:null,cidadeCodigo:null,ufCodigo:null},dadosBancarios:{bancoId:void 0,agencia:"",conta:"",contaTipo:void 0,chavePix:null,contaDigito:null,agenciaDigito:null},responsavel:{nome:"",razao:null,documento:"",tipo:"PF",inscricaoEstadual:null,inscricaoMunicipal:null},enderecoResponsavel:{cep:"",endereco:null,numero:null,complemento:null,bairro:null,cidade:null,uf:null,cidadeCodigo:null,ufCodigo:null,contatoComercialTelefone1:null,contatoComercialTelefone2:null,contatoComercialEmail:null},parceiroInfo:{pessoaResponsavelId:void 0,atividadeParceiroId:null,percIndicacao:0,percMensalidade:0}};function CF({title:e="Gesto de Parceiros"}){const t=[{key:"pessoa.nome",header:"Nome",render:A=>a.jsx("span",{className:"font-medium",children:A.pessoa.nome})},{key:"pessoa.documento",header:"Documento",render:A=>A.pessoa.documento},{key:"pessoa.tipo",header:"Tipo",render:A=>a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${A.pessoa.tipo==="PF"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:A.pessoa.tipo})},{key:"responsavel.nome",header:"Responsvel",render:A=>a.jsx("span",{className:"text-sm",children:A.responsavel?.nome||"No informado"})},{key:"percIndicacao",header:"% Indicao",render:A=>`${A.percIndicacao}%`},{key:"percMensalidade",header:"% Mensalidade",render:A=>`${A.percMensalidade}%`},{key:"actions",header:"Aes",className:"text-right",render:A=>a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>U(A),children:a.jsx(qr,{className:"w-4 h-4"})}),a.jsxs(Cu,{children:[a.jsx(Nu,{asChild:!0,children:a.jsx(z,{variant:"outline",size:"sm",children:a.jsx(En,{className:"h-4 w-4"})})}),a.jsxs(Pu,{children:[a.jsxs(Su,{children:[a.jsx(Ou,{children:"Confirmar Excluso"}),a.jsxs(Tu,{children:['Tem certeza que deseja remover o parceiro "',A.pessoa.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Eu,{children:[a.jsx(Iu,{children:"Cancelar"}),a.jsxs(Au,{onClick:()=>me(A),disabled:b,children:[b&&a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Remover"]})]})]})]})]})}],[r,n]=m.useState([]),[o,i]=m.useState(""),[s,c]=m.useState(null),[l,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState(!1),[g,v]=m.useState(!1),[y,x]=m.useState(!1),[b,j]=m.useState(!1),[E,S]=m.useState("pessoa"),[T,N]=m.useState(!1),[C,M]=m.useState(!1),[F,P]=m.useState(1),[O,$]=m.useState(1),[K,Y]=m.useState(0),[re]=m.useState(25),ce=m.useRef(null),ue=m.useRef(null);m.useEffect(()=>{(l||u)&&S("pessoa")},[l,u]),m.useEffect(()=>{le(on),N(!1)},[l]),m.useEffect(()=>{s&&(le({pessoa:{nome:s.pessoa.nome,razao:s.pessoa.razao,documento:s.pessoa.documento,tipo:s.pessoa.tipo,inscricaoEstadual:s.pessoa.inscricaoEstadual,inscricaoMunicipal:s.pessoa.inscricaoMunicipal},endereco:s.endereco?{cep:s.endereco.cep,endereco:s.endereco.endereco,numero:s.endereco.numero,complemento:s.endereco.complemento,bairro:s.endereco.bairro,cidade:s.endereco.cidade,uf:s.endereco.uf,cidadeCodigo:s.endereco.cidadeCodigo,ufCodigo:s.endereco.ufCodigo}:void 0,dadosBancarios:s.dadosBancarios?{bancoId:s.dadosBancarios.bancoId,agencia:s.dadosBancarios.agencia,conta:s.dadosBancarios.conta,contaTipo:s.dadosBancarios.contaTipo,chavePix:s.dadosBancarios.chavePix,contaDigito:s.dadosBancarios.contaDigito,agenciaDigito:s.dadosBancarios.agenciaDigito}:void 0,responsavel:s.responsavel?{nome:s.responsavel.nome,razao:s.responsavel.razao,documento:s.responsavel.documento,tipo:s.responsavel.tipo,inscricaoEstadual:s.responsavel.inscricaoEstadual,inscricaoMunicipal:s.responsavel.inscricaoMunicipal}:void 0,enderecoResponsavel:s.responsavel?.endereco?{cep:s.responsavel.endereco.cep,endereco:s.responsavel.endereco.endereco,numero:s.responsavel.endereco.numero,complemento:s.responsavel.endereco.complemento,bairro:s.responsavel.endereco.bairro,cidade:s.responsavel.endereco.cidade,uf:s.responsavel.endereco.uf,cidadeCodigo:s.responsavel.endereco.cidadeCodigo,ufCodigo:s.responsavel.endereco.ufCodigo}:void 0,parceiroInfo:{pessoaResponsavelId:s.pessoaResponsavelId,atividadeParceiroId:s.atividadeParceiroId,percIndicacao:s.percIndicacao,percMensalidade:s.percMensalidade}}),N(!1))},[s]);const[X,le]=m.useState(on),W=m.useCallback(A=>{i(A),ce.current&&clearTimeout(ce.current),ce.current=window.setTimeout(()=>{_()},500)},[]),_=m.useCallback(async()=>{p(!0);try{const A=await rr.findAll();n(A.data),Y(A.total),$(Math.ceil(A.total/re))}catch(A){console.error("Erro ao carregar parceiros:",A),D.error("Erro ao carregar parceiros")}finally{p(!1)}},[re]);m.useEffect(()=>{_()},[_]);const w=m.useMemo(()=>r,[r]),B=async()=>{if(!X.pessoa.nome||!X.pessoa.documento){D.error("Por favor, preencha todos os campos obrigatrios");return}v(!0);try{const A=rr.convertToApiFormat(X),de=await rr.create(A),ze=rr.convertCreateUpdateToFrontendFormat(de);n(tr=>[...tr,ze]),le(on),N(!1),d(!1),D.success("Parceiro criado com sucesso!")}catch(A){console.error("Erro ao criar parceiro:",A);const de=A instanceof Error?A.message:"Erro ao criar parceiro";D.error(de)}finally{v(!1)}},U=A=>{c(A),le({pessoa:{nome:A.pessoa.nome,razao:A.pessoa.razao,documento:A.pessoa.documento,tipo:A.pessoa.tipo,inscricaoEstadual:A.pessoa.inscricaoEstadual,inscricaoMunicipal:A.pessoa.inscricaoMunicipal},endereco:A.endereco?{cep:A.endereco.cep,endereco:A.endereco.endereco,numero:A.endereco.numero,complemento:A.endereco.complemento,bairro:A.endereco.bairro,cidade:A.endereco.cidade,uf:A.endereco.uf,cidadeCodigo:A.endereco.cidadeCodigo,ufCodigo:A.endereco.ufCodigo}:void 0,dadosBancarios:A.dadosBancarios?{bancoId:A.dadosBancarios.bancoId,agencia:A.dadosBancarios.agencia,conta:A.dadosBancarios.conta,contaTipo:A.dadosBancarios.contaTipo,chavePix:A.dadosBancarios.chavePix,contaDigito:A.dadosBancarios.contaDigito,agenciaDigito:A.dadosBancarios.agenciaDigito}:void 0,responsavel:A.responsavel?{nome:A.responsavel.nome,razao:A.responsavel.razao,documento:A.responsavel.documento,tipo:A.responsavel.tipo,inscricaoEstadual:A.responsavel.inscricaoEstadual,inscricaoMunicipal:A.responsavel.inscricaoMunicipal}:void 0,enderecoResponsavel:A.responsavel?.endereco?{cep:A.responsavel.endereco.cep,endereco:A.responsavel.endereco.endereco,numero:A.responsavel.endereco.numero,complemento:A.responsavel.endereco.complemento,bairro:A.responsavel.endereco.bairro,cidade:A.responsavel.endereco.cidade,uf:A.responsavel.endereco.uf,cidadeCodigo:A.responsavel.endereco.cidadeCodigo,ufCodigo:A.responsavel.endereco.ufCodigo}:void 0,parceiroInfo:{pessoaResponsavelId:A.pessoaResponsavelId,atividadeParceiroId:A.atividadeParceiroId,percIndicacao:A.percIndicacao,percMensalidade:A.percMensalidade}}),S("pessoa"),N(!1),f(!0)},Z=async()=>{if(s){x(!0);try{const A=rr.convertToApiFormat(X),de=await rr.update(s.parceiroInfoId,A),ze=rr.convertCreateUpdateToFrontendFormat(de);n(tr=>tr.map(Ir=>Ir.parceiroInfoId===s.parceiroInfoId?ze:Ir)),c(null),le(on),N(!1),f(!1),D.success("Parceiro atualizado com sucesso!")}catch(A){console.error("Erro ao atualizar parceiro:",A);const de=A instanceof Error?A.message:"Erro ao atualizar parceiro";D.error(de)}finally{x(!1)}}},me=async A=>{j(!0);try{await rr.remove(A.parceiroInfoId),n(de=>de.filter(ze=>ze.parceiroInfoId!==A.parceiroInfoId)),D.success("Parceiro removido com sucesso!")}catch(de){console.error("Erro ao remover parceiro:",de);const ze=de instanceof Error?de.message:"Erro ao remover parceiro";D.error(ze)}finally{j(!1)}},xe=A=>{le(A),N(!0)},H=m.useCallback(A=>{T?M(!0):(A==="create"?(d(!1),le(on)):(f(!1),c(null)),N(!1))},[T]),ee=m.useCallback(()=>{M(!1),N(!1),d(!1),f(!1),c(null),le(on)},[]),ne=m.useCallback(()=>{M(!1)},[]),q=A=>{P(A)},V=(F-1)*re,ie=V+re,je=w.slice(V,ie);return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:e}),a.jsxs(Ue,{open:l,onOpenChange:A=>{if(A){d(!0);return}T?M(!0):(d(!1),le(on),N(!1))},children:[a.jsx(gb,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Kr,{className:"h-4 w-4"}),"Novo Parceiro"]})}),a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Criar Novo Parceiro"}),a.jsx(Ye,{children:"Preencha as informaes do parceiro. Os campos marcados com * so obrigatrios."})]}),a.jsx(Zp,{formData:X,setFormData:xe,isCreating:g,isUpdating:!1,activeTab:E,setActiveTab:S}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>H("create"),children:"Cancelar"}),a.jsxs(z,{onClick:B,disabled:g,children:[g&&a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Parceiro"]})]})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2 mb-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(R,{ref:ue,placeholder:"Pesquisar parceiros...",value:o,onChange:A=>W(A.target.value),className:"pl-8"})]})}),a.jsx(Ba,{title:"Lista de Parceiros",data:je,columns:t,isLoading:h,loadingText:"Carregando parceiros...",emptyText:"Nenhum parceiro encontrado",keyExtractor:A=>A.parceiroInfoId}),O>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",V+1," a ",Math.min(ie,K)," de"," ",K," parceiros"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>q(F-1),disabled:F===1,children:a.jsx(Pa,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Pgina ",F," de ",O]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>q(F+1),disabled:F===O,children:a.jsx(Sa,{className:"h-4 w-4"})})]})]}),a.jsx(Ue,{open:u,onOpenChange:A=>{A?f(!0):T?M(!0):(f(!1),c(null),N(!1))},children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Editar Parceiro"}),a.jsx(Ye,{children:"Atualize as informaes do parceiro. Os campos marcados com * so obrigatrios."})]}),a.jsx(Zp,{formData:X,setFormData:xe,isCreating:!1,isUpdating:y,activeTab:E,setActiveTab:S}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>H("edit"),children:"Cancelar"}),a.jsxs(z,{onClick:Z,disabled:y,children:[y&&a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizar Parceiro"]})]})]})}),a.jsx(Ue,{open:C,onOpenChange:M,children:a.jsxs(Ve,{children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Mudanas no salvas"}),a.jsx(Ye,{children:"Voc tem mudanas no salvas. Tem certeza que deseja fechar sem salvar?"})]}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:ne,children:"Cancelar"}),a.jsx(z,{variant:"destructive",onClick:ee,children:"Fechar sem salvar"})]})]})})]})}var Ki="Checkbox",[NF,pB]=Qn(Ki),[PF,$u]=NF(Ki);function SF(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:i,form:s,name:c,onCheckedChange:l,required:d,value:u="on",internal_do_not_use_render:f}=e,[h,p]=La({prop:r,defaultProp:o??!1,onChange:l,caller:Ki}),[g,v]=m.useState(null),[y,x]=m.useState(null),b=m.useRef(!1),j=g?!!s||!!g.closest("form"):!0,E={checked:h,disabled:i,setChecked:p,control:g,setControl:v,name:c,form:s,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:zr(o)?!1:o,isFormControl:j,bubbleInput:y,setBubbleInput:x};return a.jsx(PF,{scope:t,...E,children:EF(f)?f(E):n})}var zb="CheckboxTrigger",qb=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:i,value:s,disabled:c,checked:l,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=$u(zb,e),v=Zt(o,u),y=m.useRef(l);return m.useEffect(()=>{const x=i?.form;if(x){const b=()=>f(y.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[i,f]),a.jsx(yt.button,{type:"button",role:"checkbox","aria-checked":zr(l)?"mixed":l,"aria-required":d,"data-state":Hb(l),"data-disabled":c?"":void 0,disabled:c,value:s,...n,ref:v,onKeyDown:De(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:De(r,x=>{f(b=>zr(b)?!0:!b),g&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});qb.displayName=zb;var Ub=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:i,required:s,disabled:c,value:l,onCheckedChange:d,form:u,...f}=e;return a.jsx(SF,{__scopeCheckbox:r,checked:o,defaultChecked:i,disabled:c,required:s,onCheckedChange:d,name:n,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(qb,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(Gb,{__scopeCheckbox:r})]})})});Ub.displayName=Ki;var Vb="CheckboxIndicator",Wb=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,i=$u(Vb,r);return a.jsx(en,{present:n||zr(i.checked)||i.checked===!0,children:a.jsx(yt.span,{"data-state":Hb(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Wb.displayName=Vb;var Kb="CheckboxBubbleInput",Gb=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:i,defaultChecked:s,required:c,disabled:l,name:d,value:u,form:f,bubbleInput:h,setBubbleInput:p}=$u(Kb,e),g=Zt(r,p),v=_j(i),y=kj(n);m.useEffect(()=>{const b=h;if(!b)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,T=!o.current;if(v!==i&&S){const N=new Event("click",{bubbles:T});b.indeterminate=zr(i),S.call(b,zr(i)?!1:i),b.dispatchEvent(N)}},[h,v,i,o]);const x=m.useRef(zr(i)?!1:i);return a.jsx(yt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:c,disabled:l,name:d,value:u,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Gb.displayName=Kb;function EF(e){return typeof e=="function"}function zr(e){return e==="indeterminate"}function Hb(e){return zr(e)?"indeterminate":e?"checked":"unchecked"}function No({className:e,...t}){return a.jsx(Ub,{"data-slot":"checkbox",className:Se("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Wb,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Mj,{className:"size-3.5"})})})}function Qp({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:Se("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function OF({isOpen:e,onClose:t,onSelectPessoa:r,title:n="Buscar Pessoa",tipoPessoa:o,excludePessoaId:i}){const[s,c]=m.useState({documento:"",nome:"",tipo:void 0,limit:20,offset:0}),[l,d]=m.useState([]),[u,f]=m.useState(!1),[h,p]=m.useState(0),[g,v]=m.useState(1),y=m.useCallback(async()=>{if(!s.nome&&!s.documento){d([]),p(0);return}f(!0);try{let N;switch(o){case"cliente":N=await wa.findAll();const C=N.filter(O=>{const $=!s.nome||O.pessoa?.nome?.toLowerCase().includes(s.nome.toLowerCase()),K=!s.documento||O.pessoa?.documento?.includes(s.documento),Y=!s.tipo||O.pessoa?.tipo===s.tipo;return $&&K&&Y});d(C.map(O=>({pessoaId:O.pessoa.pessoaId,nome:O.pessoa.nome,razao:O.pessoa.razao,documento:O.pessoa.documento,tipo:O.pessoa.tipo,entidadeId:O.pessoa.entidadeId,inscricaoEstadual:O.pessoa.inscricaoEstadual,inscricaoMunicipal:O.pessoa.inscricaoMunicipal,enderecos:O.pessoa.enderecos,dadosBancarios:O.pessoa.dadosBancarios,clienteInfoId:O.clienteInfoId}))),p(C.length);break;case"parceiro":N=await rr.findAll();const M=N.data.filter(O=>{const $=!s.nome||O.pessoa?.nome?.toLowerCase().includes(s.nome.toLowerCase()),K=!s.documento||O.pessoa?.documento?.includes(s.documento),Y=!s.tipo||O.pessoa?.tipo===s.tipo;return $&&K&&Y});d(M.map(O=>({pessoaId:O.pessoa.pessoaId,nome:O.pessoa.nome,razao:O.pessoa.razao,documento:O.pessoa.documento,tipo:O.pessoa.tipo,entidadeId:O.pessoa.entidadeId,inscricaoEstadual:O.pessoa.inscricaoEstadual,inscricaoMunicipal:O.pessoa.inscricaoMunicipal,enderecos:O.pessoa.enderecos,dadosBancarios:O.pessoa.dadosBancarios,parceiroInfoId:O.parceiroInfoId}))),p(M.length);break;case"socio":N=await lr.findAll();const F=N.data.filter(O=>{const $=!s.nome||O.pessoa?.nome?.toLowerCase().includes(s.nome.toLowerCase()),K=!s.documento||O.pessoa?.documento?.includes(s.documento),Y=!s.tipo||O.pessoa?.tipo===s.tipo;return $&&K&&Y});d(F.map(O=>({pessoaId:O.pessoa.pessoaId,nome:O.pessoa.nome,razao:O.pessoa.razao,documento:O.pessoa.documento,tipo:O.pessoa.tipo,entidadeId:O.pessoa.entidadeId,inscricaoEstadual:O.pessoa.inscricaoEstadual,inscricaoMunicipal:O.pessoa.inscricaoMunicipal,enderecos:O.pessoa.enderecos,dadosBancarios:O.pessoa.dadosBancarios,socioInfoId:O.socioInfoId}))),p(F.length);break;default:const P=await Lb.search(s);d(P.data),p(P.total);break}}catch(N){console.error("Erro ao buscar pessoas:",N),D.error("Erro ao buscar pessoas")}finally{f(!1)}},[s,o]);m.useEffect(()=>{const N=setTimeout(()=>{y()},500);return()=>clearTimeout(N)},[y]);const x=()=>{v(1),c(N=>({...N,offset:0})),y()},b=N=>{r(N),t()},j=(N,C)=>{c(M=>({...M,[N]:C===""?void 0:C,offset:0})),v(1)},E=N=>{const C=(N-1)*(s.limit||20);c(M=>({...M,offset:C})),v(N)},S=Math.ceil(h/(s.limit||20)),T=()=>{switch(o){case"cliente":return"Cliente";case"parceiro":return"Parceiro";case"socio":return"Scio";default:return"Pessoa"}};return a.jsx(Ue,{open:e,onOpenChange:t,children:a.jsxs(Ve,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:o?`Buscar ${T()}`:n}),a.jsx(Ye,{children:o?`Busque e selecione um ${T().toLowerCase()} para o contrato`:"Busque e selecione uma pessoa"})]}),a.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome"}),a.jsx(R,{id:"nome",placeholder:"Digite o nome...",value:s.nome,onChange:N=>j("nome",N.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento"}),a.jsx(R,{id:"documento",placeholder:"CPF ou CNPJ...",value:s.documento,onChange:N=>{const C=N.target.value,M=C.length<=14?Vr(C):Nr(C);j("documento",M)}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"tipo",children:"Tipo"}),a.jsxs(Me,{value:s.tipo||"all",onValueChange:N=>j("tipo",N==="all"?"":N),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Todos os tipos"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"all",children:"Todos os tipos"}),a.jsx(se,{value:"PF",children:"Pessoa Fsica"}),a.jsx(se,{value:"PJ",children:"Pessoa Jurdica"})]})]})]})]}),a.jsxs(z,{onClick:x,className:"w-full",children:[a.jsx(qt,{className:"w-4 h-4 mr-2"}),"Buscar"]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("span",{className:"text-sm text-muted-foreground",children:[h," resultado(s) encontrado(s)"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md",children:u?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(qe,{className:"w-6 h-6 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Buscando..."})]}):l.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground",children:[a.jsx(qt,{className:"w-12 h-12 mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum resultado encontrado"}),a.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros de busca"})]}):a.jsx("div",{className:"space-y-2",children:l.map(N=>a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>b(N),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:N.tipo==="PF"?a.jsx(bt,{className:"w-8 h-8 text-blue-600"}):a.jsx(lv,{className:"w-8 h-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:N.nome}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N.documento})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ht,{variant:N.tipo==="PF"?"default":"secondary",children:N.tipo==="PF"?"Pessoa Fsica":"Pessoa Jurdica"}),a.jsx(z,{size:"sm",variant:"outline",children:"Selecionar"})]})]})},N.pessoaId))})}),S>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 pt-4",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>E(g-1),disabled:g===1,children:"Anterior"}),a.jsxs("span",{className:"text-sm",children:["Pgina ",g," de ",S]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>E(g+1),disabled:g===S,children:"Prxima"})]})]})]})]})})}class TF{async findAll(t){try{const r=new URLSearchParams;return t?.search&&r.append("search",t.search),t?.tipoConta&&r.append("tipoConta",t.tipoConta),t?.ativo!==void 0&&r.append("ativo",t.ativo.toString()),await J(`/entidade-conta-bancaria?${r.toString()}`,{method:"GET"})}catch(r){throw console.error("Erro ao buscar contas bancrias:",r),r}}async findById(t){try{return await J(`/entidade-conta-bancaria/${t}`,{method:"GET"})}catch(r){throw console.error("Erro ao buscar conta bancria:",r),r}}async findByEntidade(t){try{return await J(`/entidade-conta-bancaria/entidade/${t}`,{method:"GET"})}catch(r){throw console.error("Erro ao buscar contas bancrias da entidade:",r),r}}}const _l=new TF;function AF({isOpen:e,onClose:t,onSelectBanco:r,title:n="Buscar Conta Bancria",entidadeId:o}){const[i,s]=m.useState([]),[c,l]=m.useState(!1),[d,u]=m.useState({search:"",tipoConta:"all"}),f=m.useCallback(async()=>{l(!0);try{let v,y=[];if(o){if(v=await _l.findByEntidade(o),y=v.data||[],d.search){const x=d.search.toLowerCase();y=y.filter(b=>{const j=b.banco?.nome?.toLowerCase()||b.bancoNome?.toLowerCase()||"",E=b.agencia?.toLowerCase()||"",S=b.conta?.toLowerCase()||"";return j.includes(x)||E.includes(x)||S.includes(x)})}d.tipoConta&&d.tipoConta!=="all"&&(y=y.filter(x=>x.tipoConta===d.tipoConta))}else v=await _l.findAll({search:d.search||void 0,tipoConta:d.tipoConta&&d.tipoConta!=="all"?d.tipoConta:void 0}),y=v.data||[];if(s(y),y.length===1&&!d.search&&d.tipoConta==="all"){D.success("Conta bancria selecionada automaticamente"),r(y[0]),t();return}}catch(v){console.error("Erro ao buscar contas bancrias:",v),D.error("Erro ao buscar contas bancrias")}finally{l(!1)}},[d,r,t,o]);m.useEffect(()=>{e&&f()},[e,f]);const h=(v,y)=>{u(x=>({...x,[v]:y}))},p=v=>{r(v),t()},g=v=>{switch(v){case"CORRENTE":return"Conta Corrente";case"POUPANCA":return"Poupana";case"SALARIO":return"Conta Salrio";default:return v}};return a.jsx(Ue,{open:e,onOpenChange:t,children:a.jsxs(Ve,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"h-5 w-5"}),n]}),a.jsx(Ye,{children:"Selecione uma conta bancria para o contrato"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Buscar"}),a.jsxs("div",{className:"relative",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(R,{placeholder:"Banco, agncia, conta...",value:d.search,onChange:v=>h("search",v.target.value),className:"pl-8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Tipo de Conta"}),a.jsxs(Me,{value:d.tipoConta,onValueChange:v=>h("tipoConta",v),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Todos os tipos"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"all",children:"Todos os tipos"}),a.jsx(se,{value:"CORRENTE",children:"Conta Corrente"}),a.jsx(se,{value:"POUPANCA",children:"Poupana"}),a.jsx(se,{value:"SALARIO",children:"Conta Salrio"})]})]})]})]}),a.jsx("div",{className:"space-y-2",children:c?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-2 text-muted-foreground",children:"Buscando contas bancrias..."})]}):i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(si,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma conta bancria encontrada"})]}):i.map(v=>a.jsx(fe,{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>p(v),children:a.jsx(he,{className:"p-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:v.banco?.nome||v.bancoNome||"Nome no disponvel"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cdigo:"," ",v.banco?.bancoId?.toString().padStart(3,"0")||"N/A"]})]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Agncia:"})," ",v.agencia]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Conta:"})," ",v.conta]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ht,{variant:v.tipoConta==="CORRENTE"?"default":"secondary",children:g(v.tipoConta||"")})})]})})},v.entidadeContaBancariaId))})]}),a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx(z,{variant:"outline",onClick:t,children:"Cancelar"})})]})})}const kc=e=>e===0?"0,00":e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),IF=async e=>{try{return(await _l.findByEntidade(e)).data||[]}catch(t){return console.error(" buscarContasBancariasEntidade - Erro ao buscar contas bancrias da entidade:",t),D.error("Erro ao buscar contas bancrias da entidade"),[]}};function _F({contrato:e,contratoTipos:t,onSubmit:r,onCancel:n,isSubmitting:o}){const[i,s]=m.useState("contrato"),[c,l]=m.useState({numeroContrato:"",clienteInfoId:void 0,parceiroInfoId:void 0,socioInfoId:void 0,contratoTipoId:e?.tipo?.contratoTipoId||0,descricao:"",valor:0,ativo:!0,urlContrato:"",itens:[]}),[d,u]=m.useState(""),[f,h]=m.useState(null),[p,g]=m.useState(!1),[v,y]=m.useState(null),[x,b]=m.useState(!1),[j,E]=m.useState(null),[S,T]=m.useState(null),[N,C]=m.useState(""),[M,F]=m.useState({});m.useEffect(()=>{if(e){const _=e.tipo?.contratoTipoId||0;l({numeroContrato:e.numeroContrato||"",clienteInfoId:e.cliente?.clienteInfoId,parceiroInfoId:e.parceiro?.parceiroInfoId,socioInfoId:e.socio?.socioInfoId,contratoTipoId:_,descricao:e.descricao||"",valor:e.valor,ativo:e.ativo??!0,urlContrato:e.urlContrato||"",itens:(e.itens||[]).map(w=>({...w,contaBancaria:w.contaBancaria||void 0,mesVencimento:w.mesVencimento||0,anoVencimento:w.anoVencimento||0}))}),e.cliente?(u("cliente"),y(e.cliente),C("cliente"),T(e.cliente)):e.parceiro?(u("parceiro"),y(e.parceiro),C("parceiro"),T(e.parceiro)):e.socio&&(u("socio"),y(e.socio),C("socio"),T(e.socio)),e.tipo&&h(e.tipo)}},[e]),m.useEffect(()=>{if(c.contratoTipoId>0){const _=t.find(w=>w.contratoTipoId===c.contratoTipoId);if(h(_||null),_){const w=_.tipo==="R"?"C":"D";l(B=>({...B,itens:B.itens.map(U=>({...U,operacao:w}))}))}}},[c.contratoTipoId,t]);const P=c.itens.reduce((_,w)=>_+w.valor,0);m.useEffect(()=>{l(_=>({..._,valor:P}))},[P]);const O=(_,w)=>{l(B=>({...B,[_]:w}))},$=_=>{d!==_&&(u(_),_===N&&S?(y(S),_==="cliente"?l(w=>({...w,clienteInfoId:S.clienteInfoId})):_==="parceiro"?l(w=>({...w,parceiroInfoId:S.parceiroInfoId})):_==="socio"&&l(w=>({...w,socioInfoId:S.socioInfoId}))):(y(null),l(w=>({...w,clienteInfoId:void 0,parceiroInfoId:void 0,socioInfoId:void 0}))))},K=_=>{if(y(_),l(w=>({...w,clienteInfoId:void 0,parceiroInfoId:void 0,socioInfoId:void 0})),d==="cliente"){const w=_.clienteInfoId;l(B=>({...B,clienteInfoId:w}))}else if(d==="parceiro"){const w=_.parceiroInfoId;l(B=>({...B,parceiroInfoId:w}))}else if(d==="socio"){const w=_.socioInfoId;l(B=>({...B,socioInfoId:w}))}},Y=async _=>{E(_);try{const w=Bt.getEntidadeId();if(!w){D.error("Erro: Entidade do usurio no encontrada");return}const B=await IF(w);if(B.length===1){re(B[0]),D.success("Conta bancria selecionada automaticamente");return}else if(B.length>1){b(!0);return}else D.error("Nenhuma conta bancria encontrada para esta entidade")}catch(w){console.error("Erro ao buscar contas bancrias:",w),D.error("Erro ao buscar contas bancrias")}b(!0)},re=_=>{j!==null&&l(w=>({...w,itens:w.itens.map((B,U)=>U===j?{...B,entidadeContaBancariaId:_.entidadeContaBancariaId,contaBancaria:_}:B)})),b(!1),E(null)},ce=()=>{const _=new Date,w={descricao:"",valor:0,dataIni:new Date().toISOString().split("T")[0],dataFim:"",diaVencimento:1,ativo:!0,gerarBoleto:!1,juros:0,mora:0,instrucoesBanco:"",operacao:f?.tipo==="R"?"C":"D",entidadeContaBancariaId:void 0,mesVencimento:f?.recorrente?_.getMonth()+1:0,anoVencimento:f?.recorrente?_.getFullYear():0,contaBancaria:void 0};l(B=>({...B,itens:[w,...B.itens]}))},ue=_=>{l(w=>({...w,itens:w.itens.filter((B,U)=>U!==_)})),F(w=>{const B={...w};delete B[_];const U={};return Object.keys(B).forEach(Z=>{const me=parseInt(Z);me>_?U[me-1]=B[me]:me<_&&(U[me]=B[me])}),U})},X=(_,w,B)=>{l(U=>({...U,itens:U.itens.map((Z,me)=>me===_?{...Z,[w]:B}:Z)}))},le=_=>{if(_.preventDefault(),!d){D.error("Selecione o tipo de pessoa");return}if(!c.contratoTipoId){D.error("Selecione o tipo de contrato");return}if(!c.descricao.trim()){D.error("Descrio  obrigatria");return}if(c.itens.length===0){D.error("Adicione pelo menos um item ao contrato");return}for(const U of c.itens){if(!U.descricao.trim()){D.error("Descrio do item  obrigatria");return}if(U.valor<=0){D.error("Valor do item deve ser maior que zero");return}if(!U.dataIni){D.error("Data de incio do item  obrigatria");return}}const w=e?W():c;c.itens&&c.itens.length>0&&(w.itens=c.itens);const B={...w,itens:w.itens?.map(U=>{const{contaBancaria:Z,movimentos:me,naturezaOperacao:xe,...H}=U;U.contratoItemId&&(H.contratoItemId=U.contratoItemId);const ee={...H};if((!ee.dataFim||ee.dataFim.trim()==="")&&delete ee.dataFim,(!ee.instrucoesBanco||ee.instrucoesBanco.trim()==="")&&delete ee.instrucoesBanco,ee.dataIni&&!ee.dataIni.match(/^\d{4}-\d{2}-\d{2}$/)){const ne=new Date(ee.dataIni),q=ne.getFullYear(),V=String(ne.getMonth()+1).padStart(2,"0"),ie=String(ne.getDate()).padStart(2,"0");ee.dataIni=`${q}-${V}-${ie}`}if(ee.dataFim&&!ee.dataFim.match(/^\d{4}-\d{2}-\d{2}$/)){const ne=new Date(ee.dataFim),q=ne.getFullYear(),V=String(ne.getMonth()+1).padStart(2,"0"),ie=String(ne.getDate()).padStart(2,"0");ee.dataFim=`${q}-${V}-${ie}`}return f?.recorrente,ee.mesVencimento=H.mesVencimento??0,ee.anoVencimento=H.anoVencimento??0,ee})};r(B)},W=m.useCallback(()=>{if(!e)return c;const _={};c.numeroContrato!==e.numeroContrato&&(_.numeroContrato=c.numeroContrato),c.clienteInfoId!==e.cliente?.clienteInfoId&&(_.clienteInfoId=c.clienteInfoId),c.parceiroInfoId!==e.parceiro?.parceiroInfoId&&(_.parceiroInfoId=c.parceiroInfoId),c.socioInfoId!==e.socio?.socioInfoId&&(_.socioInfoId=c.socioInfoId),c.contratoTipoId!==e.tipo?.contratoTipoId&&(_.contratoTipoId=c.contratoTipoId),c.descricao!==e.descricao&&(_.descricao=c.descricao),c.valor!==e.valor&&(_.valor=c.valor),c.ativo!==e.ativo&&(_.ativo=c.ativo),c.urlContrato!==e.urlContrato&&(_.urlContrato=c.urlContrato);const w=e.itens||[],B=c.itens||[];return console.log(" Debug deteco de mudanas:"),console.log(" Itens originais:",w.length,w),console.log(" Itens atuais:",B.length,B),console.log(" IDs dos itens originais:",w.map(U=>U.contratoItemId)),console.log(" IDs dos itens atuais:",B.map(U=>U.contratoItemId)),w.length!==B.length?(console.log(" Nmero de itens mudou, incluindo itens nas mudanas"),_.itens=B):B.length>0?B.some((Z,me)=>{const xe=w[me];return xe?Z.descricao!==xe.descricao||Z.valor!==xe.valor||Z.dataIni!==xe.dataIni||Z.dataFim!==xe.dataFim||Z.diaVencimento!==xe.diaVencimento||Z.ativo!==xe.ativo||Z.gerarBoleto!==xe.gerarBoleto||Z.juros!==xe.juros||Z.mora!==xe.mora||Z.instrucoesBanco!==xe.instrucoesBanco||Z.entidadeContaBancariaId!==xe.entidadeContaBancariaId||Z.mesVencimento!==xe.mesVencimento||Z.anoVencimento!==xe.anoVencimento:!0})?(console.log(" Itens foram modificados, incluindo nas mudanas"),_.itens=B):console.log(" Nenhuma mudana nos itens detectada"):console.log(" Nenhum item atual para comparar"),console.log(" Mudanas detectadas:",_),_},[c,e]);return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:le,className:"space-y-6",children:[a.jsxs(tn,{value:i,onValueChange:s,children:[a.jsxs(rn,{className:"grid w-full grid-cols-2",children:[a.jsxs(pe,{value:"contrato",className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"h-4 w-4"}),"Contrato"]}),a.jsxs(pe,{value:"itens",className:"flex items-center gap-2",children:[a.jsx(rf,{className:"h-4 w-4"}),"Itens (",c.itens.length,")"]})]}),a.jsx(ve,{value:"contrato",className:"space-y-6",children:a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{children:"Informaes do Contrato"})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 min-w-[30%] max-w-[40%]",children:[a.jsx(I,{children:"Tipo de Pessoa *"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(z,{type:"button",variant:d==="cliente"?"default":"secondary",onClick:()=>$("cliente"),className:d==="cliente"?"bg-blue-600 hover:bg-blue-700":"",children:"Cliente"}),a.jsx(z,{type:"button",variant:d==="parceiro"?"default":"secondary",onClick:()=>$("parceiro"),className:d==="parceiro"?"bg-blue-600 hover:bg-blue-500":"",children:"Parceiro"}),a.jsx(z,{type:"button",variant:d==="socio"?"default":"secondary",onClick:()=>$("socio"),className:d==="socio"?"bg-blue-600 hover:bg-blue-700":"",children:"Scio"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:"ativo",checked:c.ativo,onCheckedChange:_=>O("ativo",_)}),a.jsx(I,{htmlFor:"ativo",children:"Contrato ativo"})]})]})]}),d&&a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsxs(I,{children:["Selecionar"," ",d==="cliente"?"Cliente":d==="parceiro"?"Parceiro":"Scio"," ","*"]}),a.jsx(z,{type:"button",className:"w-full justify-start",onClick:()=>{if(!d){D.error("Selecione primeiro o tipo de pessoa (Cliente, Parceiro ou Scio)");return}g(!0)},children:v?v.nome:`Selecionar ${d==="cliente"?"Cliente":d==="parceiro"?"Parceiro":"Scio"}`})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 max-w-[40%]",children:[a.jsx(I,{children:"Tipo de Contrato *"}),a.jsxs(Me,{value:c.contratoTipoId&&c.contratoTipoId>0?c.contratoTipoId.toString():"",onValueChange:_=>{const w=parseInt(_)||0;O("contratoTipoId",w)},children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o tipo de contrato"})}),a.jsx(Fe,{children:t.map(_=>{const w=_.contratoTipoId;return a.jsx(se,{value:w?.toString()||"0",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:_.descricao}),a.jsx(ht,{variant:_.tipo==="R"?"default":"destructive",children:_.tipo==="R"?"Receita":"Despesa"}),_.recorrente&&a.jsx(ht,{variant:"outline",children:"Recorrente"})]})},w)})})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 ",children:[a.jsx(I,{children:"Descrio *"}),a.jsx(Qp,{value:c.descricao,onChange:_=>O("descricao",_.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 ",children:[a.jsx(I,{children:"URL do Contrato"}),a.jsx(R,{value:c.urlContrato,onChange:_=>O("urlContrato",_.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2 max-w-[40%]",children:[a.jsx(I,{children:"Valor do contrato (calculado automaticamente pela soma dos itens)"}),a.jsx(R,{value:`R$ ${kc(c.valor)}`,disabled:!0,className:"bg-green-500 font-bold text-2xl"})]})]})]})}),a.jsx(ve,{value:"itens",className:"space-y-6",children:a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ye,{children:"Itens do Contrato"}),a.jsxs(z,{type:"button",onClick:ce,size:"sm",className:"flex items-center gap-2",children:[a.jsx(Kr,{className:"h-4 w-4"}),"Adicionar Item"]})]})}),a.jsx(he,{className:"space-y-4",children:c.itens.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(rf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Nenhum item adicionado"}),a.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Item" para comear'})]}):(c.itens||[]).map((_,w)=>a.jsxs(fe,{className:"border-l-4 border-l-blue-500",children:[a.jsx(ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ye,{className:"text-lg",children:["Item ",w+1]}),a.jsxs("div",{className:"flex items-end justify-end space-x-2 bg-gray-200 p-2",children:[a.jsx(No,{id:`ativo-${w}`,checked:_.ativo,onCheckedChange:B=>X(w,"ativo",B)}),a.jsx(I,{htmlFor:`ativo-${w}`,children:"Item ativo"})]}),a.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>ue(w),className:"text-red-600 hover:text-red-700",children:a.jsx(En,{className:"h-4 w-4"})})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 border border-gray-300 rounded-md p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Descrio *"}),a.jsx(R,{value:_.descricao,onChange:B=>X(w,"descricao",B.target.value)})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Valor *"}),a.jsx(R,{value:M[w]??kc(_.valor||0),onChange:B=>{const U=B.target.value;F(me=>({...me,[w]:U}));const Z=U.replace(/\D/g,"");if(Z){const me=parseInt(Z)/100,xe=Math.min(me,999999999e-2);X(w,"valor",xe)}else X(w,"valor",0)},onBlur:B=>{const U=B.target.value.replace(/\D/g,"");if(U){const Z=parseInt(U)/100,me=kc(Z);F(xe=>({...xe,[w]:me}))}},placeholder:"0,00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Data de Incio *"}),a.jsx(R,{type:"date",value:_.dataIni,onChange:B=>X(w,"dataIni",B.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Data de Fim"}),a.jsx(R,{type:"date",value:_.dataFim,onChange:B=>X(w,"dataFim",B.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Dia de Vencimento *"}),a.jsx(R,{type:"number",min:"1",max:"28",value:_.diaVencimento||1,onChange:B=>{const U=B.target.value;(U===""||/^\d*$/.test(U))&&X(w,"diaVencimento",U===""?1:parseInt(U)||1)},onBlur:B=>{const U=parseInt(B.target.value)||1,Z=Math.min(Math.max(U,1),28);X(w,"diaVencimento",Z)}})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-300 rounded-md p-2",children:[f?.recorrente&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Ms de Vencimento"}),a.jsxs(Me,{value:_.mesVencimento&&_.mesVencimento>0?_.mesVencimento.toString():"select-month",onValueChange:B=>X(w,"mesVencimento",B==="select-month"?0:parseInt(B)),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o ms"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"select-month",children:"Selecione o ms"}),Array.from({length:12},(B,U)=>a.jsx(se,{value:(U+1).toString(),children:new Date(0,U).toLocaleString("pt-BR",{month:"long"})},U+1))]})]})]}),f?.recorrente&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Ano de Vencimento"}),a.jsx(R,{type:"number",min:"2024",max:"2150",value:_.anoVencimento&&_.anoVencimento>0?_.anoVencimento.toString():"",onChange:B=>{const U=B.target.value;(U===""||/^\d*$/.test(U))&&X(w,"anoVencimento",U===""?0:parseInt(U)||0)},onBlur:B=>{const U=parseInt(B.target.value);if(U&&U>0){const Z=Math.min(Math.max(U,2024),2150);X(w,"anoVencimento",Z)}else X(w,"anoVencimento",0)}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Juros (%)"}),a.jsx(R,{type:"number",step:"0.01",min:"0",max:"100",value:_.juros||0,onChange:B=>{const U=B.target.value;(U===""||/^\d*\.?\d*$/.test(U))&&X(w,"juros",U===""?0:parseFloat(U)||0)},onBlur:B=>{const U=parseFloat(B.target.value)||0,Z=Math.min(Math.max(U,0),100);X(w,"juros",Z)},placeholder:"0.00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Mora (%)"}),a.jsx(R,{type:"number",step:"0.01",min:"0",max:"100",value:_.mora||0,onChange:B=>{const U=B.target.value;(U===""||/^\d*\.?\d*$/.test(U))&&X(w,"mora",U===""?0:parseFloat(U)||0)},onBlur:B=>{const U=parseFloat(B.target.value)||0,Z=Math.min(Math.max(U,0),100);X(w,"mora",Z)},placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 border border-gray-300 rounded-md p-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:`gerarBoleto-${w}`,checked:_.gerarBoleto,onCheckedChange:B=>X(w,"gerarBoleto",B)}),a.jsx(I,{htmlFor:`gerarBoleto-${w}`,children:"Gerar boleto para este item"})]}),_.gerarBoleto&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Instrues do Banco"}),a.jsx(Qp,{value:_.instrucoesBanco,onChange:B=>X(w,"instrucoesBanco",B.target.value),placeholder:"Instrues para o banco...",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:"Conta Bancria"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(R,{value:_.contaBancaria&&(_.contaBancaria.banco?.nome||_.contaBancaria.bancoNome)?`${_.contaBancaria.banco?.nome||_.contaBancaria.bancoNome} - ${_.contaBancaria.agencia}/${_.contaBancaria.conta}`:"",placeholder:"Selecione uma conta bancria",readOnly:!0,className:"flex-1"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>{Y(w)},children:_.contaBancaria?"Alterar":"Selecionar"})]})]})]})]})]},w))})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[a.jsx(z,{type:"button",variant:"outline",onClick:n,disabled:o,children:"Cancelar"}),a.jsxs(z,{type:"submit",disabled:o,className:"bg-blue-600 hover:bg-blue-700",children:[o?"Salvando...":e?"Atualizar":"Criar"," ","Contrato"]})]})]}),a.jsx(OF,{isOpen:p,onClose:()=>g(!1),onSelectPessoa:K,title:`Buscar ${d==="cliente"?"Cliente":d==="parceiro"?"Parceiro":"Scio"}`,tipoPessoa:d||void 0}),a.jsx(AF,{isOpen:x,onClose:()=>{b(!1),E(null)},onSelectBanco:re,entidadeId:Bt.getEntidadeId()||void 0})]})}class kF{baseUrl="/contrato";async listAll(){return await J(`${this.baseUrl}/list-all`)}async findAll(t={}){const r=new URLSearchParams;if(t.page&&r.append("page",t.page.toString()),t.perPage){const i=t.perPage>25?25:t.perPage;r.append("perPage",i.toString())}t.search&&t.search.length>=2&&(r.append("search",t.search),t.searchIn&&r.append("searchIn",t.searchIn)),t.filters&&t.filters.length>0&&t.filters.forEach((i,s)=>{r.append(`filters[${s}][field]`,i.field),r.append(`filters[${s}][operator]`,i.operator),i.content&&r.append(`filters[${s}][content]`,i.content)}),t.order&&Object.entries(t.order).forEach(([i,s])=>{r.append(`order[${i}]`,s)}),t.jsonCollections&&t.jsonCollections.length>0&&r.append("jsonCollections",t.jsonCollections.join(","));const n=r.toString(),o=n?`${this.baseUrl}?${n}`:this.baseUrl;return await J(o)}async findOne(t){return await J(`${this.baseUrl}/${t}`)}async create(t){return await J(this.baseUrl,{method:"POST",body:JSON.stringify(t)})}async update(t,r){return await J(`${this.baseUrl}/${t}`,{method:"PUT",body:JSON.stringify(r)})}async patch(t,r){return await J(`${this.baseUrl}/${t}`,{method:"PATCH",body:JSON.stringify(r)})}async remove(t){await J(`${this.baseUrl}/${t}`,{method:"DELETE"})}}const xo=new kF;class MF{baseUrl="/contrato-tipo";async findAll(){return await J(this.baseUrl)}async findOne(t){return await J(`${this.baseUrl}/${t}`)}async create(t){return await J(this.baseUrl,{method:"POST",body:JSON.stringify(t)})}async update(t,r){return await J(`${this.baseUrl}/${t}`,{method:"PUT",body:JSON.stringify(r)})}async remove(t){await J(`${this.baseUrl}/${t}`,{method:"DELETE"})}}const RF=new MF;function $F(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[o,i]=m.useState(!0),[s,c]=m.useState(""),[l,d]=m.useState("all"),[u,f]=m.useState(!1),[h,p]=m.useState(null),[g,v]=m.useState(!1),[y,x]=m.useState(null),b=m.useRef(null),j=m.useCallback(async()=>{try{i(!0),x(null);const $=await xo.findAll({page:1,perPage:25});t($.data)}catch{x("Erro ao carregar contratos"),D.error("No foi possvel carregar os contratos")}finally{i(!1)}},[]),E=m.useCallback(async()=>{try{const $=await RF.findAll();n($.data||[])}catch{n([])}},[]);m.useEffect(()=>{j(),E()},[j,E]);const S=m.useCallback($=>{c($),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{},300)},[]);m.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const T=m.useMemo(()=>{let $=e;if(s&&s.length>=2){const K=s.toLowerCase();$=$.filter(Y=>Y.numeroContrato?.toLowerCase().includes(K)||Y.descricao?.toLowerCase().includes(K)||Y.cliente?.nome?.toLowerCase().includes(K)||Y.parceiro?.nome?.toLowerCase().includes(K)||Y.socio?.nome?.toLowerCase().includes(K))}return l!=="all"&&($=$.filter(K=>l==="active"&&K.ativo||l==="inactive"&&!K.ativo)),$},[e,s,l]),N=$=>{p($||null),f(!0)},C=()=>{f(!1),p(null)},M=async $=>{try{v(!0),h?(await xo.patch(h.contratoId,$),D.success("Contrato atualizado com sucesso")):(await xo.create($),D.success("Contrato criado com sucesso")),C(),j()}catch{D.error("No foi possvel salvar o contrato")}finally{v(!1)}},F=async $=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{await xo.remove($),await j(),D.success("Contrato removido com sucesso!")}catch{D.error("Erro ao remover contrato")}},P=$=>$.cliente?$.cliente.nome:$.parceiro?$.parceiro.nome:$.socio?$.socio.nome:"N/A",O=$=>$.cliente?"Cliente":$.parceiro?"Parceiro":$.socio?"Scio":"N/A";return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(qe,{className:"h-8 w-8 animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gesto de Contratos"}),a.jsxs(z,{variant:"outline",onClick:()=>N(),children:[a.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Novo Contrato"]})]}),y&&a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[a.jsx(jo,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{className:"text-red-500",children:y})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(R,{placeholder:"Buscar por nmero, descrio ou nome da pessoa...",value:s,onChange:$=>S($.target.value),className:"pl-8"})]}),a.jsxs(Me,{value:l,onValueChange:d,children:[a.jsx(Re,{className:"w-48 bg-white text-black",children:a.jsx($e,{placeholder:"Filtrar por status"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"all",children:"Todos"}),a.jsx(se,{value:"active",children:"Ativos"}),a.jsx(se,{value:"inactive",children:"Inativos"})]})]})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsxs(ye,{children:["Lista de Contratos (",T.length,")"]})}),a.jsx(he,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Li,{children:[a.jsx(zi,{children:a.jsxs(Tt,{children:[a.jsx(Ze,{children:"N Contrato"}),a.jsx(Ze,{children:"Pessoa"}),a.jsx(Ze,{children:"Tipo"}),a.jsx(Ze,{children:"Descrio"}),a.jsx(Ze,{children:"Valor"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{children:"Aes"})]})}),a.jsx(qi,{children:T.map($=>a.jsxs(Tt,{children:[a.jsx(ke,{className:"font-medium",children:$.numeroContrato||`#${$.contratoId}`}),a.jsx(ke,{children:P($)}),a.jsx(ke,{children:O($)}),a.jsx(ke,{children:$.descricao||"N/A"}),a.jsxs(ke,{children:["R$"," ",$.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx(ke,{children:a.jsx(ht,{variant:$.ativo?"default":"secondary",className:$.ativo?"bg-green-500":"bg-gray-500",children:$.ativo?"Ativo":"Inativo"})}),a.jsx(ke,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>N($),children:a.jsx(qr,{className:"w-4 h-4"})}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>F($.contratoId),children:a.jsx(En,{className:"w-4 h-4"})})]})})]},$.contratoId))})]})})})]}),a.jsx(Ue,{open:u,onOpenChange:$=>{$||C()},children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:h?"Editar Contrato":"Novo Contrato"}),a.jsx(Ye,{children:h?"Atualize as informaes do contrato":"Preencha as informaes para criar um novo contrato"})]}),a.jsx(_F,{contrato:h,contratoTipos:r,onSubmit:M,onCancel:C,isSubmitting:g})]})})]})}const Mn={email:"",ativo:!0,adm:!1,pessoaId:void 0,pessoa:void 0};class Fn{static async findAll(){try{return(await J("/usuario")).data}catch(t){throw console.error("Erro ao buscar usurios:",t),t}}static async findByEntidade(t){try{return(await J(`/usuario/entidade/${t}`)).data}catch(r){throw console.error("Erro ao buscar usurios da entidade:",r),r}}static async findOne(t){try{return await J(`/usuario/${t}`)}catch(r){throw console.error("Erro ao buscar usurio:",r),r}}static async create(t){try{return(await J("/usuario",{method:"POST",body:JSON.stringify(this.convertToApiFormat(t))})).usuario}catch(r){throw console.error("Erro ao criar usurio:",r),r}}static async update(t,r){try{return(await J(`/usuario/${t}`,{method:"PATCH",body:JSON.stringify(this.convertToApiFormat(r))})).usuario}catch(n){throw console.error("Erro ao atualizar usurio:",n),n}}static async delete(t){try{await J(`/usuario/${t}`,{method:"DELETE"})}catch(r){throw console.error("Erro ao deletar usurio:",r),r}}static async findByEmailInOtherEntities(t,r){try{return await J(`/usuario/email/${t}/other-entities`,{method:"GET",body:JSON.stringify({currentEntidadeId:r})})}catch(n){throw console.error("Erro ao buscar usurios em outras entidades:",n),n}}static async replicateUserToEntity(t,r){try{return(await J(`/usuario/${t}/replicate`,{method:"POST",body:JSON.stringify({targetEntidadeId:r})})).usuario}catch(n){throw console.error("Erro ao replicar usurio:",n),n}}static convertToApiFormat(t){const r={email:t.email,ativo:t.ativo,adm:t.adm},n=Bt.getEntidadeId();return console.log(" convertToApiFormat - entidadeId:",n),n&&(r.entidadeId=n),t.pessoa?r.pessoa=t.pessoa:t.pessoaId&&(r.pessoaId=t.pessoaId),console.log(" convertToApiFormat - apiData final:",r),r}}function ev({isOpen:e,onClose:t,onSubmit:r,formData:n,setFormData:o,isCreating:i}){const[s,c]=m.useState(!1),[l,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState([]),[g,v]=m.useState(!1),[y,x]=m.useState(!1);m.useEffect(()=>{const O=n.email!==""||n.pessoaId!==void 0||n.pessoa!==void 0||n.ativo!==!0||n.adm!==!1;v(O)},[n]);const b=()=>{g?x(!0):t()},j=()=>{x(!1),v(!1),t()},E=()=>{x(!1)},S=O=>{o({...n,pessoaId:O.pessoaId,pessoa:{tipo:O.tipo,nome:O.nome,documento:O.documento,razao:O.razao||"",entidadeId:O.entidadeId}}),d(!1),D.success("Pessoa selecionada com sucesso!")},T=()=>{o({...n,pessoaId:void 0,pessoa:void 0}),D.success("Pessoa removida com sucesso!")},N=async O=>{if(o({...n,email:O}),O&&O.includes("@"))try{const $=await Fn.findByEmailInOtherEntities(O,1);$.length>0&&(p($),f(!0))}catch($){console.error("Erro ao verificar email em outras entidades:",$)}},C=async O=>{try{await Fn.replicateUserToEntity(O,1);const $=h.find(K=>K.usuarioId===O);$&&(o({...n,pessoaId:$.pessoaId}),D.success("Usurio replicado com sucesso!")),f(!1)}catch($){console.error("Erro ao replicar usurio:",$),D.error("Erro ao replicar usurio")}},M=async O=>{O.preventDefault(),c(!0);try{if(!n.pessoaId&&!n.pessoa){D.error(" obrigatrio informar uma pessoa"),c(!1);return}console.log(" UsuarioForm - formData antes de enviar:",n),await r(n),D.success(i?"Usurio criado com sucesso!":"Usurio atualizado com sucesso!"),t()}catch($){console.error("Erro ao salvar usurio:",$),D.error("Erro ao salvar usurio")}finally{c(!1)}},F=O=>O==="PF"?Vr:Nr,P=O=>O==="PF"?"000.000.000-00":"00.000.000/0000-00";return a.jsxs(a.Fragment,{children:[a.jsx(Ue,{open:e,onOpenChange:b,children:a.jsxs(Ve,{className:"min-w-[65vw] min-h-[35vw] max-h-[35vw] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:i?"Cadastrar Usurio":"Editar Usurio"}),a.jsx(Ye,{children:i?"Preencha os dados para cadastrar um novo usurio":"Atualize os dados do usurio"})]}),a.jsxs("form",{onSubmit:M,className:"space-y-6",children:[a.jsxs(tn,{defaultValue:"dados-usuario",className:"w-full",children:[a.jsxs(rn,{className:"grid w-full grid-cols-2",children:[a.jsx(pe,{value:"dados-usuario",children:"Dados do Usurio"}),a.jsx(pe,{value:"dados-pessoa",children:"Dados da Pessoa"})]}),a.jsxs(ve,{value:"dados-usuario",className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"email",children:"E-mail *"}),a.jsx(R,{id:"email",type:"email",value:n.email,onChange:O=>N(O.target.value),placeholder:"usuario@exemplo.com",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"ativo",children:"Status"}),a.jsxs(Me,{value:n.ativo?"ativo":"inativo",onValueChange:O=>o({...n,ativo:O==="ativo"}),children:[a.jsx(Re,{children:a.jsx($e,{})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"ativo",children:"Ativo"}),a.jsx(se,{value:"inativo",children:"Inativo"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"adm",children:"Tipo de Usurio"}),a.jsxs(Me,{value:n.adm?"adm":"usuario",onValueChange:O=>o({...n,adm:O==="adm"}),children:[a.jsx(Re,{children:a.jsx($e,{})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"usuario",children:"Usurio"}),a.jsx(se,{value:"adm",children:"Administrador"})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bt,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-900",children:"Pessoa Vinculada"}),a.jsx("p",{className:"text-sm text-blue-700",children:n.pessoaId&&n.pessoa?.nome?n.pessoa.nome:"Selecione ou cadastre uma pessoa"})]})]}),a.jsxs("div",{className:"mt-3 flex space-x-2",children:[a.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!0),children:"Buscar Pessoa"}),n.pessoaId&&a.jsx(z,{type:"button",variant:"destructive",onClick:T,children:"Remover"})]})]})]}),a.jsxs(ve,{value:"dados-pessoa",className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-yellow-800",children:"Se no houver pessoa selecionada, voc pode cadastrar uma nova pessoa aqui."})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"tipo",children:"Tipo *"}),a.jsxs(Me,{value:n.pessoa?.tipo||"PF",onValueChange:O=>o({...n,pessoa:{tipo:O,nome:n.pessoa?.nome||"",documento:n.pessoa?.documento||"",razao:n.pessoa?.razao||"",entidadeId:n.pessoa?.entidadeId||1}}),children:[a.jsx(Re,{children:a.jsx($e,{})}),a.jsx(Fe,{children:Il.map(O=>a.jsx(se,{value:O.value,children:O.label},O.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento *"}),a.jsx(R,{id:"documento",value:n.pessoa?.documento||"",onChange:O=>{const K=F(n.pessoa?.tipo||"PF")(O.target.value);o({...n,pessoa:{tipo:n.pessoa?.tipo||"PF",nome:n.pessoa?.nome||"",documento:K,razao:n.pessoa?.razao||"",entidadeId:n.pessoa?.entidadeId||1}})},placeholder:P(n.pessoa?.tipo||"PF"),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome *"}),a.jsx(R,{id:"nome",value:n.pessoa?.nome||"",onChange:O=>o({...n,pessoa:{tipo:n.pessoa?.tipo||"PF",nome:O.target.value,documento:n.pessoa?.documento||"",razao:n.pessoa?.razao||"",entidadeId:n.pessoa?.entidadeId||1}}),placeholder:"Nome completo",required:!0})]}),(n.pessoa?.tipo||"PF")==="PJ"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"razao",children:"Razo Social"}),a.jsx(R,{id:"razao",value:n.pessoa?.razao||"",onChange:O=>o({...n,pessoa:{tipo:n.pessoa?.tipo||"PF",nome:n.pessoa?.nome||"",documento:n.pessoa?.documento||"",razao:O.target.value,entidadeId:n.pessoa?.entidadeId||1}}),placeholder:"Razo social"})]}),a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Dica:"}),' Voc tambm pode buscar uma pessoa existente clicando em "Buscar Pessoa" na aba "Dados do Usurio".']})}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>d(!0),children:"Buscar Pessoa"})]})]})]})]}),a.jsxs(gt,{children:[a.jsx(z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:s,children:s?"Salvando...":i?"Cadastrar":"Atualizar"})]})]})]})}),a.jsx(Zn,{isOpen:l,onClose:()=>d(!1),onSelectPerson:S}),a.jsx(Ue,{open:u,onOpenChange:f,children:a.jsxs(Ve,{children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Usurio encontrado em outra entidade"}),a.jsx(Ye,{children:"O e-mail informado est vinculado a outra entidade. Deseja replicar para esta?"})]}),a.jsx("div",{className:"space-y-4",children:h.map(O=>a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:O.email}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Entidade: ",O.entidade?.nome]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Pessoa: ",O.pessoa?.nome]})]}),a.jsx(z,{onClick:()=>C(O.usuarioId),size:"sm",children:"Replicar"})]})},O.usuarioId))}),a.jsx(gt,{children:a.jsx(z,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"})})]})}),a.jsx(Ue,{open:y,onOpenChange:x,children:a.jsxs(Ve,{children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Mudanas no salvas"}),a.jsx(Ye,{children:"Voc tem mudanas no salvas. Tem certeza que deseja fechar sem salvar?"})]}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:E,children:"Cancelar"}),a.jsx(z,{variant:"destructive",onClick:j,children:"Fechar sem salvar"})]})]})})]})}function FF({title:e="Gesto de Usurios"}){const[t,r]=m.useState([]),[n,o]=m.useState(!1),[i,s]=m.useState(""),[c,l]=m.useState(!1),[d,u]=m.useState(!1),[f,h]=m.useState(null),[p,g]=m.useState(Mn);rv(),m.useEffect(()=>{v()},[]);const v=async()=>{o(!0);try{const F=Bt.getEntidadeId();if(console.log(" EntidadeId obtido:",F),!F){D.error("No foi possvel obter a entidade do usurio logado");return}console.log(" Buscando usurios da entidade:",F);const P=await Fn.findByEntidade(F);console.log(" Usurios encontrados:",P),r(P)}catch(F){console.error("Erro ao carregar usurios:",F),D.error("Erro ao carregar usurios")}finally{o(!1)}},y=async F=>{try{await Fn.create(F),await v(),g(Mn)}catch(P){throw console.error("Erro ao criar usurio:",P),P}},x=async F=>{if(f)try{await Fn.update(f.usuarioId,F),await v(),h(null),g(Mn)}catch(P){throw console.error("Erro ao atualizar usurio:",P),P}},b=async F=>{if(window.confirm("Tem certeza que deseja excluir este usurio?"))try{await Fn.delete(F),await v(),D.success("Usurio excludo com sucesso!")}catch(P){console.error("Erro ao excluir usurio:",P),D.error("Erro ao excluir usurio")}},j=()=>{g(Mn),l(!0)},E=()=>{l(!1),g(Mn)},S=F=>{h(F),g({email:F.email,ativo:F.ativo,adm:F.adm,pessoaId:F.pessoaId,pessoa:F.pessoa?{tipo:"PF",nome:F.pessoa.nome,documento:F.pessoa.documento,razao:"",entidadeId:Bt.getEntidadeId()||1}:void 0}),u(!0)},T=()=>{u(!1),h(null),g(Mn)},N=t.filter(F=>F.email.toLowerCase().includes(i.toLowerCase())||F.pessoa?.nome.toLowerCase().includes(i.toLowerCase())||F.entidade?.nome.toLowerCase().includes(i.toLowerCase())),C=F=>F?a.jsx(ht,{variant:"default",className:"bg-green-100 text-green-800",children:"Ativo"}):a.jsx(ht,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Inativo"}),M=F=>F?a.jsx(ht,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Administrador"}):a.jsx(ht,{variant:"outline",children:"Usurio"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:e}),a.jsx("p",{className:"text-white",children:"Gerencie os usurios do sistema"})]}),a.jsxs(z,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[a.jsx(Kr,{className:"h-4 w-4"}),"Novo Usurio"]})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsxs(ye,{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-5 w-5"}),"Lista de Usurios"]})}),a.jsxs(he,{children:[a.jsx("div",{className:"flex items-center space-x-2 mb-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),a.jsx(R,{placeholder:"Buscar por email, nome ou entidade...",value:i,onChange:F=>s(F.target.value),className:"pl-8"})]})}),n?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(Li,{children:[a.jsx(zi,{children:a.jsxs(Tt,{children:[a.jsx(Ze,{children:"E-mail"}),a.jsx(Ze,{children:"Pessoa"}),a.jsx(Ze,{children:"Entidade"}),a.jsx(Ze,{children:"Status"}),a.jsx(Ze,{children:"Tipo"}),a.jsx(Ze,{children:"Aes"})]})}),a.jsx(qi,{children:N.length===0?a.jsx(Tt,{children:a.jsx(ke,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(bt,{className:"h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-500",children:i?"Nenhum usurio encontrado":"Nenhum usurio cadastrado"})]})})}):N.map(F=>a.jsxs(Tt,{children:[a.jsx(ke,{className:"font-medium",children:F.email}),a.jsx(ke,{children:F.pessoa?.nome||"N/A"}),a.jsx(ke,{children:F.entidade?.nome||"N/A"}),a.jsx(ke,{children:C(F.ativo)}),a.jsx(ke,{children:M(F.adm)}),a.jsx(ke,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>S(F),children:a.jsx(qr,{className:"h-4 w-4"})}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>b(F.usuarioId),className:"text-red-600 hover:text-red-700",children:a.jsx(En,{className:"h-4 w-4"})})]})})]},F.usuarioId))})]})]})]}),a.jsx(ev,{isOpen:c,onClose:E,onSubmit:y,formData:p,setFormData:g,isCreating:!0,isUpdating:!1}),a.jsx(ev,{isOpen:d,onClose:T,onSubmit:x,formData:p,setFormData:g,isCreating:!1,isUpdating:!0})]})}function BF({filters:e,setFilters:t,statusOptions:r,onSearch:n,onClear:o,onGerarMovimento:i,isLoading:s=!1}){const[c,l]=m.useState(!1),d=(f,h)=>{t({...e,[f]:h==="all"?void 0:h||void 0})},u=Object.values(e).some(f=>f!=null&&f!=="");return a.jsxs(fe,{className:"mb-6",children:[a.jsx(ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ye,{className:"text-lg",children:"Filtros"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l(!c),children:[a.jsx(Xj,{className:"h-4 w-4 mr-2"}),c?"Menos":"Mais"]}),u&&a.jsxs(z,{variant:"outline",size:"sm",onClick:o,children:[a.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Limpar"]})]})]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"status",children:"Status"}),a.jsxs(Me,{value:e.status||"all",onValueChange:f=>d("status",f),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o status"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"all",children:"Todos"}),r.map(f=>a.jsx(se,{value:f,children:f},f))]})]})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"numeroContrato",children:"Nmero do Contrato"}),a.jsx(R,{id:"numeroContrato",placeholder:"Digite o nmero do contrato",value:e.numeroContrato||"",onChange:f=>d("numeroContrato",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"nome",children:"Nome"}),a.jsx(R,{id:"nome",placeholder:"Digite o nome",value:e.nome||"",onChange:f=>d("nome",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"documento",children:"Documento"}),a.jsx(R,{id:"documento",placeholder:"Digite o documento",value:e.documento||"",onChange:f=>d("documento",f.target.value)})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"dataVencimentoInicio",children:"Data Vencimento (Incio)"}),a.jsx(R,{id:"dataVencimentoInicio",type:"date",value:e.dataVencimentoInicio||"",onChange:f=>d("dataVencimentoInicio",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"dataVencimentoFim",children:"Data Vencimento (Fim)"}),a.jsx(R,{id:"dataVencimentoFim",type:"date",value:e.dataVencimentoFim||"",onChange:f=>d("dataVencimentoFim",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"dataPagamentoInicio",children:"Data Quitao (Incio)"}),a.jsx(R,{id:"dataPagamentoInicio",type:"date",value:e.dataPagamentoInicio||"",onChange:f=>d("dataPagamentoInicio",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"dataPagamentoFim",children:"Data Quitao (Fim)"}),a.jsx(R,{id:"dataPagamentoFim",type:"date",value:e.dataPagamentoFim||"",onChange:f=>d("dataPagamentoFim",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"dataLancamentoInicio",children:"Data Lanamento (Incio)"}),a.jsx(R,{id:"dataLancamentoInicio",type:"date",value:e.dataLancamentoInicio||"",onChange:f=>d("dataLancamentoInicio",f.target.value)})]}),a.jsxs("div",{className:"space-y-2 border border-gray-300 rounded-md p-2",children:[a.jsx(I,{htmlFor:"dataLancamentoFim",children:"Data Lanamento (Fim)"}),a.jsx(R,{id:"dataLancamentoFim",type:"date",value:e.dataLancamentoFim||"",onChange:f=>d("dataLancamentoFim",f.target.value)})]})]}),!c&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-2"}),a.jsx("div",{className:"space-y-2"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsxs(z,{onClick:i,disabled:s,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),s?"Gerando...":"Gerar Movimento"]}),a.jsxs(z,{onClick:n,disabled:s,children:[a.jsx(qt,{className:"h-4 w-4 mr-2"}),s?"Buscando...":"Buscar"]})]})]})})]})}function DF({formData:e,setFormData:t,isLoading:r=!1,onSubmit:n,onCancel:o,movimento:i}){const[s,c]=m.useState(null),l=m.useRef(null),d=(g,v)=>{t({...e,[g]:v})},u=g=>{const v=g.target.files?.[0];if(v){if(v.size>5*1024*1024){alert("Arquivo muito grande. Tamanho mximo: 5MB");return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(v.type)){alert("Tipo de arquivo no permitido. Use PDF, JPG ou PNG");return}if(t({...e,comprovante:v}),v.type.startsWith("image/")){const x=URL.createObjectURL(v);c(x)}else c(null)}},f=()=>{t({...e,comprovante:void 0}),c(null),l.current&&(l.current.value="")},h=async g=>{g.preventDefault(),await n(e)},p=g=>{if(!g)return a.jsx(Fr,{className:"h-4 w-4"});switch(g.split(".").pop()?.toLowerCase()){case"pdf":return a.jsx(Fr,{className:"h-4 w-4 text-red-500"});case"jpg":case"jpeg":case"png":return a.jsx(Fr,{className:"h-4 w-4 text-blue-500"});default:return a.jsx(Fr,{className:"h-4 w-4"})}};return a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{children:"Informaes do Pagamento"})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(No,{id:"pago",checked:e.pago,onCheckedChange:g=>{const v=g===!0,y={...e,pago:v,...v?{}:{valorEfetivo:0,dataPagamento:""}};t(y)}}),a.jsx(I,{htmlFor:"pago",children:"Marcar como pago/recebido"})]}),e.pago&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"dataPagamento",children:"Data do Pagamento/Recebimento"}),a.jsx(R,{id:"dataPagamento",type:"date",value:e.dataPagamento,onChange:g=>d("dataPagamento",g.target.value),required:e.pago})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"valorEfetivo",children:"Valor Efetivo"}),a.jsx(R,{id:"valorEfetivo",type:"number",step:"0.01",min:"0",value:e.valorEfetivo,onChange:g=>{const v=g.target.value,y=v===""?0:parseFloat(v)||0;d("valorEfetivo",y)},placeholder:"0,00"})]})]})]})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{children:"Comprovante"})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"comprovante",children:"Arquivo do Comprovante"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(R,{ref:l,id:"comprovante",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:u,className:"flex-1"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>l.current?.click(),children:[a.jsx(hw,{className:"h-4 w-4 mr-2"}),"Selecionar"]})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Formatos aceitos: PDF, JPG, PNG. Tamanho mximo: 5MB"})]}),e.comprovante&&a.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[p(e.comprovante.name),a.jsx("span",{className:"text-sm font-medium",children:e.comprovante.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",(e.comprovante.size/1024/1024).toFixed(2)," MB)"]})]}),a.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:f,children:a.jsx(Ml,{className:"h-4 w-4"})})]}),s&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:s,alt:"Preview",className:"max-w-full h-32 object-contain border rounded"})})]}),i?.urlComprovante&&!e.comprovante&&a.jsxs(Rj,{children:[a.jsx(Fr,{className:"h-4 w-4"}),a.jsxs($j,{children:["Comprovante atual: ",i.urlComprovante.split("/").pop()]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{type:"button",variant:"outline",onClick:o,disabled:r,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar"})]})]})}class LF{async findReceitas(t={}){const r=new URLSearchParams;return Object.entries(t).forEach(([n,o])=>{o!=null&&o!==""&&r.append(n,o.toString())}),await J(`/movimento/receitas?${r.toString()}`)}async findDespesas(t={}){const r=new URLSearchParams;return Object.entries(t).forEach(([n,o])=>{o!=null&&o!==""&&r.append(n,o.toString())}),await J(`/movimento/despesas?${r.toString()}`)}async getReceitasStatus(){return await J("/movimento/receitas/status")}async getDespesasStatus(){return await J("/movimento/despesas/status")}async updatePagamento(t,r){return await J(`/movimento/${t}/pagamento`,{method:"PATCH",body:JSON.stringify(r)})}async uploadComprovante(t,r){return await J(`/movimento/${t}/comprovante`,{method:"POST",body:JSON.stringify(r)})}async downloadComprovante(t){const r=localStorage.getItem("ct_one_token"),n=await fetch(`/api/movimento/comprovante/${t}`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.blob()}formatCurrency(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}formatDate(t){if(!t)return"";if(t.match(/^\d{4}-\d{2}-\d{2}$/)){const[n,o,i]=t.split("-");return new Date(parseInt(n),parseInt(o)-1,parseInt(i)).toLocaleDateString("pt-BR")}return new Date(t).toLocaleDateString("pt-BR")}getStatusColor(t){switch(t){case"RECEBIDO":case"PAGO":return"bg-green-100 text-green-800";case"EM ABERTO":return"bg-blue-100 text-blue-800";case"EM ATRASO":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}async verificarExistenciaMovimento(t,r,n){return await J(`/movimento/verificar-existencia/${t}/${r}/${n}`)}async gerarMovimento(t){return await J("/movimento/gerar",{method:"POST",body:JSON.stringify(t)})}}const we=new LF;function zF({isOpen:e,onClose:t,movimento:r,tipo:n}){if(!r)return null;const o=l=>{switch(l){case"S":return"Scio";case"P":return"Parceiro";case"C":return"Cliente";default:return"Cliente"}},i=l=>{const d=we.getStatusColor(l);return a.jsx(ht,{className:d,children:l})},s=l=>we.formatCurrency(l),c=l=>we.formatDate(l);return a.jsx(Ue,{open:e,onOpenChange:t,children:a.jsxs(Ve,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(We,{children:a.jsxs(Ke,{children:["Detalhes da ",n==="receita"?"Receita":"Despesa"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{className:"text-lg",children:"Informaes Gerais"})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),a.jsx("div",{className:"mt-1",children:i(r.status)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID do Movimento"}),a.jsx("div",{className:"mt-1",children:r.movimentoId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Vencimento"}),a.jsx("div",{className:"mt-1",children:c(r.dataVencimento)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data da Quitao"}),a.jsx("div",{className:"mt-1",children:r.dataPagamento?c(r.dataPagamento):"No pago"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Pago"}),a.jsx("div",{className:"mt-1",children:a.jsx(ht,{variant:r.pago?"default":"secondary",children:r.pago?"Sim":"No"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Dias de Atraso"}),a.jsxs("div",{className:"mt-1",children:[r.diasAtraso," dias"]})]})]})})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{className:"text-lg",children:"Valores"})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Original"}),a.jsx("div",{className:"mt-1 text-lg font-semibold",children:s(r.valor)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Efetivo"}),a.jsx("div",{className:"mt-1 text-lg font-semibold",children:r.valorEfetivo?s(r.valorEfetivo):"No informado"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Juros"}),a.jsx("div",{className:"mt-1",children:r.juros?s(r.juros):"R$ 0,00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Mora"}),a.jsx("div",{className:"mt-1",children:r.mora?s(r.mora):"R$ 0,00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor dos Juros"}),a.jsx("div",{className:"mt-1",children:s(r.vrJuros)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor da Mora"}),a.jsx("div",{className:"mt-1",children:s(r.vrMora)})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Total com Correes"}),a.jsx("div",{className:"mt-1 text-xl font-bold text-green-600",children:s(r.valorTotalComCorrecoes)})]})]})})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{className:"text-lg",children:o(r.tipoContrato)})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nome"}),a.jsx("div",{className:"mt-1",children:r.nome})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Documento"}),a.jsx("div",{className:"mt-1",children:r.documento})]})]})})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{className:"text-lg",children:"Contrato"})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Contrato"}),a.jsx("div",{className:"mt-1",children:r.numeroContrato})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID do Contrato"}),a.jsx("div",{className:"mt-1",children:r.contratoId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descrio do Contrato"}),a.jsx("div",{className:"mt-1",children:r.contrato})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tipo do Contrato"}),a.jsx("div",{className:"mt-1",children:r.tipoContrato})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor do Contrato"}),a.jsx("div",{className:"mt-1",children:s(r.valorContrato)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Contrato Ativo"}),a.jsx("div",{className:"mt-1",children:a.jsx(ht,{variant:r.contratoAtivo?"default":"secondary",children:r.contratoAtivo?"Sim":"No"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID do Item do Contrato"}),a.jsx("div",{className:"mt-1",children:r.contratoItemId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Gerar Boleto"}),a.jsx("div",{className:"mt-1",children:a.jsx(ht,{variant:r.gerarBoleto?"default":"secondary",children:r.gerarBoleto?"Sim":"No"})})]})]})})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{className:"text-lg",children:"Descrio"})}),a.jsx(he,{children:a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descrio do Movimento"}),a.jsx("div",{className:"mt-1",children:r.descricao})]})})]}),r.urlComprovante&&a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{className:"text-lg",children:"Comprovante"})}),a.jsx(he,{children:a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Comprovante Disponvel"}),a.jsx("div",{className:"mt-1",children:a.jsx(ht,{variant:"default",children:"Sim"})})]})})]})]})]})})}const Mc={pago:!1,dataPagamento:"",valorEfetivo:0,comprovante:void 0};class bo{static async getFluxoCaixa(t,r){try{return await J(`/fluxo-caixa/${t}/${r}`,{method:"GET"})}catch(n){throw console.error("Erro ao buscar fluxo de caixa:",n),n}}static async gerarDividendos(t,r){try{return await J("/fluxo-caixa/gerar-dividendos",{method:"POST",body:JSON.stringify({mes:t,ano:r})})}catch(n){throw console.error("Erro ao gerar dividendos:",n),n}}static async deletarDividendos(t,r){try{return await J("/fluxo-caixa/deletar-dividendos",{method:"POST",body:JSON.stringify({mes:t,ano:r})})}catch(n){throw console.error("Erro ao deletar dividendos:",n),n}}static async verificarDividendos(t,r){try{return await J("/fluxo-caixa/verificar-dividendos",{method:"POST",body:JSON.stringify({mes:t,ano:r})})}catch(n){throw console.error("Erro ao verificar dividendos:",n),n}}}class sn{static async getCaixaEntidade(t){try{return await J(`/financeiro/caixa-entidade/${t}`)}catch(r){throw console.error("Erro ao buscar caixa da entidade:",r),r}}static async getDividendos(t){try{return await J(`/financeiro/dividendos/${t}`)}catch(r){throw console.error("Erro ao buscar dividendos:",r),r}}static async getTotal(t,r){try{return await J(`/financeiro/total/${t}/${r}`)}catch(n){throw console.error("Erro ao buscar total:",n),n}}static async createDividendo(t){try{return await J("/financeiro/dividendos",{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Erro ao criar dividendo:",r),r}}static async verificarDividendoPago(t,r,n){try{return await J(`/financeiro/dividendo-pago/${t}/${r}/${n}`)}catch(o){throw console.error("Erro ao verificar dividendo pago:",o),o}}}function qF({title:e="Gesto Financeira"}){const[t,r]=m.useState("receitas"),[n,o]=m.useState([]),[i,s]=m.useState([]),[c,l]=m.useState(null),[d,u]=m.useState(null),[f,h]=m.useState(!1),[p,g]=m.useState({page:1,limit:15}),[v,y]=m.useState([]),[x,b]=m.useState(!1),[j,E]=m.useState(null),[S,T]=m.useState(!1),[N,C]=m.useState(null),[M,F]=m.useState(Mc),[P,O]=m.useState(!1),[$,K]=m.useState(1),[Y,re]=m.useState(1),[ce,ue]=m.useState(!1),[X,le]=m.useState(!1),[W,_]=m.useState(""),[w,B]=m.useState(""),[U,Z]=m.useState(null),[me,xe]=m.useState([]),[H,ee]=m.useState(!1),[ne,q]=m.useState((new Date().getMonth()+1).toString()),[V,ie]=m.useState(new Date().getFullYear().toString()),[je,A]=m.useState(0),[de,ze]=m.useState(0),[tr,Ir]=m.useState(!1),[Fu,Bu]=m.useState(!1),[Gi,Yb]=m.useState([]),[Du,Jb]=m.useState([]),[Xb,Lu]=m.useState(!1),[Zb,ro]=m.useState(!1),[Ct,la]=m.useState({mes:"",ano:"",justificativa:"",valor:""}),[Hi,zu]=m.useState(!1),[In,Qb]=m.useState("caixa"),[Yi,ej]=m.useState(null);m.useEffect(()=>{Ji(),rj();const k=Bt.getEntidadeId();Z(k)},[t,p]),m.useEffect(()=>{const k=()=>{const G=Bt.getEntidadeId();Z(G)};if(k(),!U){const G=setTimeout(k,100);return()=>clearTimeout(G)}},[]),m.useEffect(()=>{if(ce){const k=new Date,G=(k.getMonth()+1).toString(),te=k.getFullYear().toString();_(G),B(te)}},[ce,U]),m.useEffect(()=>{t==="caixa-dividendos"&&qu()},[t]);const tj=k=>{const G=Object.keys(k).length===1&&k.status;return Object.keys(k).length===0||Object.keys(k).length===1&&k.status==="all"||G?{orderBy:"data_vencimento",orderDirection:"DESC"}:k.dataVencimentoInicio||k.dataVencimentoFim?{orderBy:"data_vencimento",orderDirection:"DESC"}:k.dataPagamentoInicio||k.dataPagamentoFim?{orderBy:"data_pagamento",orderDirection:"DESC"}:k.dataLancamentoInicio||k.dataLancamentoFim?{orderBy:"data_lancamento",orderDirection:"DESC"}:{orderBy:"data_vencimento",orderDirection:"DESC"}},Ji=async()=>{h(!0);try{const k=tj(p),G={...p,...k};if(t==="receitas"){const te=await we.findReceitas(G);o(te.data),l(te.totalizadores),re(Math.ceil(te.totalizadores.totalRegistros/(p.limit||15))),K(p.page||1)}else{const te=await we.findDespesas(G);s(te.data),u(te.totalizadores),re(Math.ceil(te.totalizadores.totalRegistros/(p.limit||15))),K(p.page||1)}}catch(k){console.error("Erro ao carregar dados:",k),D.error("Erro ao carregar dados")}finally{h(!1)}},rj=async()=>{try{if(t==="receitas"){const k=await we.getReceitasStatus();y(k.status)}else{const k=await we.getDespesasStatus();y(k.status)}}catch(k){console.error("Erro ao carregar status:",k)}},nj=()=>{g({...p,page:1})},aj=()=>{g({page:1,limit:15})},_n=k=>{g({...p,page:k})},oj=()=>{ue(!0)},Xi=async()=>{if(!ne||!V){D.error("Por favor, selecione o ms e ano");return}ee(!0);try{const k=await bo.getFluxoCaixa(parseInt(ne),parseInt(V));if(xe(k.data),k.data.length>0){const G=k.data.find(Te=>Te.descricao.toLowerCase().includes("saldo anterior")),te=k.data[k.data.length-1];A(G?.saldoAcumulado||0),ze(te?.saldoAcumulado||0)}else A(0),ze(0);D.success("Fluxo de caixa carregado com sucesso")}catch(k){console.error("Erro ao carregar fluxo de caixa:",k),D.error("Erro ao carregar fluxo de caixa")}finally{ee(!1)}},ij=async()=>{if(!ne||!V){D.error("Por favor, selecione o ms e ano");return}const k=Bt.getEntidadeId();if(!k){D.error("Entidade no encontrada");return}if(window.confirm("Gerar dividendos para este perodo impedir a gerao de movimento. Deseja prosseguir?")){Ir(!0);try{if((await sn.verificarDividendoPago(k,parseInt(ne),parseInt(V))).existeDividendoPago){D.error("Existe dividendo pago para este perodo ou futuro");return}const Te=await bo.gerarDividendos(parseInt(ne),parseInt(V));Te.sucesso?(D.success(Te.mensagem),await Xi()):D.error(Te.mensagem)}catch(te){console.error("Erro ao gerar dividendos:",te),D.error("Erro ao gerar dividendos")}finally{Ir(!1)}}},sj=async()=>{if(!ne||!V){D.error("Por favor, selecione o ms e ano");return}const k=Bt.getEntidadeId();if(!k){D.error("Entidade no encontrada");return}Bu(!0);try{if((await sn.verificarDividendoPago(k,parseInt(ne),parseInt(V))).existeDividendoPago){D.error("Existe dividendo pago para este perodo ou futuro");return}const te=await bo.deletarDividendos(parseInt(ne),parseInt(V));te.sucesso?(D.success(te.mensagem),await Xi()):D.error(te.mensagem)}catch(G){console.error("Erro ao deletar dividendos:",G),D.error("Erro ao deletar dividendos")}finally{Bu(!1)}},qu=async()=>{const k=Bt.getEntidadeId();if(!k){D.error("Entidade no encontrada");return}Lu(!0);try{const[G,te]=await Promise.all([sn.getCaixaEntidade(k),sn.getDividendos(k)]);Yb(G.data),Jb(te.data)}catch(G){console.error("Erro ao carregar dados de caixa/dividendos:",G),D.error("Erro ao carregar dados de caixa/dividendos")}finally{Lu(!1)}},Uu=(k,G)=>{Qb(k),ej(G),la({mes:"",ano:"",justificativa:"",valor:""}),ro(!0)},cj=async()=>{if(!Ct.mes||!Ct.ano||!Ct.justificativa||!Ct.valor){D.error("Todos os campos so obrigatrios");return}const k=Bt.getEntidadeId();if(!k||!Yi){D.error("Erro ao obter dados da entidade");return}zu(!0);try{const G=parseFloat(Ct.valor),te=parseInt(Ct.mes),Te=parseInt(Ct.ano),mt=In==="caixa"?k:Yi,no=In==="caixa"?"E":"S",da=await sn.getTotal(mt,no);if(G>da.total){D.error("Valor acima do disponvel");return}if((await sn.verificarDividendoPago(k,te,Te)).existeDividendoPago){D.error("Existe dividendo pago para este perodo ou futuro");return}const Xu={destino:In==="caixa"?"E":"S",id:In==="caixa"?k:Yi,mes:te,ano:Te,valor:-G,entidadeId:k,descricao:In==="caixa"?`Retirada de caixa: ${Ct.justificativa}`:`Pagamento de dividendo: ${Ct.justificativa}`};await sn.createDividendo(Xu),D.success("Retirada realizada com sucesso"),ro(!1),qu()}catch(G){console.error("Erro ao realizar retirada:",G),D.error("Erro ao realizar retirada")}finally{zu(!1)}},lj=async()=>{const k=Bt.getEntidadeId();if(!W||!w||!k){D.error("Por favor, selecione ms e ano e verifique se est logado");return}const G=parseInt(W),te=parseInt(w),Te=new Date,mt=Te.getMonth()+1,no=Te.getFullYear();if(te>no||te===no&&G>mt){D.error("No  possvel gerar movimentos para datas futuras");return}try{le(!0);const{existe:da}=await bo.verificarDividendos(G,te);if(da){D.error("No  possvel gerar movimentos. Existem dividendos a partir deste ms/ano."),le(!1);return}const{existe:Ju}=await we.verificarExistenciaMovimento(k,G,te);if(Ju&&!window.confirm(`J existem movimentos para ${G}/${te}. Deseja refazer os movimentos?`)){le(!1);return}await we.gerarMovimento({entidadeId:k,mes:G,ano:te}),D.success(`Movimentos gerados com sucesso para ${G}/${te}`),ue(!1),Ji()}catch(da){console.error("Erro ao gerar movimento:",da),D.error("Erro ao gerar movimento")}finally{le(!1)}},Vu=k=>{E(k),F({pago:k.pago,dataPagamento:k.pago&&k.dataPagamento||"",valorEfetivo:k.pago&&(k.valorEfetivo||k.valor)||0,comprovante:void 0}),b(!0)},Wu=async k=>{try{const G=k.split("/").pop()?.split(".")[0];if(!G){D.error("UUID do comprovante no encontrado");return}const te=await we.downloadComprovante(G),Te=window.URL.createObjectURL(te),mt=document.createElement("a");mt.href=Te,mt.download=k.split("/").pop()||"comprovante",document.body.appendChild(mt),mt.click(),window.URL.revokeObjectURL(Te),document.body.removeChild(mt),D.success("Comprovante baixado com sucesso")}catch(G){console.error("Erro ao baixar comprovante:",G),D.error("Erro ao baixar comprovante")}},Ku=k=>{C(k),T(!0)},dj=async k=>{if(j){O(!0);try{if(await we.updatePagamento(j.movimentoId,{pago:k.pago,dataPagamento:k.pago&&k.dataPagamento||void 0,valorEfetivo:k.pago&&k.valorEfetivo||0}),k.comprovante){const G=await uj(k.comprovante),te=k.comprovante.name.split(".").pop()?.toLowerCase();await we.uploadComprovante(j.movimentoId,{arquivo:G,nomeArquivo:k.comprovante.name,tipoArquivo:te})}D.success("Movimento atualizado com sucesso"),b(!1),E(null),F(Mc),await Ji()}catch(G){console.error("Erro ao atualizar movimento:",G),D.error("Erro ao atualizar movimento")}finally{O(!1)}}},uj=k=>new Promise((G,te)=>{const Te=new FileReader;Te.readAsDataURL(k),Te.onload=()=>{const mt=Te.result;G(mt.split(",")[1])},Te.onerror=mt=>te(mt)}),Gu=k=>{const G=we.getStatusColor(k);return a.jsx(ht,{className:G,children:k})},fj=[{key:"status",header:"Status",render:k=>Gu(k.status)},{key:"dataVencimento",header:"Venc./Quitao",render:k=>{const G=k.status==="PAGO"?k.dataPagamento:k.dataVencimento;return we.formatDate(G||"")}},{key:"valor",header:"Valor",render:k=>we.formatCurrency(k.valor)},{key:"valorTotalComCorrecoes",header:"Vr. Atualizado",render:k=>we.formatCurrency(k.valorTotalComCorrecoes)},{key:"nome",header:"Nome"},{key:"numeroContrato",header:"Contrato"},{key:"descricao",header:"Descrio"},{key:"actions",header:"Aes",render:k=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>Ku(k),children:a.jsx(tf,{className:"h-4 w-4"})}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>Vu(k),children:a.jsx(qr,{className:"h-4 w-4"})}),k.urlComprovante&&a.jsx(z,{variant:"outline",size:"sm",onClick:()=>Wu(k.urlComprovante),title:"Baixar comprovante",children:a.jsx(ef,{className:"h-4 w-4"})})]})}],hj=[{key:"status",header:"Status",render:k=>Gu(k.status)},{key:"dataVencimento",header:"Venc./Quitao",render:k=>{const G=k.status==="PAGO"?k.dataPagamento:k.dataVencimento;return we.formatDate(G||"")}},{key:"valor",header:"Valor",render:k=>we.formatCurrency(k.valor)},{key:"valorTotalComCorrecoes",header:"Vr. Atualizado",render:k=>we.formatCurrency(k.valorTotalComCorrecoes)},{key:"nome",header:"Fornecedor"},{key:"numeroContrato",header:"Contrato"},{key:"descricao",header:"Descrio"},{key:"actions",header:"Aes",render:k=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>Ku(k),children:a.jsx(tf,{className:"h-4 w-4"})}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>Vu(k),children:a.jsx(qr,{className:"h-4 w-4"})}),k.urlComprovante&&a.jsx(z,{variant:"outline",size:"sm",onClick:()=>Wu(k.urlComprovante),title:"Baixar comprovante",children:a.jsx(ef,{className:"h-4 w-4"})})]})}],Hu=t==="receitas"?n:i,Yu=t==="receitas"?fj:hj,ot=t==="receitas"?c:d;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-bold text-white",children:e})}),t!=="fluxo-caixa"&&t!=="caixa-dividendos"&&a.jsx(BF,{filters:p,setFilters:g,statusOptions:v,onSearch:nj,onClear:aj,onGerarMovimento:oj,isLoading:f}),a.jsxs(tn,{value:t,onValueChange:k=>r(k),children:[a.jsxs(rn,{className:"grid w-full grid-cols-4",children:[a.jsxs(pe,{value:"receitas",className:"flex items-center gap-2",children:[a.jsx(wo,{className:"h-4 w-4"}),"Receitas"]}),a.jsxs(pe,{value:"despesas",className:"flex items-center gap-2",children:[a.jsx(dw,{className:"h-4 w-4"}),"Despesas"]}),a.jsxs(pe,{value:"fluxo-caixa",className:"flex items-center gap-2",children:[a.jsx(Qu,{className:"h-4 w-4"}),"Fluxo de Caixa"]}),a.jsxs(pe,{value:"caixa-dividendos",className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-4 w-4"}),"Caixa/Dividendos"]})]}),a.jsxs(ve,{value:"receitas",className:"space-y-4",children:[ot&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Total"}),a.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:we.formatCurrency(ot.valorTotal)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ot.totalRegistros," registros"]})]})]}),a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:t==="receitas"?"Recebido":"Pago"}),a.jsx(wo,{className:"h-4 w-4 text-green-600"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:we.formatCurrency(ot.valorRecebido||ot.valorPago||0)})})]}),a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Em Aberto"}),a.jsx(jo,{className:"h-4 w-4 text-yellow-600"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:we.formatCurrency(ot.valorEmAberto)})})]}),a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Com Correes"}),a.jsx(Rr,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:we.formatCurrency(ot.valorTotalComCorrecoes)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Juros:"," ",we.formatCurrency(ot.totalJuros)," ","| Mora:"," ",we.formatCurrency(ot.totalMora)]})]})]})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsxs(ye,{children:["Lista de ",t==="receitas"?"Receitas":"Despesas"]})}),a.jsx(he,{children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(qe,{className:"h-8 w-8 animate-spin"})}):a.jsx(Ba,{title:"",data:Hu,columns:Yu,keyExtractor:k=>k.movimentoId})})]}),Y>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>_n($-1),disabled:$===1||f,children:[a.jsx(Pa,{className:"h-4 w-4"}),"Anterior"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Y)},(k,G)=>{let te;return Y<=5||$<=3?te=G+1:$>=Y-2?te=Y-4+G:te=$-2+G,a.jsx(z,{variant:$===te?"default":"outline",size:"sm",onClick:()=>_n(te),disabled:f,className:"w-8 h-8 p-0",children:te},te)})}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>_n($+1),disabled:$===Y||f,children:["Prxima",a.jsx(Sa,{className:"h-4 w-4"})]})]})]}),a.jsxs(ve,{value:"despesas",className:"space-y-4",children:[ot&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Total"}),a.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:we.formatCurrency(ot.valorTotal)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ot.totalRegistros," registros"]})]})]}),a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Pago"}),a.jsx(wo,{className:"h-4 w-4 text-green-600"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:we.formatCurrency(ot.valorPago||0)})})]}),a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Em Aberto"}),a.jsx(jo,{className:"h-4 w-4 text-yellow-600"})]}),a.jsx(he,{children:a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:we.formatCurrency(ot.valorEmAberto)})})]}),a.jsxs(fe,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Com Correes"}),a.jsx(Rr,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:we.formatCurrency(ot.valorTotalComCorrecoes)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Juros:"," ",we.formatCurrency(ot.totalJuros)," ","| Mora:"," ",we.formatCurrency(ot.totalMora)]})]})]})]}),a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{children:"Lista de Despesas"})}),a.jsx(he,{children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(qe,{className:"h-8 w-8 animate-spin"})}):a.jsx(Ba,{title:"",data:Hu,columns:Yu,keyExtractor:k=>k.movimentoId})})]}),Y>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>_n($-1),disabled:$===1||f,children:[a.jsx(Pa,{className:"h-4 w-4"}),"Anterior"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Y)},(k,G)=>{let te;return Y<=5||$<=3?te=G+1:$>=Y-2?te=Y-4+G:te=$-2+G,a.jsx(z,{variant:$===te?"default":"outline",size:"sm",onClick:()=>_n(te),disabled:f,className:"w-8 h-8 p-0",children:te},te)})}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>_n($+1),disabled:$===Y||f,children:["Prxima",a.jsx(Sa,{className:"h-4 w-4"})]})]})]}),a.jsxs(ve,{value:"fluxo-caixa",className:"space-y-4",children:[a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsx(ye,{children:"Consulta de Fluxo de Caixa"})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"mes-fluxo",children:"Ms"}),a.jsxs(Me,{value:ne,onValueChange:q,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o ms"})}),a.jsxs(Fe,{children:[a.jsx(se,{value:"1",children:"Janeiro"}),a.jsx(se,{value:"2",children:"Fevereiro"}),a.jsx(se,{value:"3",children:"Maro"}),a.jsx(se,{value:"4",children:"Abril"}),a.jsx(se,{value:"5",children:"Maio"}),a.jsx(se,{value:"6",children:"Junho"}),a.jsx(se,{value:"7",children:"Julho"}),a.jsx(se,{value:"8",children:"Agosto"}),a.jsx(se,{value:"9",children:"Setembro"}),a.jsx(se,{value:"10",children:"Outubro"}),a.jsx(se,{value:"11",children:"Novembro"}),a.jsx(se,{value:"12",children:"Dezembro"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"ano-fluxo",children:"Ano"}),a.jsx(R,{id:"ano-fluxo",type:"number",value:V,onChange:k=>ie(k.target.value),min:"2020",max:"2030"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{children:""}),a.jsx(z,{onClick:Xi,disabled:H||!ne||!V,className:"w-full",children:H?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Carregando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Consultar"]})})]}),a.jsxs(fe,{className:"bg-gray-50 border-gray-200 dark:bg-gray-900 dark:border-gray-700",children:[a.jsx(ge,{className:"pb-1 pt-1",children:a.jsx(ye,{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Dividendos"})}),a.jsxs(he,{className:"pt-0 pb-1 space-y-2",children:[a.jsx(z,{onClick:ij,disabled:tr||!ne||!V,className:"w-full bg-green-600 hover:bg-green-700 text-xs h-8",children:tr?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-3 w-3 animate-spin mr-1"}),"Gerando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Rr,{className:"h-3 w-3 mr-1"}),"Gerar"]})}),a.jsx(z,{onClick:sj,disabled:Fu||!ne||!V,className:"w-full bg-red-600 hover:bg-red-700 text-xs h-8",children:Fu?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-3 w-3 animate-spin mr-1"}),"Removendo..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jo,{className:"h-3 w-3 mr-1"}),"Remover"]})})]})]}),a.jsxs(fe,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:[a.jsx(ge,{className:"pb-1 pt-1",children:a.jsx(ye,{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Saldo Inicial"})}),a.jsx(he,{className:"pt-0 pb-1",children:a.jsxs("div",{className:`text-lg font-bold ${je>=0?"text-green-600":"text-red-600"}`,children:["R$"," ",je.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),a.jsxs(fe,{className:"bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800",children:[a.jsx(ge,{className:"pb-1 pt-1",children:a.jsx(ye,{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Saldo Final"})}),a.jsx(he,{className:"pt-0 pb-1",children:a.jsxs("div",{className:`text-lg font-bold ${de>=0?"text-green-600":"text-red-600"}`,children:["R$"," ",de.toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]})]})})]}),me.length>0&&a.jsxs(fe,{children:[a.jsx(ge,{children:a.jsxs(ye,{children:["Fluxo de Caixa - ",ne,"/",V]})}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:me.map((k,G)=>{const te=k.descricao.toLowerCase().includes("saldo anterior"),Te=G===me.length-1;return a.jsxs("div",{className:`p-4 rounded-lg border ${te||Te?"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800":"bg-gray-50 border-gray-200 dark:bg-gray-900 dark:border-gray-700"}`,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:k.descricao}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(k.dtMovimento).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-sm font-medium text-green-600",children:["R$"," ",k.entrada.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Entrada"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-sm font-medium text-red-600",children:["R$"," ",k.saida.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Sada"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-sm font-medium ${k.saldoDia>=0?"text-green-600":"text-red-600"}`,children:["R$"," ",k.saldoDia.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Saldo Dia"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-sm font-bold ${k.saldoAcumulado>=0?"text-green-600":"text-red-600"}`,children:["R$"," ",k.saldoAcumulado.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Saldo Acumulado"})]})]}),(te||Te)&&a.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400 font-medium",children:te?"Saldo Anterior":"Saldo Atual"})]},G)})})})]})]}),a.jsx(ve,{value:"caixa-dividendos",className:"space-y-4",children:a.jsx(fe,{className:"bg-gray-50 border-gray-200 dark:bg-gray-500 dark:border-gray-700",children:a.jsx(he,{className:"bg-graye",children:Xb?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(qe,{className:"h-8 w-8 animate-spin mr-2"}),a.jsx("span",{children:"Carregando dados..."})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Caixa da Entidade"}),Gi.length>0?a.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full min-h-[80px]",children:[a.jsx("thead",{className:"bg-gray-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-900",children:"Data"}),a.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-900",children:"Descrio"}),a.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-900",children:"Valor"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Gi.map((k,G)=>{const te=G===Gi.length-1,Te=k.dataMov==="Total",mt=te&&Te&&k.valor>0;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.dataMov}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-pre-wrap max-w-xs",children:k.descricao||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-green-900",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("span",{children:["R$"," ",k.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),mt&&a.jsx(z,{size:"sm",className:"h-6 w-6 p-0 bg-red-500",onClick:()=>Uu("caixa",k.entidadeId),title:"Retirada de caixa",children:a.jsx(nf,{className:"h-3 w-3"})})]})})]},G)})})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500 bg-white border rounded-lg",children:"Nenhum dado de caixa encontrado"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Dividendos por Scios"}),Du.length>0?a.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full min-h-[80px]",children:[a.jsx("thead",{className:"bg-gray-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-900",children:"Nome"}),a.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-900",children:"Data"}),a.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-900",children:"Descrio"}),a.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-900",children:"Valor"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Du.map((k,G)=>{const Te=k.dataMov==="Total"&&k.valor>0;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.nome}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.dataMov}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-pre-wrap max-w-xs",children:k.descricao||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium text-green-900",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("span",{children:["R$"," ",k.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),Te&&a.jsx(z,{size:"sm",className:"h-6 w-6 p-0 bg-red-500",onClick:()=>Uu("dividendo",k.id),title:"Retirada de dividendo",children:a.jsx(nf,{className:"h-3 w-3"})})]})})]},G)})})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500 bg-white border rounded-lg",children:"Nenhum dado de dividendos encontrado"})]})]})})})})]}),a.jsx(Ue,{open:x,onOpenChange:b,children:a.jsxs(Ve,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Editar Movimento"}),a.jsx(Ye,{children:"Atualize as informaes de pagamento e comprovante do movimento."})]}),a.jsx(DF,{formData:M,setFormData:F,isLoading:P,onSubmit:dj,onCancel:()=>{b(!1),E(null),F(Mc)},movimento:j})]})}),a.jsx(Ue,{open:ce,onOpenChange:ue,children:a.jsxs(Ve,{className:"max-w-md",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:"Gerar Movimento"}),a.jsx(Ye,{children:"Selecione o ms e ano para gerar os movimentos financeiros."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"mes",children:"Ms"}),a.jsxs(Me,{value:W,onValueChange:_,children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o ms"})}),a.jsx(Fe,{children:Array.from({length:12},(k,G)=>G+1).map(k=>a.jsx(se,{value:k.toString(),children:k.toString().padStart(2,"0")},k))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"ano",children:"Ano"}),a.jsx(R,{type:"number",value:w,onChange:k=>B(k.target.value),placeholder:"Ex: 2024",min:"2020",max:new Date().getFullYear()})]})]}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>ue(!1),disabled:X,children:"Cancelar"}),a.jsx(z,{onClick:lj,disabled:X||!W||!w,children:X?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):"Gerar Movimento"})]})]})}),a.jsx(Ue,{open:Zb,onOpenChange:ro,children:a.jsxs(Ve,{className:"max-w-md",children:[a.jsxs(We,{children:[a.jsx(Ke,{children:In==="caixa"?"Retirada de Caixa":"Retirada de Dividendo"}),a.jsx(Ye,{children:"Preencha os dados para realizar a retirada"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"mes-retirada",children:"Ms"}),a.jsxs(Me,{value:Ct.mes,onValueChange:k=>la(G=>({...G,mes:k})),children:[a.jsx(Re,{children:a.jsx($e,{placeholder:"Selecione o ms"})}),a.jsx(Fe,{children:Array.from({length:12},(k,G)=>G+1).map(k=>a.jsx(se,{value:k.toString(),children:k.toString().padStart(2,"0")},k))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"ano-retirada",children:"Ano"}),a.jsx(R,{id:"ano-retirada",type:"number",value:Ct.ano,onChange:k=>la(G=>({...G,ano:k.target.value})),placeholder:"Ex: 2024",min:"2020",max:"2030"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"valor-retirada",children:"Valor"}),a.jsx(R,{id:"valor-retirada",type:"number",step:"0.01",value:Ct.valor,onChange:k=>la(G=>({...G,valor:k.target.value})),placeholder:"0,00",min:"0.01"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(I,{htmlFor:"justificativa-retirada",children:"Justificativa"}),a.jsx(R,{id:"justificativa-retirada",value:Ct.justificativa,onChange:k=>la(G=>({...G,justificativa:k.target.value})),placeholder:"Descreva o motivo da retirada"})]})]}),a.jsxs(gt,{children:[a.jsx(z,{variant:"outline",onClick:()=>ro(!1),disabled:Hi,children:"Cancelar"}),a.jsx(z,{onClick:cj,disabled:Hi,children:Hi?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-4 w-4 animate-spin mr-2"}),"Processando..."]}):"Confirmar Retirada"})]})]})}),a.jsx(zF,{isOpen:S,onClose:()=>{T(!1),C(null)},movimento:N,tipo:t==="receitas"?"receita":"despesa"})]})}function vB({activeTab:e}){const{userName:t,userEntidade:r,logout:n}=rv(),o=pj(),i=vj(),[s,c]=m.useState(e||"overview"),[l,d]=m.useState(!1),[u,f]=m.useState([]),[h,p]=m.useState(!1),[g,v]=m.useState([]),[y,x]=m.useState(!1),[b,j]=m.useState([]),[E,S]=m.useState(!1);m.useEffect(()=>{d(!0)},[]);const T=async()=>{p(!0);try{const W=await yw.getContratosAtivos();f(W.data)}catch(W){console.error("Erro ao carregar contratos ativos:",W)}finally{p(!1)}},N=async()=>{x(!0);try{const W=await xw.getDashboard();v(W.data)}catch(W){console.error("Erro ao carregar dados do dashboard:",W)}finally{x(!1)}},C=async()=>{S(!0);try{const W=await bw.getReceitasDespesasAnual();j(W.data)}catch(W){console.error("Erro ao carregar dados de receitas e despesas:",W)}finally{S(!1)}};m.useEffect(()=>{s==="overview"&&(T(),N(),C())},[s]),m.useEffect(()=>{if(e){c(e);return}const W=i.pathname;if(W.includes("/customers")){c("customers");return}if(W==="/business-partners"){c("business-partners");return}if(W.includes("/reports")){c("reports");return}if(W.includes("/users")){c("users");return}if(W==="/partners"){c("Scios");return}if(W.includes("/management")){c("Gesto Financeira");return}if(W.includes("/entity")){c("Entidades");return}if(W.includes("/contratos")){c("contratos");return}c("overview")},[e,i.pathname]);const M=u.reduce((W,_)=>W+_.contratos,0),F=()=>{const W=g.find(_=>_.tipo==="R"&&_.status==="A");return W?{valor:W.valorMesAtual,diferenca:W.diferencaPercentual,cont:W.cont}:{valor:0,diferenca:0,cont:0}},P=()=>{const W=g.find(_=>_.tipo==="R"&&_.status==="P");return W?{valor:W.valorMesAtual,diferenca:W.diferencaPercentual,cont:W.cont}:{valor:0,diferenca:0,cont:0}},O=()=>{const W=g.find(_=>_.tipo==="D"&&_.status==="A");return W?{valor:W.valorMesAtual,diferenca:W.diferencaPercentual,cont:W.cont}:{valor:0,diferenca:0,cont:0}},$=W=>W>=1e6?`R$ ${(W/1e6).toFixed(1)}M`:W>=1e3?`R$ ${(W/1e3).toFixed(1)}k`:`R$ ${W.toFixed(2)}`,K=W=>`${W>=0?"+":""}${W.toFixed(1)}%`,re=(()=>{const W={};return b.forEach(_=>{W[_.mesAno]||(W[_.mesAno]={mes:_.nomeMes,receitas:0,despesas:0}),_.tipo==="R"?W[_.mesAno].receitas+=_.valor:_.tipo==="D"&&(W[_.mesAno].despesas+=_.valor)}),Object.values(W).sort((_,w)=>{const B=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return B.indexOf(_.mes)-B.indexOf(w.mes)})})(),ce=F(),ue=P(),X=O(),le=[{title:"Contratos Ativos",value:h?"...":M.toString(),description:h?"Carregando...":u.map(W=>`${W.tipo} ${W.contratos}`).join(", "),icon:Fr,trend:"up",color:"bg-blue-100 border-blue-200 dark:bg-blue-400 dark:border-blue-800",iconColor:"text-blue-600 dark:text-blue-400"},{title:"Recebimentos em aberto",value:y?"...":$(ce.valor),description:y?"Carregando...":`${K(ce.diferenca)} em relao ao ms anterior`,icon:Rr,trend:ce.diferenca>=0?"up":"down",color:"bg-orange-100 border-orange-200 dark:bg-orange-400 dark:border-orange-800",iconColor:"text-orange-600 dark:text-orange-400"},{title:"Recebimentos efetivados",value:y?"...":$(ue.valor),description:y?"Carregando...":`${K(ue.diferenca)} em relao ao ms anterior`,icon:Rr,trend:ue.diferenca>=0?"up":"down",color:"bg-green-100 border-green-200 dark:bg-green-300 dark:border-green-800",iconColor:"text-green-600 dark:text-green-400"},{title:"Pagamentos em aberto",value:y?"...":`${$(X.valor)} (${X.cont} ${X.cont===1?"fatura":"faturas"})`,description:y?"Carregando...":`${K(X.diferenca)} em relao ao ms anterior`,icon:qn,trend:X.diferenca>=0?"up":"down",color:"bg-red-100 border-red-200 dark:bg-red-300 dark:border-red-800",iconColor:"text-red-600 dark:text-red-400"}];return a.jsxs("div",{className:"min-h-screen bg-blue-500",children:[a.jsx("header",{className:"bg-blue-100 shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(qn,{className:"h-8 w-8 text-primary"}),a.jsx("h1",{className:"text-xl font-semibold font-nexa-bold",children:"CT One - Gesto ClinicaTech"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[t," - ",r]}),a.jsxs(z,{variant:"default",size:"sm",onClick:n,children:[a.jsx(rw,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 bg-blue-900 mt-5",children:a.jsxs(tn,{value:s,onValueChange:W=>{c(W),o(`/main/${W}`)},children:[a.jsxs(rn,{className:`grid w-full h-18 ${l?"grid-cols-6":"grid-cols-5"}`,children:[a.jsx(pe,{value:"overview",children:"Viso Geral"}),a.jsx(pe,{value:"customers",children:"Clientes"}),a.jsx(pe,{value:"business-partners",children:"Parceiros"}),l&&a.jsx(pe,{value:"users",children:"Usurios"}),a.jsx(pe,{value:"partners",children:"Scios"}),a.jsx(pe,{value:"entity",children:"Entidades"}),a.jsx(pe,{value:"management",children:"Gesto Financeira"}),a.jsx(pe,{value:"contratos",children:"Contratos"}),a.jsx(pe,{value:"reports",children:"Relatrios"})]}),a.jsx(ve,{value:"overview",className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6 font-montserrat-medium text-white",children:"Viso Geral"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:le.map(W=>a.jsxs(fe,{className:W.color,children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:W.title}),a.jsx(W.icon,{className:`h-4 w-4 ${W.iconColor}`})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:W.value}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[W.trend==="up"&&a.jsx(wo,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{children:W.description})]})]})]},W.title))}),a.jsxs(fe,{children:[a.jsxs(ge,{children:[a.jsx(ye,{children:"Receitas vs Despesas"}),a.jsx(Fj,{children:"Evoluo mensal dos valores financeiros"})]}),a.jsx(he,{children:E?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]})}):re.length>0?a.jsx(yI,{width:"100%",height:300,children:a.jsxs(DR,{data:re,style:{backgroundColor:"#2f404f",borderRadius:"8px",border:"2px solid #030b1a"},children:[a.jsx(d0,{strokeDasharray:"3 3",stroke:"#374151"}),a.jsx(hu,{dataKey:"mes",tick:{fontSize:12,fill:"#d1d5db"},angle:-45,textAnchor:"end",height:60,axisLine:{stroke:"#6b7280"}}),a.jsx(mu,{tick:{fontSize:12,fill:"#d1d5db"},tickFormatter:W=>`R$ ${(W/1e3).toFixed(0)}k`,axisLine:{stroke:"#6b7280"}}),a.jsx(cI,{contentStyle:{backgroundColor:"#374151",border:"1px solid #6b7280",borderRadius:"6px",color:"#f9fafb"},formatter:W=>[`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,""],labelFormatter:W=>`Ms: ${W}`}),a.jsx(ji,{wrapperStyle:{color:"#d1d5db"}}),a.jsx(Cl,{type:"monotone",dataKey:"receitas",stroke:"#22c55e",strokeWidth:2,name:"Receitas",dot:{fill:"#22c55e",strokeWidth:2,r:4}}),a.jsx(Cl,{type:"monotone",dataKey:"despesas",stroke:"#ef4444",strokeWidth:2,name:"Despesas",dot:{fill:"#ef4444",strokeWidth:2,r:4}})]})}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum dado disponvel"})})})})]})]})}),a.jsx(ve,{value:"customers",children:a.jsx(bF,{title:"Cadastro de Clientes"})}),a.jsx(ve,{value:"business-partners",className:"space-y-6",children:a.jsx(CF,{title:"Cadastro de Parceiros"})}),a.jsx(ve,{value:"reports",className:"space-y-6",children:a.jsx(hF,{title:"Relatrios"})}),a.jsx(ve,{value:"partners",className:"space-y-6",children:a.jsx(xF,{title:"Cadastro de Scios"})}),a.jsx(ve,{value:"entity",className:"space-y-6",children:a.jsx(fF,{title:"Cadastro de Entidades"})}),a.jsx(ve,{value:"management",className:"space-y-6",children:a.jsx(qF,{title:"Gesto Financeira"})}),a.jsx(ve,{value:"contratos",className:"space-y-6",children:a.jsx($F,{})}),a.jsx(ve,{value:"users",className:"space-y-6",children:l?a.jsx(FF,{title:"Cadastro de Usurios"}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Acesso Negado"}),a.jsx("p",{className:"text-gray-600",children:"Apenas administradores podem acessar esta funcionalidade."})]})})]})})]})}export{vB as MainPage};
//# sourceMappingURL=Main-DTiElnNE.js.map
